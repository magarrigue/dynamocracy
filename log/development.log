

Processing ApplicationController#index (for 127.0.0.1 at 2010-07-27 13:38:00) [GET]

NameError (undefined local variable or method `inherits_resources' for ProposalsController:Class):
  app/controllers/proposals_controller.rb:2

Rendered rescues/_trace (27.7ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:38:09) [GET]
  [4;36;1mProposal Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: proposals: SELECT * FROM "proposals" [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: proposals: SELECT * FROM "proposals" ):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:23:in `collection'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'

Rendered rescues/_trace (37.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProposals (20100727113323)
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727113323')[0m
Migrating to CreateVotes (20100727113405)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727113405')[0m
Migrating to CreateSignatures (20100727113436)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727113436')[0m
Migrating to CreateUsers (20100727113534)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:38:27) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m

ActionView::MissingTemplate (Missing template proposals/index.erb in view path app/views):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:39:29) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 26ms (View: 23, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:40:18) [GET]
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:40:36) [GET]
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined local variable or method `new_proposal_path' for #<ActionView::Base:0x178c534>) on line #7 of app/views/proposals/index.html.haml:
4: - @proposals.each do |proposal|
5:   %li=h proposal.inspect
6:   
7: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:40:47) [GET]
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:41:00) [GET]
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:41:02) [GET]

ActionView::MissingTemplate (Missing template proposals/new.erb in view path app/views):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:41:46) [GET]
Rendering proposals/new
Completed in 185ms (View: 181, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:41:50) [GET]
Rendering proposals/new
Completed in 31ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:42:06) [GET]
Rendering proposals/new
Completed in 31ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:43:05) [GET]
Rendering proposals/new
Completed in 94ms (View: 90, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:43:13) [GET]
Rendering proposals/new
Completed in 27ms (View: 24, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:44:20) [GET]
Rendering proposals/new
Completed in 27ms (View: 24, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:44:22) [GET]
Rendering proposals/new
Completed in 27ms (View: 24, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 13:44:36) [GET]
Rendering proposals/new
Completed in 93ms (View: 90, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-27 13:44:41) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal"=>{"status"=>"sdfsdf", "text"=>"sdfsdf", "opening_at(1i)"=>"", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>"", "closing_at(4i)"=>"", "closing_at(5i)"=>""}}
WARNING: Can't mass-assign these protected attributes: status
  [4;36;1mProposal Create (0.5ms)[0m   [0;1mINSERT INTO "proposals" ("status", "closing_at", "updated_at", "text", "opening_at", "created_at") VALUES(NULL, NULL, '2010-07-27 11:44:41', 'sdfsdf', NULL, '2010-07-27 11:44:41')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 14ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:44:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

ActionView::MissingTemplate (Missing template proposals/show.erb in view path app/views):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:46:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:46:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:46:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:47:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:47:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 86ms (View: 82, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:47:29) [GET]
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:50:37) [GET]
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:50:39) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:50:40) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:50:40) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:50:40) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:04) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (proposal_url failed to generate from {:action=>"show", :controller=>"proposals"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["proposals", :id] - are they all satisfied?) on line #5 of app/views/proposals/index.html.haml:
2: 
3: %ul
4: - @proposals.each do |proposal|
5:   %li=link_to h(proposal.inspect), proposal_path(@proposal)
6:   
7: = link_to 'New proposal', new_proposal_path

    (eval):17:in `proposal_path'
    app/views/proposals/index.html.haml:5:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (118.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:20) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (proposal_url failed to generate from {:action=>"show", :controller=>"proposals", :id=>nil}, expected: {:action=>"show", :controller=>"proposals"}, diff: {:id=>nil}) on line #5 of app/views/proposals/index.html.haml:
2: 
3: %ul
4: - @proposals.each do |proposal|
5:   %li=link_to h(proposal.inspect), proposal_path(:id => @proposal)
6:   
7: = link_to 'New proposal', new_proposal_path

    (eval):17:in `proposal_path'
    app/views/proposals/index.html.haml:5:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:32) [GET]
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (proposal_url failed to generate from {:action=>"show", :controller=>"proposals", :id=>nil}, expected: {:action=>"show", :controller=>"proposals"}, diff: {:id=>nil}) on line #5 of app/views/proposals/index.html.haml:
2: 
3: %ul
4: - @proposals.each do |proposal|
5:   %li=link_to(h(proposal.inspect), proposal_path(:id => @proposal))
6:   
7: = link_to 'New proposal', new_proposal_path

    (eval):17:in `proposal_path'
    app/views/proposals/index.html.haml:5:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (44.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:36) [GET]
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:48) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:51:57) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (proposal_url failed to generate from {:action=>"show", :controller=>"proposals"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["proposals", :id] - are they all satisfied?) on line #5 of app/views/proposals/index.html.haml:
2: 
3: %ul
4: - @proposals.each do |proposal|
5:   %li=link_to('show', proposal_path(@proposal))
6:   
7: = link_to 'New proposal', new_proposal_path

    (eval):17:in `proposal_path'
    app/views/proposals/index.html.haml:5:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:52:27) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:52:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show

ActionView::TemplateError (undefined method `new_proposal_vote' for #<ActionView::Base:0x23d9468>) on line #8 of app/views/proposals/show.html.haml:
5:     %li
6:       %span= Proposal.human_attribute_name key
7:       %span= value
8: = link_to 'Vote on this proposal', new_proposal_vote(@proposal)
9: 
10: 
11: = link_to 'Back to list', proposals_path

    app/views/proposals/show.html.haml:8:in `_run_haml_app47views47proposals47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (117.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:52:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:52:51) [GET]
  Parameters: {"proposal_id"=>"1"}

ActionController::UnknownAction (No action responded to new. Actions: create, index, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:53:00) [GET]
  Parameters: {"proposal_id"=>"1"}

ActionView::MissingTemplate (Missing template votes/new.erb in view path app/views):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:53:39) [GET]
  Parameters: {"proposal_id"=>"1"}
Rendering votes/new
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:54:02) [GET]
  Parameters: {"proposal_id"=>"1"}
Rendering votes/new

ActionView::TemplateError (undefined method `votes_path' for #<ActionView::Base:0x23091f0>) on line #3 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for @vote do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (118.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:54:40) [GET]
  Parameters: {"proposal_id"=>"1"}
Rendering votes/new

ActionView::TemplateError (undefined method `votes_path' for #<ActionView::Base:0x252cd60>) on line #3 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for @vote, proposal_votes_path do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:55:00) [GET]
  Parameters: {"proposal_id"=>"1"}
Rendering votes/new

ActionView::TemplateError (undefined method `proposals_votes_path' for #<ActionView::Base:0x28849f4>) on line #3 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for [:proposals, @vote] do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:55:05) [GET]
  Parameters: {"proposal_id"=>"1"}
Rendering votes/new
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 13:56:11) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "comment"=>"asldkjfaskdfjas"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"1"}
  [4;36;1mVote Create (0.5ms)[0m   [0;1mINSERT INTO "votes" ("updated_at", "value", "user_id", "comment", "created_at") VALUES('2010-07-27 11:56:11', 'oui', NULL, 'asldkjfaskdfjas', '2010-07-27 11:56:11')[0m

NoMethodError (undefined method `vote_url' for #<VotesController:0x1a3176c>):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `redirect_to'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:149:in `navigation_behavior'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (108.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 13:57:04) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "comment"=>"asldkjfaskdfjas"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `votes' for #<Proposal:0x25725b8>):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:164:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:164:in `end_of_association_chain'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `build_resource'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:31:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 13:57:15) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "comment"=>"asldkjfaskdfjas"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("updated_at", "value", "user_id", "comment", "created_at") VALUES('2010-07-27 11:57:15', 'oui', NULL, 'asldkjfaskdfjas', '2010-07-27 11:57:15')[0m
Redirected to http://localhost:3000/proposals/1/votes/2
Completed in 15ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:57:16) [GET]
  Parameters: {"id"=>"2", "proposal_id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: votes.proposal_id: SELECT * FROM "votes" WHERE ("votes"."id" = 2 AND ("votes".proposal_id = 1)) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: votes.proposal_id: SELECT * FROM "votes" WHERE ("votes"."id" = 2 AND ("votes".proposal_id = 1)) ):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (115.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "votes" ADD "proposal_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727115743')[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("votes")[0m


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:57:56) [GET]
  Parameters: {"id"=>"2", "proposal_id"=>"1"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 2 AND ("votes".proposal_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Vote with ID=2 AND ("votes".proposal_id = 1)):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (29.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:58:26) [GET]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:58:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:58:28) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 13:58:32) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "comment"=>"blabla"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("updated_at", "value", "user_id", "proposal_id", "comment", "created_at") VALUES('2010-07-27 11:58:32', 'oui', NULL, 1, 'blabla', '2010-07-27 11:58:32')[0m
Redirected to http://localhost:3000/proposals/1/votes/3
Completed in 15ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:58:32) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 1)) [0m

ActionView::MissingTemplate (Missing template votes/show.erb in view path app/views):
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105:in `retrieve_response_from_mimes'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:58:59) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/1/votes/3]


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:59:10) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/1/votes/3]


Processing VotesController#show (for 127.0.0.1 at 2010-07-27 13:59:12) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"1"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/proposals/1/votes/3]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 13:59:31) [GET]
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 5ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 13:59:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 13:59:44) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/1/votes/new]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 14:10:15) [GET]
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-27 14:10:16) [GET]
Rendering proposals/new
Completed in 27ms (View: 24, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-27 14:11:41) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal"=>{"status"=>"", "text"=>"c'est dans longtemps", "opening_at(1i)"=>"2012", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>"", "closing_at(4i)"=>"", "closing_at(5i)"=>""}}
WARNING: Can't mass-assign these protected attributes: status
Rendering proposals/new
Completed in 34ms (View: 23, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-27 14:12:22) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal"=>{"status"=>"", "text"=>"c'est dans longtemps", "opening_at(1i)"=>"2012", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>"", "closing_at(4i)"=>"", "closing_at(5i)"=>""}}
WARNING: Can't mass-assign these protected attributes: status

ArgumentError (syntax error on line 13, col 77: `'):
  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
  responders (0.4.7) lib/responders/flash_responder.rb:136:in `mount_i18n_options'
  responders (0.4.7) lib/responders/flash_responder.rb:114:in `set_flash_message!'
  responders (0.4.7) lib/responders/flash_responder.rb:92:in `to_html'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
  /Library/Ruby/Gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (113.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-27 14:12:32) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal"=>{"status"=>"", "text"=>"c'est dans longtemps", "opening_at(1i)"=>"2012", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>"", "closing_at(4i)"=>"", "closing_at(5i)"=>""}}
WARNING: Can't mass-assign these protected attributes: status
Rendering proposals/new
Completed in 30ms (View: 21, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-27 14:12:41) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal"=>{"status"=>"", "text"=>"c'est dans longtemps", "opening_at(1i)"=>"2012", "opening_at(2i)"=>"1", "opening_at(3i)"=>"1", "closing_at(1i)"=>"2013", "opening_at(4i)"=>"00", "closing_at(2i)"=>"", "opening_at(5i)"=>"00", "closing_at(3i)"=>"", "closing_at(4i)"=>"", "closing_at(5i)"=>""}}
WARNING: Can't mass-assign these protected attributes: status
  [4;35;1mProposal Create (0.4ms)[0m   [0mINSERT INTO "proposals" ("status", "closing_at", "updated_at", "text", "opening_at", "created_at") VALUES(NULL, '2013-01-01 00:00:00', '2010-07-27 12:12:41', 'c''est dans longtemps', '2012-01-01 00:00:00', '2010-07-27 12:12:41')[0m
Redirected to http://localhost:3000/proposals/2
Completed in 14ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-27 14:12:42) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-07-27 14:12:43) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 15ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:12:57) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:12:59) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:00) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:01) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:01) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:01) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 20ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:02) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:06) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:07) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:07) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 17ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:08) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 19ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:13:08) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:14:12) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:15:03) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 98ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/2/votes]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100219130200')[0m
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("votes")[0m


Processing VotesController#create (for 127.0.0.1 at 2010-07-27 14:26:42) [POST]
  Parameters: {"commit"=>"Create Vote", "vote"=>{"value"=>"oui", "proposal_id"=>"2", "comment"=>"alskdaskl"}, "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk=", "proposal_id"=>"2"}
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 19ms (View: 19, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 14:26:45) [GET]
  Parameters: {"openid_username"=>"isc", "openid_identifier"=>"https://openid.octo.com/users/isc"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=isc&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fisc]
  [4;36;1mAssociation Load (0.1ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Delete all (77.9ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-42') [0m
  [4;36;1mAssociation Create (0.6ms)[0m   [0;1mINSERT INTO "open_id_associations" ("server_url", "handle", "lifetime", "issued", "assoc_type", "secret") VALUES('https://openid.octo.com/server.openid', '1279834756437-42', 1799, 1280233606, 'HMAC-SHA1', 'A.V}W')[0m
  [4;35;1mAssociation Load (0.8ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."handle" = '1279834756437-42' AND "open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mNonce Load (0.2ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."timestamp" = 1280233606 AND "open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'xoCcX4') LIMIT 1[0m
  [4;35;1mNonce Create (0.4ms)[0m   [0mINSERT INTO "open_id_nonces" ("timestamp", "salt", "server_url") VALUES(1280233606, 'xoCcX4', '')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 14:26:50) [GET]
  Parameters: {"rp_nonce"=>"2010-07-27T12:26:46ZxoCcX4", "openid1_claimed_id"=>"https://openid.octo.com/users/isc"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/isc') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 5ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-07-27T12%3A26%3A46ZxoCcX4&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fisc]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-27 14:26:50) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-27 14:26:56) [POST]
  Parameters: {"user"=>{"nickname"=>"ivan", "openid"=>"https://openid.octo.com/users/isc", "email"=>"ischneider@octo.com"}, "commit"=>"Confirm my account", "authenticity_token"=>"YtQ4FxrwLZnwGeI2Wte9+NpReaBotkOBBT/DL+CyPYk="}
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("updated_at", "nickname", "openid", "email", "created_at") VALUES('2010-07-27 12:26:56', 'ivan', 'https://openid.octo.com/users/isc', 'ischneider@octo.com', '2010-07-27 12:26:56')[0m
Redirected to http://localhost:3000/
Completed in 12ms (DB: 1) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-27 14:26:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-30 23:19:24) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 82ms (View: 55, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-30 23:19:29) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 2ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.5ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (0.4ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 1[0m
  [4;36;1mAssociation Delete all (0.3ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-75') [0m
  [4;35;1mAssociation Create (0.2ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-75', 1280524771, 'HMAC-SHA1', 'h3u&>eW,F9')[0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-75') [0m
  [4;35;1mNonce Load (0.2ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'SAg90f' AND "open_id_nonces"."timestamp" = 1280524771) LIMIT 1[0m
  [4;36;1mNonce Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('SAg90f', '', 1280524771)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-30 23:19:37) [GET]
  Parameters: {"rp_nonce"=>"2010-07-30T21:19:31ZSAg90f", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-07-30T21%3A19%3A31ZSAg90f&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-30 23:19:37) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 28ms (View: 19, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-30 23:19:41) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "user"=>{"nickname"=>"mag", "openid"=>"https://openid.octo.com/users/mag", "email"=>"mag"}}
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-07-30 21:19:41', 'mag', '2010-07-30 21:19:41', 'https://openid.octo.com/users/mag', 'mag')[0m
Redirected to http://localhost:3000/
Completed in 99ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-30 23:19:41) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-30 23:19:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 22ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-30 23:19:46) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 42ms (View: 21, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (104.6ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (104.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (84.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (98.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (69.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (71.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (93.4ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (54.1ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (92.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.7ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (74.7ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (74.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (74.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (118.8ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (56.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (73.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (54.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mInterrupt: : INSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (118.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.1ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (89.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.8ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (122.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (56.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (109.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (97.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (74.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (74.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (74.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (113.8ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (94.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (88.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (75.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (74.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (74.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (103.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (50.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (2.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (106.8ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.8ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (54.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (45.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (50.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (117.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.7ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (49.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (46.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (102.4ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (93.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (64.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (74.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (74.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:02:47) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 33ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:02:53) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"", "proposal_id"=>"1"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `future?' for nil:NilClass):
  app/models/vote.rb:18:in `open_proposal?'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:03:01) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 27ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:03:07) [POST]
  Parameters: {"vote"=>{"comment"=>"fafeefzefa", "value"=>"azffaze", "proposal_id"=>"1"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `future?' for nil:NilClass):
  app/models/vote.rb:18:in `open_proposal?'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (124.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:03:09) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 27ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:03:10) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 99ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:03:17) [POST]
  Parameters: {"vote"=>{"comment"=>"afzafazef", "value"=>"yes", "proposal_id"=>"1"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `future?' for nil:NilClass):
  app/models/vote.rb:18:in `open_proposal?'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:04:40) [GET]
  Parameters: {"id"=>"index", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 0 AND ("votes".proposal_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Vote with ID=index AND ("votes".proposal_id = 1)):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:04:46) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:05:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 00:05:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 22ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:05:48) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 92ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:05:58) [POST]
  Parameters: {"vote"=>{"comment"=>"oezifoazief", "value"=>"yes", "proposal_id"=>"2"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 2 AND "signatures"."user_id" = 2) LIMIT 1[0m
Rendering votes/new
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 44ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/2/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 00:06:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:06:10) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 27ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:06:16) [POST]
  Parameters: {"vote"=>{"comment"=>"lkzeflkjzef", "value"=>"eflakjfelkj", "proposal_id"=>"1"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `future?' for nil:NilClass):
  app/models/vote.rb:18:in `open_proposal?'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:07:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6b5a228>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (148.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:08:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6cebeac>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (135.3ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:08:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6dc28a8>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (143.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:08:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6efebf4>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (67.4ms)
Rendered rescues/_request_and_response (17.0ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:08:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6fde754>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (71.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:08:37) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m
Completed in 113ms (View: 37, DB: 1) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:09:11) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"", "closing_at(5i)"=>"", "text"=>"lkdjsflkqsdjf", "opening_at(1i)"=>"2005", "opening_at(2i)"=>"", "user_id"=>"1", "opening_at(3i)"=>"", "closing_at(1i)"=>"2015", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "status"=>"", "closing_at(3i)"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: user_id, status
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m
Completed in 63ms (View: 39, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:09:17) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"00", "closing_at(5i)"=>"00", "text"=>"lkdjsflkqsdjf", "opening_at(1i)"=>"2005", "opening_at(2i)"=>"1", "user_id"=>"2", "opening_at(3i)"=>"1", "closing_at(1i)"=>"2015", "opening_at(4i)"=>"00", "closing_at(2i)"=>"1", "opening_at(5i)"=>"00", "status"=>"", "closing_at(3i)"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: user_id, status
Rendering proposals/new
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m
Completed in 58ms (View: 38, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:09:40) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"00", "closing_at(5i)"=>"00", "text"=>"lkdjsflkqsdjf", "opening_at(1i)"=>"2005", "opening_at(2i)"=>"1", "user_id"=>"1", "opening_at(3i)"=>"1", "closing_at(1i)"=>"2015", "opening_at(4i)"=>"00", "closing_at(2i)"=>"1", "opening_at(5i)"=>"00", "status"=>"", "closing_at(3i)"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: user_id, status
Rendering proposals/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Completed in 60ms (View: 39, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:10:22) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:10:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6c42ca8>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (75.4ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#new (for 127.0.0.1 at 2010-07-31 00:11:31) [GET]

NoMethodError (undefined method `has_many' for ProposalsController:Class):
  app/controllers/proposals_controller.rb:5
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (37.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:17:00) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb701293c>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (70.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:17:52) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6c04f5c>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (74.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:17:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6c872cc>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (152.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:30:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6c73b64>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (140.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:30:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6d49494>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (147.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:32:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" [0m

ActionView::TemplateError (undefined method `user_id' for #<Proposal:0xb6e86118>) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = f.inputs
5:   = f.buttons
6:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:767:in `select_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (73.7ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:32:27) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"00", "closing_at(5i)"=>"00", "text"=>"lkdjsflkqsdjf", "opening_at(1i)"=>"2005", "opening_at(2i)"=>"1", "user_id"=>"1", "opening_at(3i)"=>"1", "closing_at(1i)"=>"2015", "opening_at(4i)"=>"00", "closing_at(2i)"=>"1", "opening_at(5i)"=>"00", "status"=>"", "closing_at(3i)"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: status

ActiveRecord::UnknownAttributeError (unknown attribute: user_id):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `new'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `build_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:31:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:32:35) [GET]
  [4;35;1mUser Load (4.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 46ms (View: 27, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:34:14) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 51ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 00:34:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 49ms (View: 37, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:34:33) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"", "closing_at(5i)"=>"", "text"=>"My proposal is so crazy now i'm fan", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"2006", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

ActiveRecord::UnknownAttributeError (unknown attribute: user_id):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `new'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `build_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:31:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:35:09) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"", "closing_at(5i)"=>"", "text"=>"My proposal is so crazy now i'm fan", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"", "opening_at(3i)"=>"", "closing_at(1i)"=>"2006", "opening_at(4i)"=>"", "closing_at(2i)"=>"", "opening_at(5i)"=>"", "closing_at(3i)"=>""}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 52ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 00:35:15) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"00", "closing_at(5i)"=>"00", "text"=>"My proposal is so crazy now i'm fan", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"1", "opening_at(3i)"=>"1", "closing_at(1i)"=>"2011", "opening_at(4i)"=>"00", "closing_at(2i)"=>"1", "opening_at(5i)"=>"00", "closing_at(3i)"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Create (0.4ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 22:35:15', '2010-07-30 22:35:15', 'My proposal is so crazy now i''m fan', '2007-01-01 00:00:00', NULL, '2011-01-01 00:00:00')[0m
Redirected to http://localhost:3000/proposals/3
Completed in 105ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 00:35:15) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:35:18) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 99ms (View: 82, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:35:26) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"1234", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Rendering votes/new
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 41ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:35:30) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('VAAAAA', '2010-07-30 22:35:30', '2010-07-30 22:35:30', 'yes', NULL, 3)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-07-30 22:35:30', '2010-07-30 22:35:30', 2, 3)[0m
Redirected to http://localhost:3000/proposals/3/votes/4
Completed in 105ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:35:30) [GET]
  Parameters: {"id"=>"4", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 4 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 28ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/3/votes/4]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:35:37) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('VAAAAA', '2010-07-30 22:35:37', '2010-07-30 22:35:37', 'yes', NULL, 3)[0m
  [4;36;1mSignature Create (0.1ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-07-30 22:35:37', '2010-07-30 22:35:37', 2, 3)[0m
Redirected to http://localhost:3000/proposals/3/votes/5
Completed in 90ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:35:37) [GET]
  Parameters: {"id"=>"5", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 5 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3/votes/5]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:35:42) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('VAAAAA', '2010-07-30 22:35:42', '2010-07-30 22:35:42', 'yes', NULL, 3)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-07-30 22:35:42', '2010-07-30 22:35:42', 2, 3)[0m
Redirected to http://localhost:3000/proposals/3/votes/6
Completed in 102ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:35:43) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 85ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:37:52) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:37:54) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-07-31 00:37:54) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 3)) [0m
Rendering votes/show
Completed in 20ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3/votes/6]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:37:59) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m

NameError (undefined local variable or method `null' for #<Vote:0xb70507a0>):
  app/models/vote.rb:31:in `remove_voter_unless_veto'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:38:09) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/3/votes
Completed in 38ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:38:09) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:38:13) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:38:14) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:38:21) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"1234", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Rendering votes/new
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Completed in 38ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:38:25) [POST]
  Parameters: {"vote"=>{"comment"=>"VAAAAA", "value"=>"yes", "proposal_id"=>"3"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/3/votes
Completed in 29ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:38:25) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:38:27) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:38:34) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 00:38:36) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:38:37) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Completed in 28ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:41:58) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
ERROR: compiling _run_haml_app47views47votes47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected ':', expecting ')'
...rue_false(( f.inputs :value  :as => :select,      :collectio...
                              ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected ',', expecting ')'
...'support','no','pass','veto'], = f.inputs :comment
                              ^
Function body:           def _run_haml_app47views47votes47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :attr_wrapper=>"'", :encoding=>nil, :escape_html=>false, :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New vote on proposal</h1>\n", 0, false);

 semantic_form_for [:proposal, @vote] do |f|;
_hamlout.push_text("#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.inputs :value  :as => :select,      :collection => ['yes','support','no','pass','veto'], = f.inputs :comment
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.buttons
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:11:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-0.2.2/lib/rack/openid.rb:64:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected ':', expecting ')'
...rue_false(( f.inputs :value  :as => :select,      :collectio...
                              ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected ',', expecting ')'
...'support','no','pass','veto'], = f.inputs :comment
                              ^) on line #6 of app/views/votes/new.html.haml:
3: - semantic_form_for [:proposal, @vote] do |f|
4:   = f.inputs :value  :as => :select,      :collection => ['yes','support','no','pass','veto'], 
5:   = f.inputs :comment
6:   = f.buttons
7:   

    app/views/votes/new.html.haml:11:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (118.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:42:30) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (6.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
ERROR: compiling _run_haml_app47views47votes47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected '='
...upport','no','pass','veto'], = f.inputs :comment
                              ^
Function body:           def _run_haml_app47views47votes47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :attr_wrapper=>"'", :encoding=>nil, :escape_html=>false, :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New vote on proposal</h1>\n", 0, false);

 semantic_form_for [:proposal, @vote] do |f|;
_hamlout.push_text("#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.inputs :value,  :as => :select, :collection => ['yes','support','no','pass','veto'], = f.inputs :comment
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.buttons
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:11:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-0.2.2/lib/rack/openid.rb:64:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:6: syntax error, unexpected '='
...upport','no','pass','veto'], = f.inputs :comment
                              ^) on line #6 of app/views/votes/new.html.haml:
3: - semantic_form_for [:proposal, @vote] do |f|
4:   = f.inputs :value,  :as => :select, :collection => ['yes','support','no','pass','veto'], 
5:   = f.inputs :comment
6:   = f.buttons
7:   

    app/views/votes/new.html.haml:11:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (60.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:42:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 94ms (View: 80, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:03) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 32ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:04) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:05) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:05) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 34ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:05) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:05) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 38ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:05) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 39ms (View: 19, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:18) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 37ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:19) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:41) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 31ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:42) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 90ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:44:49) [POST]
  Parameters: {"vote"=>{"comment"=>"azefzaef\r\n", "value"=>""}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:44:54) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:46) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:47) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:48) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 26ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:48) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 31ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:48) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 26ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:46:49) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:03) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new

ActionView::TemplateError (undefined method `t' for #<Vote:0xb6bf1164>) on line #4 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for [:proposal, @vote] do |f|
4:   = f.inputs :t,  :as => :select, :collection => ["Justin", "Kate", "Amelia", "Gus", "Meg"]#,  :as => :radio, :collection => ["yes",'support','no','pass','veto']
5:   = f.inputs :comment
6:   = f.buttons
7:   

    formtastic (0.9.10) rails/./lib/formtastic.rb:590:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:590:in `basic_input_helper'
    formtastic (0.9.10) rails/./lib/formtastic.rb:595:in `string_input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1209:in `inline_input_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `send'
    formtastic (0.9.10) rails/./lib/formtastic.rb:106:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `map'
    formtastic (0.9.10) rails/./lib/formtastic.rb:105:in `input'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `collect'
    formtastic (0.9.10) rails/./lib/formtastic.rb:276:in `inputs'
    app/views/votes/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (73.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:12) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 29ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:46) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 29ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:54) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 30ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:55) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:47:55) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 28ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:48:27) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 32ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:48:27) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:48:28) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:48:28) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:48:45) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 29ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:37) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:37) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 88ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:38) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:42) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:42) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:44) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:44) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 00:49:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 00:49:52) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 00:49:54) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 24ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:49:57) [POST]
  Parameters: {"vote"=>{"comment"=>"fa", "value"=>""}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 00:50:29) [POST]
  Parameters: {"vote"=>{"comment"=>"fa", "value"=>"no"}, "commit"=>"Create Vote", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/3/votes
Completed in 29ms (DB: 0) | 302 Found [http://localhost/proposals/3/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:50:29) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m

ActionView::MissingTemplate (Missing template votes/index.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
  responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 00:51:13) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:08' NOT NULL, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (145.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (99.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (117.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (104.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (112.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (100.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.6ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (79.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (99.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (52.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:01:45) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:01:47) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 45ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:02:05) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"Et voici la première proposition", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:12:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:02:37) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"Et voici la première proposition", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:12:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (112.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:03:17) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:03:41) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 27ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:03:46) [GET]
  Parameters: {"openid_username"=>"toto", "openid_identifier"=>"https://openid.octo.com/users/toto"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=toto&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Ftoto]
  [4;36;1mAssociation Load (0.1ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Delete all (0.6ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-76') [0m
  [4;36;1mAssociation Create (0.3ms)[0m   [0;1mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-76', 1280531027, 'HMAC-SHA1', 'c~`~q"')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:03:57) [GET]
  Parameters: {"openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (1.0ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-76') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'ZMSzKf' AND "open_id_nonces"."timestamp" = 1280531038) LIMIT 1[0m
  [4;36;1mNonce Create (0.6ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('ZMSzKf', '', 1280531038)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:04:00) [GET]
  Parameters: {"rp_nonce"=>"2010-07-30T23:03:58ZZMSzKf", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-07-30T23%3A03%3A58ZZMSzKf&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-31 01:04:00) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 27ms (View: 18, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-31 01:04:03) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"BW8m+7yRJKMcov1lnKC2kPYhK4UohXLtAh+vBoPOlUI=", "user"=>{"nickname"=>"mglkmagr", "openid"=>"https://openid.octo.com/users/mag", "email"=>"agmlkgazlk"}}
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-07-30 23:04:03', 'mglkmagr', '2010-07-30 23:04:03', 'https://openid.octo.com/users/mag', 'agmlkgazlk')[0m
Redirected to http://localhost:3000/
Completed in 108ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:04:03) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:04:05) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 44ms (View: 32, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:04:11) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"BW8m+7yRJKMcov1lnKC2kPYhK4UohXLtAh+vBoPOlUI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"gagazgzagzagzaggzaglkjlkjglqskjglqksjdlksqjdg", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.3ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 23:04:11', '2010-07-30 23:04:11', 'gagazgzagzagzaggzaglkjlkjglqskjglqksjdlksqjdg', '2010-07-31 01:00:00', NULL, '2010-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 104ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:04:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 79ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (120.8ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (107.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (98.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (111.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (76.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (77.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (67.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:06:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Proposal with ID=1):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (41.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:06:39) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"BW8m+7yRJKMcov1lnKC2kPYhK4UohXLtAh+vBoPOlUI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"gagazgzagzagzaggzaglkjlkjglqskjglqksjdlksqjdg", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:12:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (38.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:06:44) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 58ms (View: 44, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:06:50) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"BW8m+7yRJKMcov1lnKC2kPYhK4UohXLtAh+vBoPOlUI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"faaflkzejzalkfjzaljfzlakejflazkejflazkejflazkejflkazefj", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:12:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:07:39) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:07:41) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 46ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:07:49) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gmr8pmkMi2DaEQEClDeVM7uz+n5vv/1ybbzuKGmUBBQ=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"fzelakjzlaekjfezlakefjlazkefjzlakejfzlakjflzakfej", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:12:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (41.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#logout (for 127.0.0.1 at 2010-07-31 01:09:22) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 7ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:22) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:25) [GET]
  Parameters: {"openid_identifier"=>"mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_identifier=mag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:25) [GET]
  Parameters: {"openid_identifier"=>"mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 4ms (View: 3, DB: 0) | 401 Unauthorized [http://localhost/?openid_identifier=mag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:31) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (1.2ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Delete all (0.3ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-77') [0m
  [4;35;1mAssociation Create (0.2ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-77', 1280531373, 'HMAC-SHA1', 'XCBˌΛ.R3')[0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-77') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = '9VpGwq' AND "open_id_nonces"."timestamp" = 1280531373) LIMIT 1[0m
  [4;36;1mNonce Create (0.3ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('9VpGwq', '', 1280531373)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:35) [GET]
  Parameters: {"rp_nonce"=>"2010-07-30T23:09:33Z9VpGwq", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-07-30T23%3A09%3A33Z9VpGwq&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-31 01:09:35) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 76ms (View: 10, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-07-31 01:09:39) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "user"=>{"nickname"=>"lgaklkga", "openid"=>"https://openid.octo.com/users/mag", "email"=>"aglgaklgak"}}
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-07-30 23:09:39', 'lgaklkga', '2010-07-30 23:09:39', 'https://openid.octo.com/users/mag', 'aglgaklgak')[0m
Redirected to http://localhost:3000/
Completed in 122ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:09:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:09:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 44ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:09:45) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"rglkarglkgrjlgrkgjlakjglakrgj", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.5ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 23:09:45', '2010-07-30 23:09:45', 'rglkarglkgrjlgrkgjlakjglakrgj', '2010-07-31 01:00:00', 'open', '2010-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 87ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:09:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:09:48) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 30ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:09:52) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 32ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:09:56) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 32ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:09:57) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 33ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:10:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 15ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:12:25) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:12:32) [POST]
  Parameters: {"vote"=>{"comment"=>"kdjlkfjdqlkdfjqlksdjlkqsjdlfkjsqd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:12:34) [POST]
  Parameters: {"vote"=>{"comment"=>"kdjlkfjdqlkdfjqlksdjlkqsjdlfkjsqd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 34ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 26ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 20ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:12:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 19ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:12:42) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:12:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 45ms (View: 32, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:13:31) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 42ms (View: 30, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:13:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 108ms (View: 97, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:13:39) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"azlkjazekfjalzkejflazkejflakzejflazkejflazkejf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.4ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 23:13:39', '2010-07-30 23:13:39', 'azlkjazekfjalzkejflazkejflakzejflazkejflazkejf', '2010-07-31 01:00:00', 'open', '2010-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/2
Completed in 101ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:13:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:13:42) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new

ActionView::TemplateError (undefined local variable or method `errors' for #<ActionView::Base:0xb6c9d6f8>) on line #4 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for [:proposal, @vote] do |f|
4:   = errors.base
5:   = f.inputs :value, :as => :radio, :collection => ['yes','support','no','pass','veto']
6:   = f.inputs :comment
7:   = f.buttons

    app/views/votes/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (216.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:15:15) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
Completed in 30ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:15:22) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"ezfazffzef"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.1ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 2 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:15:44) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 2 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:15:45) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 2 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 32ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:15:49) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:15:50) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 78ms (View: 65, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:15:50) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:15:51) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 21ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:15:51) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 36ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:17:12) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:17:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:17:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:17:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-07-31 01:17:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 53ms (View: 41, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:17:27) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"fezfezafefezazfafffeazefzaeezfzef", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.6ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 23:17:27', '2010-07-30 23:17:27', 'fezfezafefezazfafffeazefzaeezfzef', '2010-07-31 01:00:00', 'open', '2010-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/3
Completed in 155ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:17:27) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 19ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:17:29) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 29ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:17:36) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 33ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:17:38) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 34ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:17:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals]
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" [0m


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:20:22) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:20:24) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/votes/new.html.haml:
1: %h1 New vote on proposal
2: 
3: - semantic_form_for [:proposal, @vote] do |f|
4:   = form.semantic_errors
5:   = f.inputs :value, :as => :radio, :collection => ['yes','support','no','pass','veto']
6:   = f.inputs :comment
7:   = f.buttons

    app/views/votes/new.html.haml:4:in `form'
    app/views/votes/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/votes/new.html.haml:3:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (133.8ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:23:47) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 29ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:23:52) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"teetet"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:24:41) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:24:43) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering votes/new
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:24:47) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:24:57) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 48ms (View: 15, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:24:58) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 39ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:24:59) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:24:59) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 46ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/3/votes]
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:28:41) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"fazzfazf"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 3 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 39ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing ProposalsController#create (for 127.0.0.1 at 2010-07-31 01:28:54) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"azlkjazekfjalzkejflazkejflakzejflazkejflazkejf", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.5ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-07-30 23:28:54', '2010-07-30 23:28:54', 'azlkjazekfjalzkejflazkejflakzejflazkejflazkejf', '2007-07-31 01:00:00', 'open', '2010-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/4
Completed in 133ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:28:55) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering proposals/show
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/4]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:28:56) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/4/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:29:00) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/4/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:29:02) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 34ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/4/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:29:06) [POST]
  Parameters: {"vote"=>{"comment"=>"fafazfze", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 32ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/4/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:29:09) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering proposals/show
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/4]


Processing ProposalsController#index (for 127.0.0.1 at 2010-07-31 01:29:11) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-07-31 01:29:15) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/4]


Processing VotesController#new (for 127.0.0.1 at 2010-07-31 01:29:17) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering votes/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/4/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:29:23) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/4/votes
Completed in 87ms (DB: 0) | 302 Found [http://localhost/proposals/4/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 01:29:23) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" [0m


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:31:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/4/votes
Completed in 27ms (DB: 0) | 302 Found [http://localhost/proposals/4/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 01:31:35) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:31:39) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/4/votes
Completed in 29ms (DB: 0) | 302 Found [http://localhost/proposals/4/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 01:31:39) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-07-31 01:31:47) [POST]
  Parameters: {"vote"=>{"comment"=>"faffzafeefzazaeffze", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"NrYYoVSZNfvgBhnkRCiFv+LDAk6i4rs2yVKQKAsHQCA=", "proposal_id"=>"4"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 4 AND "signatures"."user_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/4/votes
Completed in 25ms (DB: 0) | 302 Found [http://localhost/proposals/4/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-07-31 01:31:48) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:03:34) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 95ms (View: 62, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:03:38) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.9ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (0.9ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 1[0m
  [4;36;1mAssociation Delete all (0.4ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-125') [0m
  [4;35;1mAssociation Create (0.6ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-125', 1281175419, 'HMAC-SHA1', 'j%25QP56')[0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-125') [0m
  [4;35;1mNonce Load (0.2ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'KeT6gS' AND "open_id_nonces"."timestamp" = 1281175419) LIMIT 1[0m
  [4;36;1mNonce Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('KeT6gS', '', 1281175419)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:03:47) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T10:03:39ZKeT6gS", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 8ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T10%3A03%3A39ZKeT6gS&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:03:47) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:03:51) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 83ms (View: 71, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:03:53) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
Completed in 32ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:04:01) [POST]
  Parameters: {"vote"=>{"comment"=>"emlkjdslkjqlsdkf", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"lYkr/u8D+4kkVTk7WzIeV5Ioa7fNxzx6tEuAgY/Jik8=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/2/votes
Completed in 55ms (DB: 0) | 302 Found [http://localhost/proposals/2/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:04:01) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (114.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (49.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (49.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:10:13) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:10:14) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:10:15) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:22) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:10:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 99ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:10:27) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 12:10:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 10ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:33) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 21ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:37) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (0.4ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-125') [0m
  [4;35;1mNonce Load (0.2ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'wskHQP' AND "open_id_nonces"."timestamp" = 1281175838) LIMIT 1[0m
  [4;36;1mNonce Create (0.4ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('wskHQP', '', 1281175838)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:40) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T10:10:38ZwskHQP", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 7ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T10%3A10%3A38ZwskHQP&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:10:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 21ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:10:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:10:49) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:10:56) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/4]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:10:58) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (108.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 12:11:12) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 7ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:11:12) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 5ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:11:15) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:11:19) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (1.8ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Load (0.7ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-125') [0m
  [4;36;1mNonce Load (0.2ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = '26u6PQ' AND "open_id_nonces"."timestamp" = 1281175879) LIMIT 1[0m
  [4;35;1mNonce Create (0.4ms)[0m   [0mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('26u6PQ', '', 1281175879)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:11:20) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T10:11:19Z26u6PQ", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 71ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T10%3A11%3A19Z26u6PQ&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:11:20) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:11:22) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering proposals/show
Completed in 18ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:11:23) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (131.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (93.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (115.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (110.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:12:43) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 12:12:47) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 8ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:12:47) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:12:51) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (1.2ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Delete all (0.3ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-126') [0m
  [4;36;1mAssociation Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-126', 1281175972, 'HMAC-SHA1', 'ʒ>^;GZgZqcz')[0m
  [4;35;1mAssociation Load (0.6ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-126') [0m
  [4;36;1mNonce Load (0.1ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = '7JS9tE' AND "open_id_nonces"."timestamp" = 1281175972) LIMIT 1[0m
  [4;35;1mNonce Create (0.3ms)[0m   [0mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('7JS9tE', '', 1281175972)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:12:53) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T10:12:52Z7JS9tE", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 7ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-08-07T10%3A12%3A52Z7JS9tE&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 12:12:53) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 12:12:58) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "user"=>{"nickname"=>"MAGMAG", "openid"=>"https://openid.octo.com/users/mag", "email"=>"MAGMAG"}}
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-08-07 10:12:58', 'MAGMAG', '2010-08-07 10:12:58', 'https://openid.octo.com/users/mag', 'MAGMAG')[0m
Redirected to http://localhost:3000/
Completed in 97ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:12:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:13:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = form.semantic_errors
5:   = f.inputs :text, :opening_at, :closing_at
6:   = f.buttons
7:   

    app/views/proposals/new.html.haml:4:in `form'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (144.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:13:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = form.semantic_errors
5:   = f.inputs :text, :opening_at, :closing_at
6:   = f.buttons
7:   

    app/views/proposals/new.html.haml:4:in `form'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (127.5ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 12:13:33) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:13:35) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = form.semantic_errors
5:   = f.inputs :text, :opening_at, :closing_at
6:   = f.buttons
7:   

    app/views/proposals/new.html.haml:4:in `form'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (139.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:14:28) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 56ms (View: 42, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:16:24) [GET]
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/proposals/new.html.haml:
1: %h1 New proposal
2: 
3: - semantic_form_for @proposal do |f|
4:   = form.semantic_errors :base
5:   = f.inputs :text, :opening_at, :closing_at
6:   = f.buttons
7:   

    app/views/proposals/new.html.haml:4:in `form'
    app/views/proposals/new.html.haml:4
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1741:in `semantic_form_for'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1719:in `with_custom_field_error_proc'
    formtastic (0.9.10) rails/./lib/formtastic.rb:1740:in `semantic_form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (133.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 12:16:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 49ms (View: 38, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 12:16:36) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 53ms (View: 34, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 12:16:47) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"kldjflkqjsdf", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 52ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 12:16:53) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"kldjflkqjsdflkdjlkjdslkjldksljflkqjds\r\n", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 51ms (View: 31, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 12:17:07) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"kldjflkqjsdflkdjlkjdslkjldksljflkqjds\r\nlkdjslkjsdqkfjqlsdf", "opening_at(1i)"=>"2007", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"11"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.8ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-07 10:17:07', '2010-08-07 10:17:07', 'kldjflkqjsdflkdjlkjdslkjldksljflkqjds
lkdjslkjsdqkfjqlsdf', '2007-07-31 01:00:00', 'open', '2010-08-11 23:00:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 115ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 12:17:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:17:11) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:10:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:17:30) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 30ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:17:38) [POST]
  Parameters: {"vote"=>{"comment"=>"lkjlksjqdlkjballalla", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

ActiveRecord::UnknownAttributeError (unknown attribute: voter_id):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `build_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:31:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:17:57) [POST]
  Parameters: {"vote"=>{"comment"=>"lkjlksjqdlkjballalla", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NameError (undefined local variable or method `voter_id' for #<Vote:0xb6bd0a7c>):
  app/models/vote.rb:26:in `hasnt_voted_yet?'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:63:in `create_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:33:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (122.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:19:16) [POST]
  Parameters: {"vote"=>{"comment"=>"lkjlksjqdlkjballalla", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/1/votes
Completed in 28ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:19:16) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, new, and show):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:20:35) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Proposals
2: 
3: %ul
4: - @votes.each do |proposal|
5:   %li=link_to(h(proposal.inspect), proposal)
6:   
7: = link_to 'proposals', proposals_path

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (47.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:21:10) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Votes
2: 
3: %ul
4: - @votes.each do |proposal|
5:   %li=link_to(h(proposal.inspect), proposal)
6:   
7: = link_to 'proposal', show_proposal_path

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (43.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:21:45) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Votes
2: 
3: %ul
4: - @votes.each do |vote|
5:   %li=link_to(h(vote.inspect), vote)
6:   

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 12:23:31) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 30ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:23:39) [POST]
  Parameters: {"vote"=>{"comment"=>"lakzejflakzjeflkzjef", "value"=>"lkjeflkajzfel"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 44ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 12:23:45) [POST]
  Parameters: {"vote"=>{"comment"=>"lakzejflakzjeflkzjef", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/proposals/1/votes
Completed in 30ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 12:23:45) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Votes
2: 
3: %ul
4: - @votes.each do |vote|
5:   %li=link_to(h(vote.inspect), vote)
6:   

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Create (0.5ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:32:01', '2010-08-07 10:32:01', 'yes', NULL, 1)[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:33:53', '2010-08-07 10:33:53', 'yes', NULL, 1)[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:34:23', '2010-08-07 10:34:23', 'yes', NULL, 1)[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:35:05', '2010-08-07 10:35:05', 'yes', NULL, 1)[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Load (2.1ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (2.1ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (1.9ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Destroy (0.9ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 1[0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 2[0m
  [4;35;1mVote Destroy (0.6ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 3[0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 4[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:45:00', '2010-08-07 10:45:00', 'yes', NULL, 1)[0m
  [4;35;1mVote Destroy (0.8ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 5[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.5ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:47:09', '2010-08-07 10:47:09', 'yes', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:47:09', '2010-08-07 10:47:09', 1, 1)[0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Load (1.7ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 1[0m
  [4;36;1mVote Destroy (0.8ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 6[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.5ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:50:51', '2010-08-07 10:50:51', 'yes', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:50:51', '2010-08-07 10:50:51', 1, 1)[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 2[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.6ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:52:28', '2010-08-07 10:52:28', 'yes', NULL, 1)[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:52:28', '2010-08-07 10:52:28', 1, 1)[0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 3[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:53:06', '2010-08-07 10:53:06', 'yes', NULL, 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:53:06', '2010-08-07 10:53:06', 1, 1)[0m
  [4;35;1mVote Load (1.6ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 4[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mVote Load (1.5ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Load (1.6ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.8ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:53:56', '2010-08-07 10:53:56', 'yes', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:53:56', '2010-08-07 10:53:56', 1, 1)[0m
  [4;36;1mVote Load (1.9ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.7ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 5[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.6ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:54:29', '2010-08-07 10:54:29', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:54:29', '2010-08-07 10:54:29', 1, 1)[0m
  [4;35;1mVote Load (2.6ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (2.5ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (2.4ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.7ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 7[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 8[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.3ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 9[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.3ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 10[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.3ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 11[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mSignature Load (1.1ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 6[0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (1.7ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES(NULL, '2010-08-07 10:56:59', '2010-08-07 10:56:59', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.5ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 10:56:59', '2010-08-07 10:56:59', 1, 1)[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.7ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 12[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 7[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.6ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('lkllfskdjflqksjdflkjsdflkqjfdslkj', '2010-08-07 11:05:59', '2010-08-07 11:05:59', 'veto', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:05:59', '2010-08-07 11:05:59', 1, 1)[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 13[0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.7ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 8[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.5ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('lkllfskdjflqksjdflkjsdflkqjfdslkj', '2010-08-07 11:06:35', '2010-08-07 11:06:35', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:06:35', '2010-08-07 11:06:35', 1, 1)[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 14[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 9[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.1ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.1ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('lkllfskdjflqksjdflkjsdflkqjfdslkj', '2010-08-07 11:11:30', '2010-08-07 11:11:30', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.1ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:11:30', '2010-08-07 11:11:30', 1, 1)[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 15[0m
  [4;36;1mSignature Load (1.0ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.8ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 10[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('lkllfskdjflqksjdflkjsdflkqjfdslkj', '2010-08-07 11:12:48', '2010-08-07 11:12:48', 'veto', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:12:48', '2010-08-07 11:12:48', 1, 1)[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.3ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 11[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."proposal_id" = 1 AND "signatures"."user_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('lkllfskdjflqksjdflkjsdflkqjfdslkj', '2010-08-07 11:15:20', '2010-08-07 11:15:20', 'veto', NULL, 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:15:20', '2010-08-07 11:15:20', 1, 1)[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 13:15:54) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Votes
2: 
3: %ul
4: - @votes.each do |vote|
5:   %li=link_to(h(vote.inspect), vote)
6:   

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (46.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 13:15:55) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering votes/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #4 of app/views/votes/index.html.haml:
1: %h1 Votes
2: 
3: %ul
4: - @votes.each do |vote|
5:   %li=link_to(h(vote.inspect), vote)
6:   

    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (123.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:16:00) [POST]
  Parameters: {"vote"=>{"comment"=>"lakzejflakzjeflkzjef", "value"=>"lkjeflkajzfel"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 38ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (110.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.1ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.5ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (81.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (65.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (66.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (131.8ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (90.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (70.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (59.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (63.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (69.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (75.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (110.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.0ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (48.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (45.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (48.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (94.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (96.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (84.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (70.8ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (52.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (105.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.5ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.6ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.8ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (46.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:25:43) [POST]
  Parameters: {"vote"=>{"comment"=>"lakzejflakzjeflkzjef", "value"=>"lkjeflkajzfel"}, "commit"=>"Create Vote", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 48ms (View: 16, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:25:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 13:25:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 51ms (View: 39, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:26:05) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"qoMzsTGUAyGT20admpPqZjXS55sX4sJdv324pK6o2s4=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"lkdjlksjdflmkqsjdfmlqksjdflmqksjdflmqksjdfmlkqsjdfmlqksjdflmqksjdfmlqskdjfmlqskdjflmqskdjfmqlksdjfmqlskdjfmqlksjdflmqskdjfqmlskdjfmlqskdjflqmksdjflmqksjdflmkqjsdf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2012", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.8ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-07 11:26:05', '2010-08-07 11:26:05', 'lkdjlksjdflmkqsjdfmlqksjdflmqksjdflmqksjdfmlkqsjdfmlqksjdflmqksjdfmlqskdjfmlqskdjflmqskdjfmqlksdjfmqlskdjfmqlksjdflmqskdjfqmlskdjfmlqskdjflqmksdjflmqksjdflmkqjsdf', '2010-07-31 01:00:00', 'open', '2012-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/2
Completed in 116ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:26:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 27ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:26:07) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (46.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 13:26:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 10ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:26:13) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 21ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:26:16) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (1.0ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Destroy (0.2ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE "id" = 1[0m
  [4;35;1mAssociation Delete all (0.4ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-127') [0m
  [4;36;1mAssociation Create (0.3ms)[0m   [0;1mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-127', 1281180378, 'HMAC-SHA1', 'ef4|v%00y;8[')[0m
  [4;35;1mAssociation Load (0.6ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-127') [0m
  [4;36;1mNonce Load (0.2ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'xdVRcd' AND "open_id_nonces"."timestamp" = 1281180378) LIMIT 1[0m
  [4;35;1mNonce Create (0.3ms)[0m   [0mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('xdVRcd', '', 1281180378)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:26:21) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T11:26:18ZxdVRcd", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 8ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T11%3A26%3A18ZxdVRcd&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:26:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:26:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 19ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:26:24) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:27:16) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:27:19) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (1.8ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-127') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'sGYclf' AND "open_id_nonces"."timestamp" = 1281180440) LIMIT 1[0m
  [4;36;1mNonce Create (0.3ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('sGYclf', '', 1281180440)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:27:25) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T11:27:20ZsGYclf", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 8ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T11%3A27%3A20ZsGYclf&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:27:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:27:26) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:27:28) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (107.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m
  [4;36;1mUser Destroy (0.9ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 1[0m


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:28:31) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (41.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 13:28:44) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 9ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:28:44) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:28:48) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (2.8ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-127') [0m
  [4;35;1mNonce Load (0.2ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'oRcCiI' AND "open_id_nonces"."timestamp" = 1281180528) LIMIT 1[0m
  [4;36;1mNonce Create (0.4ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('oRcCiI', '', 1281180528)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:28:49) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T11:28:48ZoRcCiI", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 7ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-08-07T11%3A28%3A48ZoRcCiI&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 13:28:49) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 29ms (View: 19, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 13:28:52) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"QMt+ocP3TZD83CfKygSMcdsCtdrxocDlAZQUMBI7yCM=", "user"=>{"nickname"=>"laglagl", "openid"=>"https://openid.octo.com/users/mag", "email"=>"laglag"}}
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-08-07 11:28:52', 'laglagl', '2010-08-07 11:28:52', 'https://openid.octo.com/users/mag', 'laglag')[0m
Redirected to http://localhost:3000/
Completed in 81ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:28:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:28:54) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:28:56) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:32:19) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (38.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:32:21) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:32:22) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (37.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:32:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 104ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:32:25) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/votes_controller.rb:11:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (46.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:32:57) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
Completed in 23ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:03) [POST]
  Parameters: {"vote"=>{"comment"=>"malzkfmalzekf", "value"=>"lmzaflkmazlekf"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 2) LIMIT 1[0m
Rendering votes/new
Completed in 115ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:06) [POST]
  Parameters: {"vote"=>{"comment"=>"malzkfmalzekf", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 2) LIMIT 1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('malzkfmalzekf', '2010-08-07 11:33:06', '2010-08-07 11:33:06', 'yes', NULL, 2)[0m
  [4;35;1mSignature Create (0.1ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:33:06', '2010-08-07 11:33:06', NULL, 2)[0m
Redirected to http://localhost:3000/proposals/2/votes/18
Completed in 160ms (DB: 0) | 302 Found [http://localhost/proposals/2/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:33:06) [GET]
  Parameters: {"id"=>"18", "proposal_id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 18 AND ("votes".proposal_id = 2)) [0m
Rendering votes/show
Completed in 27ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/2/votes/18]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:33:13) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 17ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:33:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:33:16) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:27) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 46ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:29) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.1ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:30) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 34ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:31) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:32) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 33ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:33:32) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 37ms (View: 5, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:34:36) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 37ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:35:57) [POST]
  Parameters: {"vote"=>{"comment"=>"a veto dans ta gueule\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"uCzO8znVVGieQEfPDgiqjazyRHb9x4JQ+6Ozgo33m48=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 45ms (View: 13, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:36:36) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 82ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:36:38) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:36:44) [POST]
  Parameters: {"vote"=>{"comment"=>"azefzaefa\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"QMt+ocP3TZD83CfKygSMcdsCtdrxocDlAZQUMBI7yCM=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 2 AND "signatures"."proposal_id" = 2) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('azefzaefa
', '2010-08-07 11:36:44', '2010-08-07 11:36:44', 'veto', NULL, 2)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:36:44', '2010-08-07 11:36:44', 1, 2)[0m
Redirected to http://localhost:3000/proposals/2/votes/19
Completed in 152ms (DB: 0) | 302 Found [http://localhost/proposals/2/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:36:44) [GET]
  Parameters: {"id"=>"19", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 19 AND ("votes".proposal_id = 2)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2/votes/19]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:39:32) [GET]
  Parameters: {"id"=>"19", "proposal_id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 19 AND ("votes".proposal_id = 2)) [0m
Rendering votes/show
Completed in 21ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/2/votes/19]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:39:35) [POST]
  Parameters: {"vote"=>{"comment"=>"azefzaefa\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"QMt+ocP3TZD83CfKygSMcdsCtdrxocDlAZQUMBI7yCM=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 2) LIMIT 1[0m
Rendering votes/new
Completed in 39ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/2/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:39:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:39:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:39:42) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 28ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:39:51) [POST]
  Parameters: {"vote"=>{"comment"=>"mal;sdmlsdkfmlqsdkf", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"QMt+ocP3TZD83CfKygSMcdsCtdrxocDlAZQUMBI7yCM=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('mal;sdmlsdkfmlqsdkf', '2010-08-07 11:39:51', '2010-08-07 11:39:51', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:39:51', '2010-08-07 11:39:51', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/20
Completed in 142ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:39:52) [GET]
  Parameters: {"id"=>"20", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 20 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 25ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1/votes/20]


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 13:40:27) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 17ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:40:27) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 25ms (View: 24, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:40:30) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (0.9ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-127') [0m
  [4;35;1mNonce Load (0.7ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'NSXsRW' AND "open_id_nonces"."timestamp" = 1281181231) LIMIT 1[0m
  [4;36;1mNonce Create (0.5ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('NSXsRW', '', 1281181231)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:40:32) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T11:40:31ZNSXsRW", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 8ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T11%3A40%3A31ZNSXsRW&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:40:32) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:40:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:40:35) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 31ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:40:42) [POST]
  Parameters: {"vote"=>{"comment"=>"mlsdkfmlsqdkfmlqsdkf\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 49ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.3ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 12[0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 13[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 14[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 15[0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.3ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 16[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.6ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 17[0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.6ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 18[0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.7ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 19[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 20[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:41:22) [POST]
  Parameters: {"vote"=>{"comment"=>"mlsdkfmlsqdkfmlqsdkf\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "user_id", "proposal_id") VALUES('mlsdkfmlsqdkfmlqsdkf
', '2010-08-07 11:41:22', '2010-08-07 11:41:22', 'veto', NULL, 1)[0m
  [4;36;1mSignature Create (0.1ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:41:22', '2010-08-07 11:41:22', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/21
Completed in 147ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:41:22) [GET]
  Parameters: {"id"=>"21", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 21 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 30ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/1/votes/21]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "votes"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_votes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_votes"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (155.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (52.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (74.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (75.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (109.2ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (76.7ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (55.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (70.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (98.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (75.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.0ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (56.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (54.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to RenameColumUserIdToVoterIdInSignature (20100807114940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TEMPORARY TABLE "altered_signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "voter_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "signatures"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "voter_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_signatures")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_signatures"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807114940')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to RenameColumUserIdToVoterIdInSignature (20100807114940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "signatures"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_signatures")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_signatures"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807114940'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (111.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (99.9ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (115.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (90.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (113.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (100.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (96.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (64.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (79.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:55:40) [POST]
  Parameters: {"vote"=>{"comment"=>"mlsdkfmlsqdkfmlqsdkf\r\n", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Proposal with ID=1):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/belongs_to_helpers.rb:83:in `send'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/belongs_to_helpers.rb:83:in `evaluate_parent'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:128:in `association_chain'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:127:in `each'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:127:in `inject'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:127:in `association_chain'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:162:in `end_of_association_chain'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:49:in `build_resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:31:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (47.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:55:45) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 13:55:46) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 118ms (View: 106, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:55:54) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"mlfkqmsldkfmlsqkdfmqlsdkfmqslkdfmqlsdkfmqlsdkfmqslkdfmqslkdfmqsldkfmqsldkfmqsldkfmqsldkfmqsldkfmsqlkdfmqsldkfmqsldkfmqsldkfqmsdlkfmqsldkf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 63ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:56:02) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"mlfkqmsldkfmlsqkdfmqlsdkfmqslkdfmqlsdkfmqlsdkfmqslkdfmqslkdfmqsldkfmqsldkfmqsldkfmqsldkfmqsldkfmsqlkdfmqsldkfmqsldkfmqsldkfqmsdlkfmqsldkf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"12"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 48ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:56:07) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"mlfkqmsldkfmlsqkdfmqlsdkfmqslkdfmqlsdkfmqlsdkfmqslkdfmqslkdfmqsldkfmqsldkfmqsldkfmqsldkfmqsldkfmsqlkdfmqsldkfmqsldkfmqsldkfqmsdlkfmqsldkf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"12"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 119ms (View: 98, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:56:43) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"mlfkqmsldkfmlsqkdfmqlsdkfmqslkdfmqlsdkfmqlsdkfmqslkdfmqslkdfmqsldkfmqsldkfmqsldkfmqsldkfmqsldkfmsqlkdfmqsldkfmqsldkfmqsldkfqmsdlkfmqsldkf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"12"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 56ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:57:26) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"oa4QnPcqEoeyG50s60226wnzIM1NyMJ4nuGXRFaS0QI=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"mlfkqmsldkfmlsqkdfmqlsdkfmqslkdfmqlsdkfmqlsdkfmqslkdfmqslkdfmqsldkfmqsldkfmqsldkfmqsldkfmqsldkfmsqlkdfmqsldkfmqsldkfmqsldkfqmsdlkfmqsldkf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"12"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering proposals/new
Completed in 57ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals]


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 13:57:33) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 8ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:57:33) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:57:36) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;35;1mAssociation Load (1.2ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mAssociation Delete all (0.3ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-128') [0m
  [4;35;1mAssociation Create (0.2ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-128', 1281182257, 'HMAC-SHA1', 'Mܸ
`
"Vo')[0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-128') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'p7folM' AND "open_id_nonces"."timestamp" = 1281182257) LIMIT 1[0m
  [4;36;1mNonce Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('p7folM', '', 1281182257)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:57:38) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T11:57:37Zp7folM", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-08-07T11%3A57%3A37Zp7folM&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 13:57:38) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 78ms (View: 69, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 13:57:41) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "user"=>{"nickname"=>"lkdsjqlkfjqsd", "openid"=>"https://openid.octo.com/users/mag", "email"=>"sqdlkfjslqdkj"}}
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-08-07 11:57:41', 'lkdsjqlkfjqsd', '2010-08-07 11:57:41', 'https://openid.octo.com/users/mag', 'sqdlkfjslqdkj')[0m
Redirected to http://localhost:3000/
Completed in 117ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 13:57:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 13:57:43) [GET]
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 48ms (View: 36, DB: 1) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 13:57:53) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"00", "text"=>"qsdlkfsqjdlfkjqsldkfjlkjsqdlkfjqlskdjflkjsqdf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"7", "opening_at(3i)"=>"31", "closing_at(1i)"=>"2014", "opening_at(4i)"=>"01", "closing_at(2i)"=>"8", "opening_at(5i)"=>"00", "closing_at(3i)"=>"6"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.3ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-07 11:57:53', '2010-08-07 11:57:53', 'qsdlkfsqjdlfkjqsldkfjlkjsqdlkfjqlskdjflkjsqdf', '2010-07-31 01:00:00', 'open', '2014-08-06 23:00:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 109ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 13:57:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 29ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:57:56) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 35ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:58:00) [POST]
  Parameters: {"vote"=>{"comment"=>"mlqsdfkmlskdf", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'mlqsdfkmlskdf', '2010-08-07 11:58:00', '2010-08-07 11:58:00', 'veto', 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 11:58:00', '2010-08-07 11:58:00', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/1
Completed in 117ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 13:58:01) [GET]
  Parameters: {"id"=>"1", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 1 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 24ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/1]
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Destroy (0.2ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 21[0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 16[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:59:18) [POST]
  Parameters: {"vote"=>{"comment"=>"mlqsdfkmlskdf", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 36ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 13:59:34) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 13:59:42) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 34ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:28) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 47ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:29) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:30) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 38ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:31) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 40ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:31) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 47ms (View: 18, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:32) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 58ms (View: 16, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:32) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 87ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:33) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 55ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:33) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (2.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 166ms (View: 16, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:51) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 38ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:01:54) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 35ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 1[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.2ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 1[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:02:12) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'qsfqsqfqfsd', '2010-08-07 12:02:12', '2010-08-07 12:02:12', 'veto', 1)[0m
  [4;35;1mSignature Create (0.1ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:02:12', '2010-08-07 12:02:12', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/2
Completed in 247ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:02:13) [GET]
  Parameters: {"id"=>"2", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 2 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 27ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/2]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:05:00) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 40ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:05:53) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 40ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals/1/votes]
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Destroy (0.2ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 2[0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 2[0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:06:14) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'qsfqsqfqfsd', '2010-08-07 12:06:14', '2010-08-07 12:06:14', 'veto', 1)[0m
  [4;36;1mSignature Create (0.1ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:06:14', '2010-08-07 12:06:14', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/3
Completed in 139ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:06:14) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 25ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1/votes/3]
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Destroy (0.4ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 3[0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.4ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 3[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:07:16) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:07:16', '2010-08-07 12:07:16', 'veto', 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:07:16', '2010-08-07 12:07:16', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/4
Completed in 152ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:07:17) [GET]
  Parameters: {"id"=>"4", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 4 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 85ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/4]
  [4;36;1mSignature Load (1.0ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.4ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 4[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 4[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:07:52) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:07:52', '2010-08-07 12:07:52', 'yes', 1)[0m
  [4;36;1mSignature Create (0.1ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:07:52', '2010-08-07 12:07:52', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/5
Completed in 139ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:07:52) [GET]
  Parameters: {"id"=>"5", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 5 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 21ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/5]
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 5[0m
  [4;36;1mSignature Load (1.6ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.4ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 5[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:10:04) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:10:04', '2010-08-07 12:10:04', 'veto', 1)[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:10:04', '2010-08-07 12:10:04', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/6
Completed in 145ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:10:04) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 24ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1/votes/6]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 6[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.4ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 6[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:10:56) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:10:56', '2010-08-07 12:10:56', 'veto', 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:10:56', '2010-08-07 12:10:56', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/7
Completed in 205ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:10:56) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 7 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 27ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/1/votes/7]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 7[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 7[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:11:41) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:11:41', '2010-08-07 12:11:41', 'veto', 1)[0m
  [4;35;1mSignature Create (0.2ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:11:41', '2010-08-07 12:11:41', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/8
Completed in 149ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:11:41) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"1"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 8 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 28ms (View: 11, DB: 2) | 200 OK [http://localhost/proposals/1/votes/8]
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 8[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.2ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 8[0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:19:29) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:19:29', '2010-08-07 12:19:29', 'yes', 1)[0m
  [4;36;1mSignature Create (1.0ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:19:29', '2010-08-07 12:19:29', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/9
Completed in 162ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:19:29) [GET]
  Parameters: {"id"=>"9", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 9 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 26ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1/votes/9]
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.3ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 9[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 9[0m


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:20:14) [GET]
  Parameters: {"id"=>"9", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 9 AND ("votes".proposal_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Vote with ID=9 AND ("votes".proposal_id = 1)):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:20:19) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, 'qsfqsqfqfsd', '2010-08-07 12:20:19', '2010-08-07 12:20:19', 'veto', 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:20:19', '2010-08-07 12:20:19', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/10
Completed in 166ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:20:19) [GET]
  Parameters: {"id"=>"10", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 10 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 30ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/1/votes/10]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 10[0m
  [4;36;1mVote Load (1.3ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 10[0m


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:25:05) [GET]
  Parameters: {"id"=>"10", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 10 AND ("votes".proposal_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Vote with ID=10 AND ("votes".proposal_id = 1)):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (44.1ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:25:09) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'qsfqsqfqfsd', '2010-08-07 12:25:09', '2010-08-07 12:25:09', 'veto', 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:25:09', '2010-08-07 12:25:09', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/11
Completed in 161ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:25:09) [GET]
  Parameters: {"id"=>"11", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 11 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 31ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1/votes/11]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.4ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 11[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.2ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 11[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:25:55) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'qsfqsqfqfsd', '2010-08-07 12:25:55', '2010-08-07 12:25:55', 'veto', 1)[0m
  [4;35;1mSignature Create (0.1ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:25:55', '2010-08-07 12:25:55', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/12
Completed in 157ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:25:55) [GET]
  Parameters: {"id"=>"12", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 12 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 84ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/12]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" LIMIT 1[0m
  [4;35;1mSignature Destroy (0.4ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 12[0m
  [4;36;1mVote Load (1.3ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.2ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 12[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:26:08) [POST]
  Parameters: {"vote"=>{"comment"=>"qsfqsqfqfsd", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'qsfqsqfqfsd', '2010-08-07 12:26:08', '2010-08-07 12:26:08', 'veto', 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:26:08', '2010-08-07 12:26:08', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/13
Completed in 148ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:26:08) [GET]
  Parameters: {"id"=>"13", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 13 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 24ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/1/votes/13]
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 13[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 13[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:27:34) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(1, '', '2010-08-07 12:27:34', '2010-08-07 12:27:34', 'veto', 1)[0m
  [4;35;1mSignature Create (0.1ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:27:34', '2010-08-07 12:27:34', 1, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/14
Completed in 146ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:27:34) [GET]
  Parameters: {"id"=>"14", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 14 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/14]
  [4;35;1mSignature Load (1.6ms)[0m   [0mSELECT * FROM "signatures" LIMIT 1[0m
  [4;36;1mSignature Destroy (0.5ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 14[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT * FROM "votes" LIMIT 1[0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 14[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 14:27:43) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"TJHXxBxFgW77QWbr+P/FCrVE+c+iBVpVYb0yhFRzos8=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-07 12:27:43', '2010-08-07 12:27:43', 'yes', 1)[0m
  [4;36;1mSignature Create (0.2ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 12:27:43', '2010-08-07 12:27:43', NULL, 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/15
Completed in 135ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 14:27:43) [GET]
  Parameters: {"id"=>"15", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 15 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 22ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals/1/votes/15]
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (160.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (100.9ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (125.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (105.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (73.6ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (59.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (127.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (149.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (105.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (104.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (97.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (95.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (73.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (65.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (58.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (49.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (117.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (64.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (62.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (61.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (137.4ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.0ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (97.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.6ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (64.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (74.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (117.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.6ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (54.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "votes"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_votes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_votes"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807114453'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100730230521'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-07-31 01:00:51' NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-06 23:00:51' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100730225457'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "votes"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_votes")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_votes"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100727115743'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "votes" ADD "proposal_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100727115743')[0m
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100730225457')[0m
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "altered_proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100730230521')[0m
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "votes"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_votes")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_votes"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (100.2ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (74.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.7ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (62.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (45.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (49.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:01:26' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:01:26' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (119.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (111.0ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (123.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (102.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (112.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (98.0ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (98.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (95.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (107.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (128.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (144.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (121.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (111.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (135.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (104.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:27:57' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:27:57' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:27:57' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:27:57' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807131612'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:27:57' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:27:57' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '--- 
:default: 
' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:27:57' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:27:57' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '--- 
:default: 
' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:29:46' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:29:46' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:29:46' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:29:46' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807131612'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:29:46' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:29:46' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '--- 
:null: true
:default: 
' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:29:46' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:29:46' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '--- 
:null: true
:default: 
' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:32:44' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:32:44' NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:32:44' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:32:44' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807131612'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:32:44' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:32:44' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '--- 
:null: false
:default: 1970-01-01 01:00:00
' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:32:44' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:32:44' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '--- 
:null: false
:default: 1970-01-01 01:00:00
' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (93.6ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (60.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (106.2ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.1ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (56.7ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (66.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (145.6ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (76.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (4.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (69.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (58.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (65.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (74.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:46:16' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:46:16' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 01:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:46:16' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:46:16' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807131612'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 15:46:16' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:46:16' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '--- 
:null: false
:default: 1970-01-01 00:00:00
' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:46:16' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 15:46:16' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "closing_at" datetime DEFAULT '--- 
:null: false
:default: 1970-01-01 00:00:00
' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:20:31' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:20:31' NOT NULL, "closing_at" datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:20:31' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:20:31' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100807131612'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:20:31' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:20:31' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:20:31' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:20:31' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (125.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (113.0ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (84.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (87.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (74.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (143.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (70.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100219130200')[0m
Migrating to CreateProposals (20100727113323)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100727113323')[0m
Migrating to CreateVotes (20100727113405)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100727113405')[0m
Migrating to CreateSignatures (20100727113436)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100727113436')[0m
Migrating to CreateUsers (20100727113534)
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100727113534')[0m
Migrating to AddProposalIdToVotes (20100727115743)
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "votes" ADD "proposal_id" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100727115743')[0m
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "altered_proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "altered_proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100730225457')[0m
Migrating to ChangeProposalsStatusDefault (20100730230521)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255), "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100730230521')[0m
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "votes"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_votes")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "altered_votes"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100807114453')[0m
Migrating to DropDefaultDatesOnProposal (20100807131612)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime DEFAULT '2010-08-07 17:23:01' NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime DEFAULT '2010-08-14 17:23:01' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (142.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (74.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.5ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.6ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (64.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (61.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (65.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (105.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.0ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (61.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (65.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (75.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (121.0ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.0ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (89.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (81.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (64.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (54.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (110.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.7ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (89.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (110.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (81.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (3.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (73.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (70.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (74.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (107.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.1ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "signatures"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_signatures"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "signatures"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_signatures"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 18:29:57) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 31ms (View: 23, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 18:30:01) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.1ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Delete all (0.6ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-129') [0m
  [4;36;1mAssociation Create (0.3ms)[0m   [0;1mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-129', 1281198602, 'HMAC-SHA1', 'HÊ}b&܏N2')[0m
  [4;35;1mAssociation Load (0.6ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-129') [0m
  [4;36;1mNonce Load (0.1ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'GAWYkZ' AND "open_id_nonces"."timestamp" = 1281198602) LIMIT 1[0m
  [4;35;1mNonce Create (0.3ms)[0m   [0mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('GAWYkZ', '', 1281198602)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 18:30:06) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T16:30:02ZGAWYkZ", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (DB: 1) | 302 Found [http://localhost/?rp_nonce=2010-08-07T16%3A30%3A02ZGAWYkZ&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 18:30:06) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 27ms (View: 17, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-07 18:30:09) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"gtR478/E6uQzL7F8/v7OwadQZIWzDfw69g+/YIkedyM=", "user"=>{"nickname"=>"lkjqlskjdf", "openid"=>"https://openid.octo.com/users/mag", "email"=>"lkjdlqksjf"}}
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-08-07 16:30:09', 'lkjqlskjdf', '2010-08-07 16:30:09', 'https://openid.octo.com/users/mag', 'lkjdlqksjf')[0m
Redirected to http://localhost:3000/
Completed in 226ms (DB: 0) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 18:30:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 18:30:10) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 57ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 18:30:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 43ms (View: 30, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 18:30:18) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gtR478/E6uQzL7F8/v7OwadQZIWzDfw69g+/YIkedyM=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"30", "text"=>"lkjlkqjdsflkjlkdsf\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"7", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"30", "closing_at(3i)"=>"14"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.4ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-07 16:30:18', '2010-08-07 16:30:18', 'lkjlkqjdsflkjlkdsf
', '2010-08-07 16:30:00', 'open', '2010-08-14 16:30:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 145ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 18:30:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 27ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-07 18:30:21) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering votes/new
Completed in 35ms (View: 18, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 18:30:23) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Create Vote", "authenticity_token"=>"gtR478/E6uQzL7F8/v7OwadQZIWzDfw69g+/YIkedyM=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering votes/new
Completed in 38ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-07 18:30:33) [POST]
  Parameters: {"vote"=>{"comment"=>"ah blalalla", "value"=>"no"}, "commit"=>"Create Vote", "authenticity_token"=>"gtR478/E6uQzL7F8/v7OwadQZIWzDfw69g+/YIkedyM=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-07 16:30:33', '2010-08-07 16:30:33', 1, 1)[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, 'ah blalalla', '2010-08-07 16:30:33', '2010-08-07 16:30:33', 'no', 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/1
Completed in 257ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-07 18:30:33) [GET]
  Parameters: {"id"=>"1", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 1 AND ("votes".proposal_id = 1)) [0m
Rendering votes/show
Completed in 34ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/1/votes/1]


Processing VotesController#index (for 127.0.0.1 at 2010-08-07 18:30:41) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m
Rendering votes/index

ActionView::TemplateError (undefined method `vote_path' for #<ActionView::Base:0xb6d4ad6c>) on line #5 of app/views/votes/index.html.haml:
2: 
3: %ul
4: - @votes.each do |vote|
5:   %li=link_to(h(vote.inspect), vote)
6:   

    app/views/votes/index.html.haml:5:in `_run_haml_app47views47votes47index46html46haml'
    app/views/votes/index.html.haml:4:in `each'
    app/views/votes/index.html.haml:4:in `_run_haml_app47views47votes47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (145.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 18:56:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 92ms (View: 74, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 19:03:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering proposals/show
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 15ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 15ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 42ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 51ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:06:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 33ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:08:31) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 15ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:13:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 2 spaces were used for indentation, but the rest of the document was indented using 4 spaces.) on line #9 of app/views/proposals/index.html.haml:
6:         %th= Proposal.human_attribute_name(attribute).capitalize
7:     
8: - @proposals.each do |proposal|
9:   %li=link_to(h(proposal.inspect), proposal)
10:   
11: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:9
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:247:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:13:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 2 spaces were used for indentation, but the rest of the document was indented using 4 spaces.) on line #9 of app/views/proposals/index.html.haml:
6:             %th= Proposal.human_attribute_name(attribute).capitalize
7:     
8: - @proposals.each do |proposal|
9:   %li=link_to(h(proposal.inspect), proposal)
10:   
11: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:9
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:247:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:15:34) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 2 spaces were used for indentation, but the rest of the document was indented using 4 spaces.) on line #9 of app/views/proposals/index.html.haml:
6:         %th= Proposal.human_attribute_name(attribute).capitalize
7:     
8: - @proposals.each do |proposal|
9:   %li=link_to(h(proposal.inspect), proposal)
10:   
11: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:9
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:247:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (59.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:15:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 2 spaces were used for indentation, but the rest of the document was indented using 4 spaces.) on line #9 of app/views/proposals/index.html.haml:
6:             %th= Proposal.human_attribute_name(attribute).capitalize
7:     
8: - @proposals.each do |proposal|
9:   %li=link_to(h(proposal.inspect), proposal)
10:   
11: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:9
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:247:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (134.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:17:18) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:19:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (The line was indented 4 levels deeper than the previous line.) on line #8 of app/views/proposals/index.html.haml:
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.each do |proposal|
8:             %tr
9:               %td= proposal.human_user
10:               %td= proposal.human_text
11:               %td= proposal.human_opening_at

    app/views/proposals/index.html.haml:8
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (118.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:19:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #8 of app/views/proposals/index.html.haml:
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.each do |proposal|
8:         %tr
9:           %td= proposal.human_user
10:           %td= proposal.human_text
11:           %td= proposal.human_opening_at

    app/views/proposals/index.html.haml:8
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:20:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #10 of app/views/proposals/index.html.haml:
7:       %th= Proposal.human_attribute_name(attribute).capitalize
8:     
9:     - @proposal.each do |proposal|
10:         %tr
11:           %td= proposal.human_user
12:           %td= proposal.human_text
13:           %td= proposal.human_opening_at

    app/views/proposals/index.html.haml:10
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:22:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #7 of app/views/proposals/index.html.haml:
4:   %thead
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.each do |proposal|
8:       %tr
9:         %td= proposal.human_user
10:         %td= proposal.human_text

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (132.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:22:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #7 of app/views/proposals/index.html.haml:
4:   %thead
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.each do |proposal|
8:       %tr
9:         %td= proposal.human_user_id
10:         %td= proposal.human_text

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (59.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:22:57) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #7 of app/views/proposals/index.html.haml:
4:   %thead
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.each do |proposal|
8:       %tr
9:         %td= proposal.human_user_id
10:         %td= proposal.human_text

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined method `try?' for nil:NilClass) on line #7 of app/views/proposals/index.html.haml:
4:   %thead
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.try?.each do |proposal|
8:       %tr
9:         %td= proposal.human_user
10:         %td= proposal.human_text

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #7 of app/views/proposals/index.html.haml:
4:   %thead
5:     - [:user,:text,:opening_at,:closed_at,:status].each do |attribute|
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposal.try.each do |proposal|
8:       %tr
9:         %td= proposal.human_user
10:         %td= proposal.human_text

    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (127.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined method `human_user' for #<Proposal:0xb6f19698>) on line #9 of app/views/proposals/index.html.haml:
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposals.each do |proposal|
8:       %tr
9:         %td= proposal.human_user
10:         %td= proposal.human_text
11:         %td= proposal.human_opening_at
12:         %td= proposal.human_closing_at

    app/views/proposals/index.html.haml:9:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined method `human_user_id' for #<Proposal:0xb6c08f44>) on line #9 of app/views/proposals/index.html.haml:
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposals.each do |proposal|
8:       %tr
9:         %td= proposal.human_user_id
10:         %td= proposal.human_text
11:         %td= proposal.human_opening_at
12:         %td= proposal.human_closing_at

    app/views/proposals/index.html.haml:9:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined method `human_user_id' for #<Proposal:0xb6ce9c74>) on line #9 of app/views/proposals/index.html.haml:
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposals.each do |proposal|
8:       %tr
9:         %td= proposal.human_user_id
10:         %td= proposal.human_text
11:         %td= proposal.human_opening_at
12:         %td= proposal.human_closing_at

    app/views/proposals/index.html.haml:9:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (125.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:23:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index

ActionView::TemplateError (undefined method `human_text' for #<Proposal:0xb6ea5680>) on line #9 of app/views/proposals/index.html.haml:
6:       %th= Proposal.human_attribute_name(attribute).capitalize
7:     - @proposals.each do |proposal|
8:       %tr
9:         %td= proposal.human_text
10:         %td= proposal.human_opening_at
11:         %td= proposal.human_closing_at
12:         %td= proposal.human_status

    app/views/proposals/index.html.haml:9:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:24:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 29ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:24:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:24:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:24:41) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 19ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-07 19:24:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering proposals/new
Completed in 51ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-07 19:25:03) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"gtR478/E6uQzL7F8/v7OwadQZIWzDfw69g+/YIkedyM=", "proposal"=>{"closing_at(4i)"=>"17", "closing_at(5i)"=>"24", "text"=>"cldsqmlkmqcsldkmlsqdkc", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"7", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"17", "closing_at(2i)"=>"8", "opening_at(5i)"=>"24", "closing_at(3i)"=>"14"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.4ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-07 17:25:03', '2010-08-07 17:25:03', 'cldsqmlkmqcsldkmlsqdkc', '2010-08-07 17:24:00', 'open', '2010-08-14 17:24:00')[0m
Redirected to http://localhost:3000/proposals/2
Completed in 106ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-07 19:25:04) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering proposals/show
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:25:06) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 20ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:26:32) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 29ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:26:33) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 20ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 20ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:01) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 22ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 23ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 20ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 21ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 35ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:29:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering proposals/index
Completed in 22ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:34:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined local variable or method `display_title' for #<ActionView::Base:0xb6d19780>) on line #4 of app/views/layouts/main.html.haml:
1: !!! html 5
2: %html
3:   %head
4:     %title= display_title
5:     %meta(http-equiv="content-type" content="text/html; charset=utf-8")
6:     = js_includes
7:     = stylesheet_link_tag "application"

    app/views/layouts/main.html.haml:4:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:34:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined local variable or method `js_includes' for #<ActionView::Base:0xb6d458e4>) on line #6 of app/views/layouts/main.html.haml:
3:   %head
4:     %title= 'Dynamocracy'
5:     %meta(http-equiv="content-type" content="text/html; charset=utf-8")
6:     = js_includes
7:     = stylesheet_link_tag "application"
8:   %body
9:     .wrap_header

    app/views/layouts/main.html.haml:6:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (127.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:35:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `link_to_t' for #<ActionView::Base:0xb6ea4910>) on line #10 of app/views/layouts/main.html.haml:
7:   %body
8:     .wrap_header
9:       %header
10:         %h1= link_to_t 'tlfj', root_path
11:         #user_nav
12:           .logged_in#user_logged_in
13:             %img#avatar

    app/views/layouts/main.html.haml:10:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:35:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `new_payment_path' for #<ActionView::Base:0xb6f9aacc>) on line #15 of app/views/layouts/main.html.haml:
12:           .logged_in#user_logged_in
13:             %img#avatar
14:             %ul
15:               %li= link_to_t 'payments.new.buy_cash', new_payment_path(:type=>:cash)
16:               %li= link_to_t 'payments.new.buy_practice', new_payment_path
17:               %li
18:                 = link_to_t '.my_account', my_account_users_path

    app/views/layouts/main.html.haml:15:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:57:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 105ms (View: 92, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:57:41) [GET]

ActionController::RoutingError (No route matches "/images/sharkskin.gif" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:57:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:58:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:25) [GET]

ActionController::RoutingError (No route matches "/stylesheets/board.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:25) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:25) [GET]

ActionController::RoutingError (No route matches "/stylesheets/layout.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-07 19:58:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 9ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:58:30) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 81ms (View: 80, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:58:35) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.3ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (0.2ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 1[0m
  [4;36;1mAssociation Delete all (0.3ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-130') [0m
  [4;35;1mAssociation Create (0.2ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-130', 1281203916, 'HMAC-SHA1', 'Ԝ{4iəHL%25B')[0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid' AND "open_id_associations"."handle" = '1279834756437-130') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'rSu3rp' AND "open_id_nonces"."timestamp" = 1281203916) LIMIT 1[0m
  [4;36;1mNonce Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('rSu3rp', '', 1281203916)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:58:39) [GET]
  Parameters: {"rp_nonce"=>"2010-08-07T17:58:36ZrSu3rp", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 7ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-07T17%3A58%3A36ZrSu3rp&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 19:58:39) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:39) [GET]

ActionController::RoutingError (No route matches "/stylesheets/board.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:39) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 19:58:39) [GET]

ActionController::RoutingError (No route matches "/stylesheets/layout.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:00:44) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 32ms (View: 18, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:00:44) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:01:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:01:53) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:01:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:01:54) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:02:05) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:02:05) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:02:47) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 93ms (View: 79, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:02:47) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:03:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h1 and nested within it.) on line #12 of app/views/layouts/main.html.haml:
9:     .wrap_header
10:       .header
11:       %h1='Dynamocracy'
12:         %header
13:           #user_nav
14:             %li= link_to_t 'Logout', '/logout'
15:     .wrap_menu

    app/views/layouts/main.html.haml:12
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:03:32) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h1 and nested within it.) on line #12 of app/views/layouts/main.html.haml:
9:     .wrap_header
10:       .header
11:         %h1= 'Dynamocracy'
12:           %header
13:             #user_nav
14:               %li= link_to_t 'Logout', '/logout'
15:     .wrap_menu

    app/views/layouts/main.html.haml:12
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:03:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 16, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:03:59) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:04:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:04:11) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:04:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 16, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:04:51) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:05:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #16 of app/views/layouts/main.html.haml:
13:         .public_menu
14:           = link_to 'Home', '/'
15:         .user_menu
16:             = link_to 'Logout', '/'
17:     .wrap_content
18:       .content
19:         #error_div_id.flash.error(style="display:none")

    app/views/layouts/main.html.haml:16
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:7:in `index'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:06:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 29ms (View: 16, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:06:03) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:06:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 32ms (View: 18, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:06:54) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:06:54) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:23:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:23:12) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:23:12) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:23:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 66, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:23:13) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:23:13) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:27:45) [GET]

SyntaxError (/home/mag/dev/octocracy_spike/app/models/proposal.rb:42: syntax error, unexpected ')', expecting ']'
/home/mag/dev/octocracy_spike/app/models/proposal.rb:46: syntax error, unexpected ')', expecting ']'
/home/mag/dev/octocracy_spike/app/models/proposal.rb:53: syntax error, unexpected $end, expecting kEND):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/class_methods.rb:233:in `initialize_resources_class_accessors!'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources.rb:40:in `inherit_resources'
  app/controllers/proposals_controller.rb:6
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (43.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:28:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:28:36' AND opening_at < '2010-08-07 20:28:36') [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:28:36' AND opening_at < '2010-08-07 20:28:36') ):
  app/models/proposal.rb:34:in `votables'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (113.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:29:06) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:29:06' AND opening_at < '2010-08-07 20:29:06') [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:29:06' AND opening_at < '2010-08-07 20:29:06') ):
  app/models/proposal.rb:34:in `votables'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (45.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:29:14) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:29:14' AND opening_at < '2010-08-07 20:29:14') [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: expiring_at: SELECT * FROM "proposals" WHERE (status = 'open' AND expiring_at > '2010-08-07 20:29:14' AND opening_at < '2010-08-07 20:29:14') ):
  app/models/proposal.rb:34:in `votables'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (114.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:30:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (status = 'open' AND closing_at > '2010-08-07 20:30:08' AND opening_at < '2010-08-07 20:30:08') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:30:08) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:30:08) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:32:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE (status = 'open' AND closing_at > '2010-08-07 20:32:17' AND opening_at < '2010-08-07 20:32:17') [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `instance_attribute' for #<ActionView::Base:0xb6c68df4>) on line #10 of app/views/proposals/index.html.haml:
7:     %thead
8:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:       - instance_attribute("@#{type}").each do |proposal|
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:33:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (status = 'open' AND closing_at > '2010-08-07 20:33:33' AND opening_at < '2010-08-07 20:33:33') [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `instance_attribute_get' for #<ActionView::Base:0xb6d39148>) on line #10 of app/views/proposals/index.html.haml:
7:     %thead
8:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:       - instance_attribute_get("@#{type}").each do |proposal|
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (120.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:34:02) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE (status = 'open' AND closing_at > '2010-08-07 20:34:02' AND opening_at < '2010-08-07 20:34:02') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 28ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:34:02) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:34:02) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-07 20:34:47) [GET]

SyntaxError (/home/mag/dev/octocracy_spike/app/controllers/proposals_controller.rb:9: syntax error, unexpected tSTRING_BEG
    instance_variable_set('votables',Proposal.'votables')
                                               ^
/home/mag/dev/octocracy_spike/app/controllers/proposals_controller.rb:9: syntax error, unexpected ')', expecting kEND):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (33.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:35:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `call' for #<Class:0xb7016334>):
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:36:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE (status = 'open' AND closing_at > '2010-08-07 20:36:25' AND opening_at < '2010-08-07 20:36:25') [0m

NameError (`votables' is not allowed as an instance variable name):
  app/controllers/proposals_controller.rb:9:in `instance_variable_set'
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (35.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:36:39) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (`votables' is not allowed as an instance variable name):
  app/controllers/proposals_controller.rb:9:in `instance_variable_set'
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (39.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:37:06) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (`votables' is not allowed as an instance variable name):
  app/controllers/proposals_controller.rb:9:in `instance_variable_set'
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-07 20:37:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (`votables' is not allowed as an instance variable name):
  app/controllers/proposals_controller.rb:9:in `instance_variable_set'
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (104.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (4.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (11.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (134.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.9ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (81.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (92.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (12.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (77.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (75.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (60.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (55.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:39:14) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 145ms (View: 112, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:39:20) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 6ms (View: 4, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (1.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (1.2ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 2[0m
  [4;36;1mAssociation Delete all (1.1ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-174') [0m
  [4;35;1mAssociation Create (0.9ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-174', 1281785962, 'HMAC-SHA1', 'QY^/=U#2Ô(:')[0m
  [4;36;1mAssociation Load (2.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."handle" = '1279834756437-174' AND "open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mNonce Load (0.6ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."salt" = 'pH8AOc' AND "open_id_nonces"."timestamp" = 1281785962 AND "open_id_nonces"."server_url" = '') LIMIT 1[0m
  [4;36;1mNonce Create (0.8ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('pH8AOc', '', 1281785962)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:39:29) [GET]
  Parameters: {"rp_nonce"=>"2010-08-14T11:39:22ZpH8AOc", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 29ms (DB: 6) | 302 Found [http://localhost/?rp_nonce=2010-08-14T11%3A39%3A22ZpH8AOc&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:39:29) [GET]
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0xb6615254>):
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (364.6ms)
Rendered rescues/_request_and_response (5.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:40:33) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #10 of app/views/proposals/index.html.haml:
7:     %thead
8:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:       - instance_variable_get("@#{type}").each do |proposal|
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (456.7ms)
Rendered rescues/_request_and_response (5.8ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:41:50) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #10 of app/views/proposals/index.html.haml:
7:     %thead
8:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:       - instance_variable_get("@#{type}").each do |proposal|
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (215.6ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:41:51) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #10 of app/views/proposals/index.html.haml:
7:     %thead
8:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:       - instance_variable_get("@#{type}").each do |proposal|
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (216.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:43:14) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.8ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb6643834>) on line #12 of app/views/proposals/index.html.haml:
9:         %th= Proposal.human_attribute_name(attribute).capitalize
10:      
11:         %tr
12:           %td= proposal.user
13:           %td= proposal.text
14:           %td= proposal.opening_at
15:           %td= proposal.closing_at

    app/views/proposals/index.html.haml:12:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:8:in `each'
    app/views/proposals/index.html.haml:8:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:4:in `each'
    app/views/proposals/index.html.haml:4:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (426.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:45:03) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.9ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h2 and nested within it.) on line #5 of app/views/proposals/index.html.haml:
2: 
3: 
4: %h2=type
5:   %table.proposals
6:     %thead
7:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
8:         %th= Proposal.human_attribute_name(attribute).capitalize

    app/views/proposals/index.html.haml:5
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (229.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:45:28) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h2 and nested within it.) on line #5 of app/views/proposals/index.html.haml:
2: 
3: 
4: %h2=type
5:   %table.proposals
6:     %thead
7:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
8:         %th= Proposal.human_attribute_name(attribute).capitalize

    app/views/proposals/index.html.haml:5
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (205.7ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:45:35) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h1 and nested within it.) on line #4 of app/views/proposals/index.html.haml:
1: %h1 Proposals
2: 
3: 
4:   %h2=type
5:     %table.proposals
6:       %thead
7:         - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|

    app/views/proposals/index.html.haml:4
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (483.8ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:46:28) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h2 and nested within it.) on line #2 of app/views/proposals/index.html.haml:
1: %h2='Prososals'
2:   %table.proposals
3:     %thead
4:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
5:         %th= Proposal.human_attribute_name(attribute).capitalize

    app/views/proposals/index.html.haml:2
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (257.1ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:46:48) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 143ms (View: 84, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:46:49) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:46:49) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:49:05) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `human_opening_at' for #<Proposal:0xb670e318>) on line #11 of app/views/proposals/index.html.haml:
8:         %tr
9:           %td= proposal.user
10:           %td= proposal.text
11:           %td= proposal.human_opening_at
12:           %td= proposal.closing_at
13:           %td= proposal.status
14: 

    app/views/proposals/index.html.haml:11:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (444.6ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:49:20) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `human' for Sat Aug 07 16:30:00 UTC 2010:Time) on line #11 of app/views/proposals/index.html.haml:
8:         %tr
9:           %td= proposal.user
10:           %td= proposal.text
11:           %td= proposal.opening_at.human
12:           %td= proposal.closing_at
13:           %td= proposal.status
14: 

    app/views/proposals/index.html.haml:11:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (404.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:49:25) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `humanize' for Sat Aug 07 16:30:00 UTC 2010:Time) on line #11 of app/views/proposals/index.html.haml:
8:         %tr
9:           %td= proposal.user
10:           %td= proposal.text
11:           %td= proposal.opening_at.humanize
12:           %td= proposal.closing_at
13:           %td= proposal.status
14: 

    app/views/proposals/index.html.haml:11:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:7:in `each'
    app/views/proposals/index.html.haml:7:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (240.7ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:58:03) [GET]
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 187ms (View: 110, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:58:04) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:58:04) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:58:45) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 94ms (View: 37, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:58:45) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 13:58:45) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 13:59:21) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (9.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 577ms (View: 371, DB: 11) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:00:04) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.9ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 180ms (View: 107, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:04) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:00:16) [GET]
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 136ms (View: 79, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:17) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:00:28) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 370ms (View: 87, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:29) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:29) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:00:40) [GET]
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.8ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 141ms (View: 79, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:40) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:00:47) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 102ms (View: 42, DB: 5) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:48) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:00:48) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 14:01:05) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.8ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 139ms (View: 80, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:01:05) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 14:01:06) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:04:56) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 106ms (View: 45, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:04:57) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:04:57) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:20:05) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 124ms (View: 68, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:05) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:06) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:20:07) [GET]
  Parameters: {"search"=>{"opening_at_before"=>"Sat Aug 14 15:20:05 +0200 2010"}}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.opening_at < '2010-08-14 15:20:05') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 118ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A20%3A05+%2B0200+2010]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:08) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:08) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:20:54) [GET]
  Parameters: {"search"=>{"opening_at_before"=>"Sat Aug 14 15:20:05 +0200 2010"}}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.opening_at < '2010-08-14 15:20:05') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 153ms (View: 74, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A20%3A05+%2B0200+2010]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:55) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:20:55) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:20:56) [GET]
  Parameters: {"search"=>{"closing_at_after"=>"Sat Aug 14 15:20:54 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:20:54 +0200 2010", "status_equal"=>"open"}}
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

Searchlogic::Search::UnknownConditionError (The status_equal is not a valid condition. You may only use conditions that map to a named scope):
  searchlogic (2.4.19) lib/searchlogic/search.rb:125:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `each'
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:51:in `initialize'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `new'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `search'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (174.0ms)
Rendered rescues/_request_and_response (5.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:21:50) [GET]
  Parameters: {"search"=>{"closing_at_after"=>"Sat Aug 14 15:20:54 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:20:54 +0200 2010", "status_equal"=>"open"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

Searchlogic::Search::UnknownConditionError (The status_equal is not a valid condition. You may only use conditions that map to a named scope):
  searchlogic (2.4.19) lib/searchlogic/search.rb:125:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `each'
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:51:in `initialize'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `new'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `search'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (181.8ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:22:00) [GET]
  Parameters: {"search"=>{"closing_at_after"=>"Sat Aug 14 15:20:54 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:20:54 +0200 2010", "status_equal"=>"open"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

Searchlogic::Search::UnknownConditionError (The status_equal is not a valid condition. You may only use conditions that map to a named scope):
  searchlogic (2.4.19) lib/searchlogic/search.rb:125:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:84:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `each'
  searchlogic (2.4.19) lib/searchlogic/search.rb:80:in `conditions='
  searchlogic (2.4.19) lib/searchlogic/search.rb:51:in `initialize'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `new'
  searchlogic (2.4.19) lib/searchlogic/search.rb:25:in `search'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (423.0ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:22:24) [GET]
  Parameters: {"search"=>{"opening_at_before"=>"Sat Aug 14 15:20:05 +0200 2010"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.opening_at < '2010-08-14 15:20:05') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 138ms (View: 65, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A20%3A05+%2B0200+2010]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:24) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:25) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:22:38) [GET]
  Parameters: {"search"=>{"opening_at_before"=>"Sat Aug 14 15:20:05 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.opening_at < '2010-08-14 15:20:05') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 145ms (View: 71, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A20%3A05+%2B0200+2010]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:39) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:39) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:22:41) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:22:38 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:22:38 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:22:38') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:22:38'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 136ms (View: 40, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A22%3A38+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A22%3A38+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:42) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:42) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:22:45) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:22:41 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:22:41 +0200 2010"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:22:41') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:22:41'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 150ms (View: 46, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A22%3A41+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A22%3A41+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:46) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:22:46) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:25:42) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:22:41 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:22:41 +0200 2010"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:22:41') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:22:41'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 175ms (View: 78, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A22%3A41+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A22%3A41+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:43) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:43) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:25:45) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:25:42 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:25:42 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:25:42') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:25:42'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 139ms (View: 45, DB: 4) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A25%3A42+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A25%3A42+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:46) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:46) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:25:47) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 15:25:45 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 15:25:45') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 108ms (View: 34, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+15%3A25%3A45+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:48) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:48) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:25:49) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_before"=>"Sat Aug 14 15:25:47 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:25:47')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 50, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A25%3A47+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:50) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:50) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:25:54) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_before"=>"Sat Aug 14 15:25:49 +0200 2010"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:25:49')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 340ms (View: 48, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_before%5D=Sat+Aug+14+15%3A25%3A49+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:55) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:25:55) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:26:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 94ms (View: 36, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:26:36) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 98ms (View: 38, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:37) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:38) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:26:38) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 103ms (View: 33, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:39) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:26:39) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:26:38 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:26:38 +0200 2010"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:26:38') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:26:38'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 159ms (View: 70, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A26%3A38+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A26%3A38+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:10) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:10) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:12) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 15:27:09 +0200 2010"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 15:27:09') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 104ms (View: 33, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+15%3A27%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:12) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:12) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:14) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 15:27:12 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 15:27:12') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 115ms (View: 36, DB: 2) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+15%3A27%3A12+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:14) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:15) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 295ms (View: 35, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:18) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:18) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:19) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 103ms (View: 51, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:19) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:20) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 15:27:21) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 469ms (View: 410, DB: 1) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:22) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:22) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 15:27:37) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"13", "closing_at(5i)"=>"27", "text"=>"Pending", "opening_at(1i)"=>"2011", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2011", "opening_at(4i)"=>"13", "closing_at(2i)"=>"8", "opening_at(5i)"=>"27", "closing_at(3i)"=>"21"}}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 247ms (View: 156, DB: 0) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:38) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:38) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 15:27:50) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"13", "closing_at(5i)"=>"27", "text"=>"Pending proposal to wait for", "opening_at(1i)"=>"2011", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2011", "opening_at(4i)"=>"13", "closing_at(2i)"=>"8", "opening_at(5i)"=>"27", "closing_at(3i)"=>"21"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (1.5ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-14 13:27:51', '2010-08-14 13:27:51', 'Pending proposal to wait for', '2011-08-14 13:27:00', 'open', '2011-08-21 13:27:00')[0m
Redirected to http://localhost:3000/proposals/3
Completed in 404ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 15:27:51) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 114ms (View: 53, DB: 2) | 200 OK [http://localhost/proposals/3]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:52) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:52) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:55) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 110ms (View: 52, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:27:55) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 115ms (View: 55, DB: 3) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:56) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:27:56) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:29:07) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 15:27:55 +0200 2010"}}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 15:27:55') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 157ms (View: 52, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+15%3A27%3A55+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:07) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:08) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:29:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 15:29:07 +0200 2010", "opening_at_before"=>"Sat Aug 14 15:29:07 +0200 2010"}}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 15:29:07') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 15:29:07'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 135ms (View: 45, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+15%3A29%3A07+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+15%3A29%3A07+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:10) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:11) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:29:15) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 15:29:09 +0200 2010"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 15:29:09') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 115ms (View: 35, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+15%3A29%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:16) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:16) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:29:20) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 15:29:16 +0200 2010"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 15:29:16') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 129ms (View: 42, DB: 3) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+15%3A29%3A16+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:21) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:21) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 15:29:24) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 192ms (View: 136, DB: 1) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:25) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:29:25) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 15:30:16) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"13", "closing_at(5i)"=>"34", "text"=>"nearly close", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"13", "closing_at(2i)"=>"8", "opening_at(5i)"=>"29", "closing_at(3i)"=>"14"}}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 220ms (View: 141, DB: 0) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:17) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:17) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 15:30:28) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"13", "closing_at(5i)"=>"34", "text"=>"nearly closed proposal withtout vote ", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"13", "closing_at(2i)"=>"8", "opening_at(5i)"=>"29", "closing_at(3i)"=>"14"}}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.9ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "opening_at", "status", "closing_at") VALUES('2010-08-14 13:30:28', '2010-08-14 13:30:28', 'nearly closed proposal withtout vote ', '2010-08-14 13:29:00', 'open', '2010-08-14 13:34:00')[0m
Redirected to http://localhost:3000/proposals/4
Completed in 196ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 15:30:29) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 83ms (View: 29, DB: 2) | 200 OK [http://localhost/proposals/4]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:29) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:30) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 15:30:32) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 118ms (View: 58, DB: 4) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:32) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 15:30:33) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:23) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 38ms (View: 23, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:23) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:23) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 29ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:24) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:25) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:27) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 16:25:24 +0200 2010", "opening_at_before"=>"Sat Aug 14 16:25:24 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 16:25:24') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 16:25:24'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 36ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+16%3A25%3A24+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+16%3A25%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:27) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:27) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:28) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 16:25:27 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 16:25:27') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 29ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+16%3A25%3A27+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:28) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:28) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:32) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 16:25:28 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 16:25:28') AND (proposals.status = 'open')) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+16%3A25%3A28+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:33) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:33) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:34) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:34) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:25:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:25:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:26:49) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 22ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:49) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:49) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:26:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:51) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:51) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:26:52) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 16:26:51 +0200 2010", "opening_at_before"=>"Sat Aug 14 16:26:51 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-14 16:26:51') AND ((proposals.status = 'open') AND (proposals.opening_at < '2010-08-14 16:26:51'))) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 36ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+16%3A26%3A51+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+16%3A26%3A51+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:52) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:52) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:26:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:52) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:26:53) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:27:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `will_paginate' for #<ActionView::Base:0xb64f1490>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:04) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb63f6068>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.8ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb655240c>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (127.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb68021d4>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb643cce8>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb657fe70>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (127.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `total_pages' for #<Array:0xb6820314>) on line #21 of app/views/proposals/index.html.haml:
18:           %td= facebook_distance_of_time_in_words proposal.closing_at
19:           %td= proposal.full_status
20: 
21:     = will_paginate
22: 
23: = link_to 'New proposal', new_proposal_path

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/proposals/index.html.haml:21:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:42:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ArgumentError (parameter hash expected):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:242:in `wp_parse_options'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:66:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:9:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:43:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m

NoMethodError (undefined method `all' for #<WillPaginate::Collection:0xb669c114>):
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:43:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 105ms (View: 87, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:43:39) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:43:39) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:46:14) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:12: syntax error, unexpected '<'
...alse_false_false_true_false((<%= Proposal.human_attribute_na...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:12: syntax error, unexpected '>'
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:16: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:16: syntax error, unexpected $undefined
));}</td>\n        <td>#{_hamlout.adjust...
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:17: syntax error, unexpected ')'
));}</td>\n        <td>#{_hamlo...
 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:18: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:18: syntax error, unexpected $undefined
));}</td>\n        <td>#{_hamlout.adjust...
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:19: syntax error, unexpected ')'
));}</td>\n        <td>#{_hamlo...
 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: syntax error, unexpected $undefined
));}</td>\n      </tr>\n", -1, false);
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: unknown regexp options - thad
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: unmatched ): /tr>\n", -1, false);
end;_hamlout.push_text("    </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: syntax error, unexpected $undefined
...mlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:24: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  #{

_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decision", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  <table class='proposals'>\n    <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((<%= Proposal.human_attribute_name(attribute).capitalize @search, :by => attribute %>
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      </tr>\n", -1, false);
end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:12: syntax error, unexpected '<'
...alse_false_false_true_false((<%= Proposal.human_attribute_na...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:12: syntax error, unexpected '>'
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:16: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:16: syntax error, unexpected $undefined
));}</td>\n        <td>#{_hamlout.adjust...
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:17: syntax error, unexpected ')'
));}</td>\n        <td>#{_hamlo...
 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:18: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:18: syntax error, unexpected $undefined
));}</td>\n        <td>#{_hamlout.adjust...
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:19: syntax error, unexpected ')'
));}</td>\n        <td>#{_hamlo...
 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: unknown regexp options - td
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: syntax error, unexpected $undefined
));}</td>\n      </tr>\n", -1, false);
          ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: unknown regexp options - thad
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: unmatched ): /tr>\n", -1, false);
end;_hamlout.push_text("    </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:21: syntax error, unexpected $undefined
...mlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:24: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected $end, expecting kEND) on line #12 of app/views/proposals/index.html.haml:
9:   %table.proposals
10:     %thead
11:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
12:         %th= <%= Proposal.human_attribute_name(attribute).capitalize @search, :by => attribute %>  
13:       - @proposals.each do |proposal|
14:         %tr
15:           %td= proposal.user

    app/views/proposals/index.html.haml:27:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:46:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (wrong number of arguments (2 for 0)) on line #12 of app/views/proposals/index.html.haml:
9:   %table.proposals
10:     %thead
11:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
12:         %th= Proposal.human_attribute_name(attribute).capitalize @search, :by => attribute 
13:       - @proposals.each do |proposal|
14:         %tr
15:           %td= proposal.user

    app/views/proposals/index.html.haml:12:in `capitalize'
    app/views/proposals/index.html.haml:12:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:11:in `each'
    app/views/proposals/index.html.haml:11:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:46:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (wrong number of arguments (2 for 0)) on line #12 of app/views/proposals/index.html.haml:
9:   %table.proposals
10:     %thead
11:       - [:user,:text,:opening_at,:closing_at,:status].each do |attribute|
12:         %th= order Proposal.human_attribute_name(attribute).capitalize @search, :by => attribute 
13:       - @proposals.each do |proposal|
14:         %tr
15:           %td= proposal.user

    app/views/proposals/index.html.haml:12:in `capitalize'
    app/views/proposals/index.html.haml:12:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:11:in `each'
    app/views/proposals/index.html.haml:11:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (145.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:14) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 42ms (View: 26, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:14) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:14) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:16) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_opening_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 33ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_opening_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:17) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:17) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:18) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_opening_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.opening_at DESC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 32ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_opening_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:18) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:19) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:20) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_closing_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_closing_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:20) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:20) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:22) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_closing_at"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.closing_at DESC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 33ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_closing_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:22) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:22) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:29) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_status"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 33ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_status]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:30) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:30) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:34) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_user"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_user]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:34) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:34) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:35) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_text"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.text ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_text]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:36) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:36) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:48) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_opening_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_opening_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:48) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:48) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:57) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 16:47:48 +0200 2010", "opening_at_before"=>"Sat Aug 14 16:47:48 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 16:47:48')) AND (proposals.opening_at < '2010-08-14 16:47:48')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 38ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+16%3A47%3A48+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+16%3A47%3A48+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:57) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:57) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:47:59) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 16:47:57 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 16:47:57') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+16%3A47%3A57+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:59) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:47:59) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:02) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 16:47:59 +0200 2010", "opening_at_before"=>"Sat Aug 14 16:47:59 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 16:47:59')) AND (proposals.opening_at < '2010-08-14 16:47:59')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 38ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+16%3A47%3A59+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+16%3A47%3A59+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:02) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:02) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:04) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 16:48:02 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 16:48:02') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+16%3A48%3A02+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:04) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:04) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:11) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 22ms (View: 9, DB: 0) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:11) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:11) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:12) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 93ms (View: 79, DB: 0) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:12) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:12) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:26) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 44, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:26) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 16:48:26) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 16:48:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `name' for nil:NilClass) on line #15 of app/views/proposals/index.html.haml:
12:         %th= order  @search, :by => attribute 
13:       - @proposals.each do |proposal|
14:         %tr
15:           %td= proposal.user.name
16:           %td= proposal.text
17:           %td= facebook_distance_of_time_in_words proposal.opening_at
18:           %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:13:in `each'
    app/views/proposals/index.html.haml:13:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (115.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (208.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (106.6ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (88.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (102.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.4ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (79.7ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (65.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (49.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (123.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (95.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (78.2ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (54.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (110.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (67.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (82.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (82.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (65.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (68.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (63.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (132.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (87.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.9ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (88.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (70.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.0ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (71.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (85.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (73.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (157.4ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (51.8ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (77.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (74.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (51.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (49.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (177.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (76.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (90.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (89.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (88.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (77.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (77.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (91.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (74.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (64.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (158.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (1.2ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ("signatures".proposal_id = 4) [0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: Cannot add a NOT NULL column with default value NULL: ALTER TABLE "proposals" ADD "user_id" integer NOT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (123.2ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (90.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (118.1ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.3ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (109.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (90.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (87.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (74.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (86.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: Cannot add a NOT NULL column with default value NULL: ALTER TABLE "proposals" ADD "user_id" integer NOT NULL[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "proposals" ADD "user_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" LIMIT 1[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 17:55:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 129ms (View: 115, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 17:55:19) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 17:55:19) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 17:55:23) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 83ms (View: 44, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 17:55:23) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 17:55:23) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 17:55:31) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"55", "text"=>"kjhkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhkljhlkjhlkjhlkjh\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"55", "closing_at(3i)"=>"21"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:16:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 17:56:20) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"55", "text"=>"kjhkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhkljhlkjhlkjhlkjh\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"55", "closing_at(3i)"=>"21"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:16:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:19:00) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"55", "text"=>"kjhkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhlkjhkljhlkjhlkjhlkjh\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"55", "closing_at(3i)"=>"21"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:16:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (43.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 18:19:17) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 51ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:17) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:17) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:19:22) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"PUUMs+2NEv+hQLYuSLUxoEu8TkhdXcvHQEdPImK9JFk=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"19", "text"=>"qerùmùmlfùmldfùdmldqsqùslmdfsq", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"19", "closing_at(3i)"=>"21"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/proposals_controller.rb:16:in `set_user'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:36) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 25ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:36) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:36) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:39) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 118ms (View: 11, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:39) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:39) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 22ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 26ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 24ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 24ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 89ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:42) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:19:49) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 25ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:50) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:19:50) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:20:03) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_opening_at"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (10.7ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 37ms (View: 7, DB: 11) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_opening_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:03) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:03) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:20:04) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_closing_at"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 21ms (View: 6, DB: 0) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_closing_at]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:04) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:05) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:20:06) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:20:04 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:20:04 +0200 2010"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:20:04')) AND (proposals.opening_at < '2010-08-14 18:20:04')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 35ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A20%3A04+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A20%3A04+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:06) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:06) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:20:07) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:20:06 +0200 2010"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:20:06') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 28ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A20%3A06+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:07) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:07) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:20:45) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 40ms (View: 21, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:45) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:20:45) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:14) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 35ms (View: 25, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:18) [GET]
  Parameters: {"openid_identifier"=>""}
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/?openid_identifier=]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:23) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.4ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Delete all (1.1ms)[0m   [0mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-177') [0m
  [4;36;1mAssociation Create (1.6ms)[0m   [0;1mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-177', 1281802944, 'HMAC-SHA1', 'u]7=?C')[0m
  [4;35;1mAssociation Load (0.6ms)[0m   [0mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."handle" = '1279834756437-177' AND "open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;36;1mNonce Load (0.2ms)[0m   [0;1mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."timestamp" = 1281802944 AND "open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = '8unPx8') LIMIT 1[0m
  [4;35;1mNonce Create (2.0ms)[0m   [0mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('8unPx8', '', 1281802944)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:29) [GET]
  Parameters: {"rp_nonce"=>"2010-08-14T16:22:24Z8unPx8", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
Redirected to http://localhost:3000/sessions/confirm
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 7ms (DB: 3) | 302 Found [http://localhost/?rp_nonce=2010-08-14T16%3A22%3A24Z8unPx8&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-14 18:22:29) [GET]
Rendering template within layouts/sessions
Rendering sessions/confirm
Completed in 31ms (View: 20, DB: 0) | 200 OK [http://localhost/sessions/confirm]


Processing SessionsController#confirm (for 127.0.0.1 at 2010-08-14 18:22:34) [POST]
  Parameters: {"commit"=>"Confirm my account", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "user"=>{"nickname"=>"mgam", "openid"=>"https://openid.octo.com/users/mag", "email"=>"mag"}}
  [4;35;1mUser Create (2.0ms)[0m   [0mINSERT INTO "users" ("created_at", "nickname", "updated_at", "openid", "email") VALUES('2010-08-14 16:22:34', 'mgam', '2010-08-14 16:22:34', 'https://openid.octo.com/users/mag', 'mag')[0m
Redirected to http://localhost:3000/
Completed in 90ms (DB: 2) | 302 Found [http://localhost/sessions/confirm]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:34) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 18:22:37) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 54ms (View: 37, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:37) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:37) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:22:44) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"22", "text"=>"azefmlzkefmlk", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"22", "closing_at(3i)"=>"21"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 131ms (View: 108, DB: 0) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:44) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:44) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:22:52) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"22", "text"=>"azefmlzkefmlkmlfezmlkmlezfkmlfzekmlkfezlmkfzeklmfze", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"22", "closing_at(3i)"=>"21"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (2.1ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "user_id", "opening_at", "status", "closing_at") VALUES('2010-08-14 16:22:52', '2010-08-14 16:22:52', 'azefmlzkefmlkmlfezmlkmlezfkmlfzekmlkfezlmkfzeklmfze', 1, '2010-08-14 16:22:00', 'open', '2010-08-21 16:22:00')[0m
Redirected to http://localhost:3000/proposals/1
Completed in 143ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 18:22:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 30ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:52) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:52) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:22:54) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 43ms (View: 21, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:54) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:22:54) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:22:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `name' for #<ActiveRecord::Associations::BelongsToAssociation:0xb64ccde8>) on line #15 of app/views/proposals/index.html.haml:
12:         %th= order  @search, :by => attribute 
13:       - @proposals.each do |proposal|
14:         %tr
15:           %td= proposal.user.name
16:           %td= proposal.text
17:           %td= facebook_distance_of_time_in_words proposal.opening_at
18:           %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:13:in `each'
    app/views/proposals/index.html.haml:13:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:23:26) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 62ms (View: 31, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:23:26) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:23:26) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 198ms (View: 28, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:30) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:30) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:32) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:24:30 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:24:30 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:24:30')) AND (proposals.opening_at < '2010-08-14 18:24:30')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 51ms (View: 21, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A24%3A30+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A24%3A30+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:32) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:32) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:24:32 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:24:32') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 36ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A24%3A32+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:34) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:34) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 18:24:34 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 18:24:34') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+18%3A24%3A34+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:55) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:24:35 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:24:35 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:24:35')) AND (proposals.opening_at < '2010-08-14 18:24:35')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 77ms (View: 29, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:55) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:55) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:24:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 57ms (View: 32, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:58) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:24:58) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:25:42) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:           - end
23: 
24:     = will_paginate
25: 

    app/views/proposals/index.html.haml:22
    haml (3.0.12) lib/haml/precompiler.rb:229:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (114.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:25:56) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        end\n      </tr>\n", -1, false);

end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: syntax error, unexpected $end, expecting kEND) on line #27 of app/views/proposals/index.html.haml:
24:     = will_paginate
25: 
26: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:30:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:27:54) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `new_vote_path' for #<ActionView::Base:0xb65f1840>) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_vote_path, proposal
23:          
24: 
25:     = will_paginate

    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (123.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:28:11) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `vote_new_path' for #<ActionView::Base:0xb67d85b4>) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', vote_new_path, proposal
23:          
24: 
25:     = will_paginate

    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:28:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `vote_new_path' for #<ActionView::Base:0xb68aa7e4>) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', vote_new_path, proposal
23:          
24: 
25:     = will_paginate

    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:28:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (new_proposal_vote_url failed to generate from {:controller=>"votes", :action=>"new"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["proposals", :proposal_id, "votes", "new"] - are they all satisfied?) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path
23: 
24:     = will_paginate
25: 

    (eval):21:in `new_proposal_vote_path'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (138.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:29:04) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:24:35 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:24:35 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:24:35')) AND (proposals.opening_at < '2010-08-14 18:24:35')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (new_proposal_vote_url failed to generate from {:controller=>"votes", :action=>"new"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["proposals", :proposal_id, "votes", "new"] - are they all satisfied?) on line #22 of app/views/proposals/index.html.haml:
19:           %td= facebook_distance_of_time_in_words proposal.closing_at
20:           %td= proposal.full_status
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path, proposal
23: 
24:     = will_paginate
25: 

    (eval):21:in `new_proposal_vote_path'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (129.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:29:40) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:24:35 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:24:35 +0200 2010"}}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:24:35')) AND (proposals.opening_at < '2010-08-14 18:24:35')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 150ms (View: 46, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:29:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:29:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:29:43) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 45ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:29:44) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:29:44) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:31:06) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:24:35 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:24:35 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:24:35')) AND (proposals.opening_at < '2010-08-14 18:24:35')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 130ms (View: 58, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A24%3A35+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:07) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:07) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 18:31:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 60ms (View: 39, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:13) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:13) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:31:32) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"32", "text"=>"Nearly closed", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"31", "closing_at(3i)"=>"14"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 73ms (View: 48, DB: 0) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:32) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:32) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:31:38) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"32", "text"=>"Nearly closedNearly closedNearly closedNearly closedNearly closed", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"31", "closing_at(3i)"=>"14"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (2.1ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "user_id", "opening_at", "status", "closing_at") VALUES('2010-08-14 16:31:38', '2010-08-14 16:31:38', 'Nearly closedNearly closedNearly closedNearly closedNearly closed', 1, '2010-08-14 16:31:00', 'open', '2010-08-14 16:32:00')[0m
Redirected to http://localhost:3000/proposals/2
Completed in 106ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 18:31:38) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/2]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:38) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:38) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:31:41) [GET]
  Parameters: {"proposal_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 40ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/2/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:42) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:42) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:31:46) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 2) LIMIT 1[0m
  [4;35;1mSignature Create (0.5ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-14 16:31:46', '2010-08-14 16:31:46', 1, 2)[0m
  [4;36;1mVote Create (0.5ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-14 16:31:46', '2010-08-14 16:31:46', 'yes', 2)[0m
Redirected to http://localhost:3000/proposals/2/votes/1
Completed in 122ms (DB: 0) | 302 Found [http://localhost/proposals/2/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-14 18:31:46) [GET]
  Parameters: {"id"=>"1", "proposal_id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 1 AND ("votes".proposal_id = 2)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 31ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/2/votes/1]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:47) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:47) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:31:54) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 59ms (View: 30, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:54) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:31:54) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:01) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:31:54 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:31:54 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:31:54')) AND (proposals.opening_at < '2010-08-14 18:31:54')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 119ms (View: 92, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A31%3A54+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A31%3A54+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:02) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:02) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:04) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 65ms (View: 42, DB: 2) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:04) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:04) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:06) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 18:32:04 +0200 2010"}}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 18:32:04') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 120ms (View: 24, DB: 2) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+18%3A32%3A04+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:06) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:06) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:08) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 42ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:08) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:08) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 90ms (View: 75, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:09) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:09) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:10) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 47ms (View: 26, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A32%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:10) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:10) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:41) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 184ms (View: 90, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A32%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:32:50) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 53ms (View: 33, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A32%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:50) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:32:50) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:37:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Invalid tag: "%(yes support no pass).each do |value|".) on line #24 of app/views/proposals/index.html.haml:
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %(yes support no pass).each do |value| 
25:             %td= value proposal.votes.find_all(|v| v==value)}.count 
26: 
27:     = will_paginate

    app/views/proposals/index.html.haml:24
    haml (3.0.12) lib/haml/precompiler.rb:576:in `parse_tag'
    haml (3.0.12) lib/haml/precompiler.rb:704:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:37:29) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:25: syntax error, unexpected '|', expecting ')'
...alue proposal.votes.find_all(|v| v==value)}.count
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:25: syntax error, unexpected '}', expecting ')'
....votes.find_all(|v| v==value)}.count
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: unknown regexp options - tr
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: unmatched ): /td>\n", 0, false);
end;_hamlout.push_text("      </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected $undefined
...amlout.push_text("      </tr>\n", -1, false);end;_hamlout.pu...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: unknown regexp options - tabl
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: syntax error, unexpected $undefined
));}\n  </table>\n</h2>\n#{
                 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
_hamlout.push_text("        <w no='no' pass='pass' support='support' yes='yes'>.each do |value|</w>\n        <td>#{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((value proposal.votes.find_all(|v| v==value)}.count
));}</td>\n", 0, false);
end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:25: syntax error, unexpected '|', expecting ')'
...alue proposal.votes.find_all(|v| v==value)}.count
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:25: syntax error, unexpected '}', expecting ')'
....votes.find_all(|v| v==value)}.count
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: unknown regexp options - tr
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: unmatched ): /td>\n", 0, false);
end;_hamlout.push_text("      </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected $undefined
...amlout.push_text("      </tr>\n", -1, false);end;_hamlout.pu...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: unknown regexp options - tabl
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: syntax error, unexpected $undefined
));}\n  </table>\n</h2>\n#{
                 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:28: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #25 of app/views/proposals/index.html.haml:
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %w(yes support no pass).each do |value| 
25:             %td= value proposal.votes.find_all(|v| v==value)}.count 
26: 
27:     = will_paginate
28: 

    app/views/proposals/index.html.haml:28:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:37:44) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `value' for #<ActionView::Base:0xb657ec8c>) on line #25 of app/views/proposals/index.html.haml:
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %w(yes support no pass).each do |value| 
25:             %td= value proposal.votes.find_all{|v| v==value}.count 
26: 
27:     = will_paginate
28: 

    app/views/proposals/index.html.haml:25:in `_run_haml_app47views47proposals47index46html46haml'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/proposals/index.html.haml:25:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (131.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:37:56) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %w and nested within it.) on line #25 of app/views/proposals/index.html.haml:
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %w(yes support no pass).each do |value| 
25:               %td= value proposal.votes.find_all{|v| v==value}.count 
26: 
27:     = will_paginate
28: 

    app/views/proposals/index.html.haml:25
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (194.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:38:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 69ms (View: 43, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A32%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:38:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:38:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:39:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:26: syntax error, unexpected ':', expecting ')'
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
_hamlout.push_text("        <td></td>\n", 0, false);
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( value :
));}\n        #{_hamlout.format_script_false_false_false_false_false_true_false(( proposal.votes.find_all{|v| v==value}.count
));}\n", 0, false);
end;end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:26: syntax error, unexpected ':', expecting ')') on line #26 of app/views/proposals/index.html.haml:
23:           - if proposal.full_status == 'closed'
24:             %td 
25:             - %w(yes support no pass).each do |value| 
26:               = value :
27:               = proposal.votes.find_all{|v| v==value}.count 
28: 
29:     = will_paginate

    app/views/proposals/index.html.haml:35:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:39:16) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:32:09 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:32:09') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
Completed in 60ms (View: 38, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A32%3A09+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:16) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:16) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:39:22) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:39:16 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:39:16 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:39:16')) AND (proposals.opening_at < '2010-08-14 18:39:16')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 81ms (View: 32, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A39%3A16+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A39%3A16+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:22) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:22) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:39:24) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 34ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:24) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:24) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:39:26) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;35;1mSignature Create (1.5ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-14 16:39:26', '2010-08-14 16:39:26', 1, 1)[0m
  [4;36;1mVote Create (0.9ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-14 16:39:26', '2010-08-14 16:39:26', 'yes', 1)[0m
Redirected to http://localhost:3000/proposals/1/votes/2
Completed in 133ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-14 18:39:27) [GET]
  Parameters: {"id"=>"2", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 2 AND ("votes".proposal_id = 1)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 24ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/1/votes/2]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:27) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:27) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:39:30) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 50ms (View: 10, DB: 0) | 200 OK [http://localhost/proposals/1/votes]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:30) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:30) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 18:39:38) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 55ms (View: 38, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:38) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:38) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:39:59) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"40", "text"=>"lzkaefjlmazkejfmakzejfmalzkejfoaziejfaoziejfoazkejfazokejfjomaozeijfamziejfmazekjfamzlekjfmlazkejfamlzkejflmazkefjmalzkefjalzmkefjlazkejflamzkejfalzmkefjalmze", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"39", "closing_at(3i)"=>"14"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.6ms)[0m   [0;1mINSERT INTO "proposals" ("created_at", "updated_at", "text", "user_id", "opening_at", "status", "closing_at") VALUES('2010-08-14 16:39:59', '2010-08-14 16:39:59', 'lzkaefjlmazkejfmakzejfmalzkejfoaziejfaoziejfoazkejfazokejfjomaozeijfamziejfmazekjfamzlekjfmlazkejfamlzkejflmazkefjmalzkefjalzmkefjlazkejflamzkejfalzmkefjalmze', 1, '2010-08-14 16:39:00', 'open', '2010-08-14 16:40:00')[0m
Redirected to http://localhost:3000/proposals/3
Completed in 125ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 18:39:59) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/3]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:59) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:39:59) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:40:01) [GET]
  Parameters: {"proposal_id"=>"3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 33ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/3/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:01) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:01) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:40:06) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 3) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 69ms (View: 13, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:06) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:06) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:40:12) [POST]
  Parameters: {"vote"=>{"comment"=>"lzkefjlzakejflkzajeflkzjeflkzjeflkzajeflkj", "value"=>"no"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"3"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 3) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 3) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 139ms (View: 83, DB: 0) | 200 OK [http://localhost/proposals/3/votes]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:12) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:12) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:17) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:17) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:20) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:20) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 18:40:23) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 62ms (View: 45, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:23) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:23) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-14 18:40:35) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal"=>{"closing_at(4i)"=>"16", "closing_at(5i)"=>"42", "text"=>"zeafmlkjzeflkjezflkzfejlzkaejflzkaejflzkaejfzef", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"14", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"16", "closing_at(2i)"=>"8", "opening_at(5i)"=>"40", "closing_at(3i)"=>"14"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (3.3ms)[0m   [0mINSERT INTO "proposals" ("created_at", "updated_at", "text", "user_id", "opening_at", "status", "closing_at") VALUES('2010-08-14 16:40:35', '2010-08-14 16:40:35', 'zeafmlkjzeflkjezflkzfejlzkaejflzkaejflzkaejfzef', 1, '2010-08-14 16:40:00', 'open', '2010-08-14 16:42:00')[0m
Redirected to http://localhost:3000/proposals/4
Completed in 134ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-14 18:40:35) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/4]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:35) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:35) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:40:37) [GET]
  Parameters: {"proposal_id"=>"4"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 38ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/4/votes/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:37) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:37) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-14 18:40:41) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"support"}, "commit"=>"Create Vote", "authenticity_token"=>"Ejxnrv/nJrMpZFIyOC69ninLaNDpk5sYgg5+j08zz0U=", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 4) LIMIT 1[0m
  [4;36;1mSignature Create (2.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-14 16:40:41', '2010-08-14 16:40:41', 1, 4)[0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-14 16:40:41', '2010-08-14 16:40:41', 'support', 4)[0m
Redirected to http://localhost:3000/proposals/4/votes/3
Completed in 123ms (DB: 0) | 302 Found [http://localhost/proposals/4/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-14 18:40:41) [GET]
  Parameters: {"id"=>"3", "proposal_id"=>"4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 4) [0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 3 AND ("votes".proposal_id = 4)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 25ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/4/votes/3]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:41) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:41) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:40:45) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 71ms (View: 49, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:45) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:40:45) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:41:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (There's no Ruby code for = to evaluate.) on line #24 of app/views/proposals/index.html.haml:
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %td= 
25:             - %w(yes support no pass).each do |value| 
26:               = value
27:               = proposal.votes.find_all{|v| v==value}.count 

    app/views/proposals/index.html.haml:24
    haml (3.0.12) lib/haml/precompiler.rb:769:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (60.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:41:21) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %td and nested within it.) on line #27 of app/views/proposals/index.html.haml:
24:              
25:             - %w(yes support no pass).each do |value| 
26:               %td= value
27:                 = proposal.votes.find_all{|v| v==value}.count 
28: 
29:     = will_paginate
30: 

    app/views/proposals/index.html.haml:27
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (146.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:41:30) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %td and nested within it.) on line #26 of app/views/proposals/index.html.haml:
23:           - if proposal.full_status == 'closed'
24:           - %w(yes support no pass).each do |value| 
25:             %td= value
26:               = proposal.votes.find_all{|v| v==value}.count 
27: 
28:     = will_paginate
29: 

    app/views/proposals/index.html.haml:26
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (73.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:41:57) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((value
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.votes.find_all{|v| v==value}.count
));}</td>\n", 0, false);
end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:     = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:42:05) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #25 of app/views/proposals/index.html.haml:
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:           - %w(yes support no pass).each do |value| 
25:               %td= value
26:               %td= proposal.votes.find_all{|v| v==value}.count 
27: 
28:     = will_paginate

    app/views/proposals/index.html.haml:25
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (131.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:42:22) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((value
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.votes.find_all{|v| v==value}.count
));}</td>\n", 0, false);
end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:     = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:42:35) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((value
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.votes.find_all{|v| v==value}.size
));}</td>\n", 0, false);
end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:     = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:43:02) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 108ms (View: 79, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:43:03) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:43:03) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:43:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (There's no Ruby code for = to evaluate.) on line #24 of app/views/proposals/index.html.haml:
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:             %td=
25:             - %w(yes support no pass).each do |value| 
26:               = value
27:               = proposal.votes.find_all{|v| v==value}.size

    app/views/proposals/index.html.haml:24
    haml (3.0.12) lib/haml/precompiler.rb:769:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (99.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:43:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 157ms (View: 138, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:43:54) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:43:54) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:45:04) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{value} : #{proposal.votes.find_all{|v| v==value}.size}"
));}</td>\n", 0, false);

end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:     = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (137.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:45:37) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{value} : "
));}</td>\n", 0, false);

end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n  </table>\n</h2>\n#{_hamlout.adjust_tabs(-3); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28: = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (66.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:45:45) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (5.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{value} : "
));}</td>\n", 0, false);

end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n  </table>\n  #{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n</h2>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:   = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:45:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{value} : "
));}</td>\n", 0, false);

end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n  </table>\n  #{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n</h2>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:   = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:46:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 66ms (View: 42, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:02) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:02) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:46:10) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:46:01 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:46:01') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 56ms (View: 29, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A46%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:10) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:10) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:46:45) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sat Aug 14 18:46:01 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-14 18:46:01') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 56ms (View: 33, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sat+Aug+14+18%3A46%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:45) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:45) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:46:52) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 27, DB: 2) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:53) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:46:53) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:04) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 157ms (View: 103, DB: 2) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:05) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:05) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:09) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 53ms (View: 34, DB: 1) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:09) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:09) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:15) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.) on line #23 of app/views/proposals/index.html.haml:
20:           %td= proposal.full_status
21:           
22: 
23:    = will_paginate
24: 
25: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:23
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:768:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 52ms (View: 34, DB: 2) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:20) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:20) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:52) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 36ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:53) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:53) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:47:53) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 27ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:53) [GET]

ActionController::RoutingError (No route matches "/images/bg.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-14 18:47:53) [GET]

ActionController::RoutingError (No route matches "/images/big-fade.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:48:10) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 56ms (View: 32, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:48:15) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 116ms (View: 96, DB: 2) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:48:36) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 65ms (View: 43, DB: 2) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:48:55) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (4.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{value} : #{proposal.votes.find_all{|v| v==value}.size}"
));}</td>\n", 0, false);

end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:34: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/proposals/index.html.haml:
28:     = will_paginate
29: 
30: = link_to 'New proposal', new_proposal_path

    app/views/proposals/index.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (115.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:49:07) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 70ms (View: 50, DB: 2) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:49:17) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 50ms (View: 33, DB: 1) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:49:48) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 59ms (View: 39, DB: 2) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:50:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 146ms (View: 121, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:50:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #24 of app/views/proposals/index.html.haml:
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:               %td
25:             - %w(yes support no pass).each do |value| 
26:           
27:                 = value

    app/views/proposals/index.html.haml:24
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:50:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #24 of app/views/proposals/index.html.haml:
21:           - if proposal.full_status == 'open'
22:             %td= link_to 'Vote!', new_proposal_vote_path(proposal)
23:           - if proposal.full_status == 'closed'
24:               %td
25:             - %w(yes support no pass).each do |value| 
26:                 = value
27:                 = proposal.votes

    app/views/proposals/index.html.haml:24
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (174.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:50:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #26 of app/views/proposals/index.html.haml:
23:           - if proposal.full_status == 'closed'
24:             %td
25:             - %w(yes support no pass).each do |value| 
26:                 = value
27:                 = proposal.votes
28:            
29: 

    app/views/proposals/index.html.haml:26
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (122.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:50:52) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 202ms (View: 72, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:51:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected '}', expecting ')'
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: unknown regexp options - tr
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: unmatched ): /td>\n", -1, false);

end;end;_hamlout.push_text("      </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: syntax error, unexpected $undefined
...amlout.push_text("      </tr>\n", -1, false);end;_hamlout.pu...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: unknown regexp options - tabl
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected $undefined
));}\n  </table>\n</h2>\n#{
                 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n  <p>\n    #{


_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "To Vote", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  </p>\n  <table class='proposals'>\n    <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("      <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end; @proposals.each do |proposal|;
_hamlout.push_text("      <tr>\n        <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
_hamlout.push_text("        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
 %w(yes support no pass).each do |value|;
_hamlout.push_text("        <td>\n          #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( value
));}\n          #{_hamlout.format_script_false_false_false_false_false_true_false(( proposal.votes.find_all{|v| v==value}.size}
));}\n        </td>\n", -1, false);

end;end;_hamlout.push_text("      </tr>\n", -1, false);end;_hamlout.push_text("    </thead>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n  </table>\n</h2>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:27: syntax error, unexpected '}', expecting ')'
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: unknown regexp options - tr
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: unmatched ): /td>\n", -1, false);

end;end;_hamlout.push_text("      </
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:30: syntax error, unexpected $undefined
...amlout.push_text("      </tr>\n", -1, false);end;_hamlout.pu...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: unknown regexp options - tabl
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected $undefined
));}\n  </table>\n</h2>\n#{
                 ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:31: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #27 of app/views/proposals/index.html.haml:
24:             - %w(yes support no pass).each do |value| 
25:               %td
26:                 = value
27:                 = proposal.votes.find_all{|v| v==value}.size}
28:            
29: 
30:     = will_paginate

    app/views/proposals/index.html.haml:31:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (84.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:51:29) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 73ms (View: 52, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.8ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 175ms (View: 149, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:30) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_text"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.text ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 145ms (View: 113, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_text]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:32) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_text"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.text ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 74ms (View: 39, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_text]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:34) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_user"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 67ms (View: 40, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_user]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:37) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_opening_at"}}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 137ms (View: 112, DB: 4) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_opening_at]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:44) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_status"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 73ms (View: 42, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_status]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:50) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_status"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.status DESC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 59ms (View: 36, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_status]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:52:56) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_status"}}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 146ms (View: 33, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_status]


Processing VotesController#new (for 127.0.0.1 at 2010-08-14 18:53:06) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 40ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:53:09) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (6.2ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 79ms (View: 48, DB: 8) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:53:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 69ms (View: 47, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:53:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 69ms (View: 49, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:54:01) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 61ms (View: 38, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:55:38) [GET]
  [4;35;1mUser Load (5.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 84ms (View: 54, DB: 7) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:57:16) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 62ms (View: 26, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:57:38) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 21, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:57:58) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:57:38 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:57:38 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:57:38')) AND (proposals.opening_at < '2010-08-14 18:57:38')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 20, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A57%3A38+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A57%3A38+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:58:01) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sat Aug 14 18:57:58 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-14 18:57:58') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 42ms (View: 12, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sat+Aug+14+18%3A57%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:58:03) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:58:01 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:58:01 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:58:01')) AND (proposals.opening_at < '2010-08-14 18:58:01')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 151ms (View: 17, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:59:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:58:01 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:58:01 +0200 2010"}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:58:01')) AND (proposals.opening_at < '2010-08-14 18:58:01')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 24, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 18:59:19) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:58:01 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:58:01 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:58:01')) AND (proposals.opening_at < '2010-08-14 18:58:01')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 131ms (View: 87, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 19:36:51) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sat Aug 14 18:58:01 +0200 2010", "opening_at_before"=>"Sat Aug 14 18:58:01 +0200 2010"}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-14 18:58:01')) AND (proposals.opening_at < '2010-08-14 18:58:01')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 53ms (View: 16, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bopening_at_before%5D=Sat+Aug+14+18%3A58%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-14 19:36:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 19:36:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 120ms (View: 22, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-14 19:41:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

NoMethodError (undefined method `votes' for #<WillPaginate::Collection:0xb670f68c>):
  app/controllers/proposals_controller.rb:11:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (38.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:11:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `All' for #<Class:0xb64689d8>):
  searchlogic (2.4.19) lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (117.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:12:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" [0m

NoMethodError (undefined method `votes' for #<Array:0xb6659b5c>):
  app/controllers/proposals_controller.rb:11:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:14:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

NoMethodError (undefined method `votes' for #<WillPaginate::Collection:0xb641d488>):
  app/controllers/proposals_controller.rb:11:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:14:26) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 47ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals]
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.created_at < '2010-08-15 00:28:48') LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.created_at < '2010-08-15 00:28:53') LIMIT 1[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.created_at < '2010-08-15 00:29:20') LIMIT 30 OFFSET 0[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.created_at < '2010-08-15 00:29:36') LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:34:29) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 149ms (View: 111, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:34:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 55ms (View: 23, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:35:02) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 51ms (View: 22, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 1) [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:36:26) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 64ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:38:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 63ms (View: 32, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes".proposal_id = 1) [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:39:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 138ms (View: 108, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:39:58) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 60ms (View: 24, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:40:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 58ms (View: 30, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:40:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 59ms (View: 29, DB: 2) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:41:06) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 63ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:43:41) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NameError (undefined local variable or method `current_user_id' for #<ProposalsController:0xb6521f14>):
  app/controllers/proposals_controller.rb:11:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:43:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 57ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:47:07) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal_id' for #<ActionView::Base:0xb6495be0>) on line #22 of app/views/proposals/index.html.haml:
19:         %td= facebook_distance_of_time_in_words proposal.closing_at
20:         %td= proposal.full_status
21:         - if proposal.full_status == 'open'
22:           -if @signatures.find_all{|s| s.proposal_id==proposal_id}.empty?
23:             %td= link_to 'Vote!', new_proposal_vote_path(proposal) 
24:           -else
25:             %td= 'Voted'

    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `find_all'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:47:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "votes" WHERE ("votes".proposal_id = 4) [0m
Completed in 144ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 00:51:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 87ms (View: 39, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "proposals" ADD "yes_count" integer DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "proposals" ADD "no_count" integer DEFAULT 0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "proposals" ADD "support_count" integer DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "proposals" ADD "pass_count" integer DEFAULT 0[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 1[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 2) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (146.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.2ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (51.6ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (63.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (64.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (107.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (63.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (74.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (76.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (65.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (66.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (136.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.8ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (82.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (65.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (65.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (56.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (49.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (56.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:41:42) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `yes_count' for #<ActionView::Base:0xb65b38c4>) on line #28 of app/views/proposals/index.html.haml:
25:             %td= 'Voted'
26:         
27:         - if proposal.full_status == 'closed'
28:           %td= "Yes:#{yes_count}"
29:          
30: 
31:   = will_paginate

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:14:in `each'
    app/views/proposals/index.html.haml:14:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:42:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 28, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:42:57) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 70ms (View: 30, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:47:46) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 01:42:57 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 01:42:57') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 59ms (View: 18, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+01%3A42%3A57+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:47:48) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:47:49) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 32ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:47:51) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 01:47:50 +0200 2010", "opening_at_before"=>"Sun Aug 15 01:47:50 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 01:47:50')) AND (proposals.opening_at < '2010-08-15 01:47:50')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 59ms (View: 17, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+01%3A47%3A50+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+01%3A47%3A50+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:47:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 20, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:00) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_closing_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,1)) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 59ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_closing_at]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 123ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:09) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 20, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:12) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:20) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 21, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-15 01:48:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 11ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:45) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 24ms (View: 23, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:50) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.4ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (0.5ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 1[0m
  [4;36;1mAssociation Delete all (0.4ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-179') [0m
  [4;35;1mAssociation Create (0.3ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-179', 1281829732, 'HMAC-SHA1', '֪pVڸEBJ')[0m
  [4;36;1mAssociation Load (0.7ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."handle" = '1279834756437-179' AND "open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."timestamp" = 1281829732 AND "open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'BISDl3') LIMIT 1[0m
  [4;36;1mNonce Create (0.4ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('BISDl3', '', 1281829732)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:56) [GET]
  Parameters: {"rp_nonce"=>"2010-08-14T23:48:52ZBISDl3", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 8ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-14T23%3A48%3A52ZBISDl3&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 01:48:56) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:03:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 28, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:04:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:12:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 67ms (View: 29, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:13:04) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:14:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 02:14:33) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (14.2ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 148ms (View: 35, DB: 17) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:09:08) [GET]

NoMethodError (undefined method `actions' for ProposalsController:Class):
  app/controllers/proposals_controller.rb:4
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:09:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 66ms (View: 29, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:10:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 30, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:10:26) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 59ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:10:50) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:11:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `withdraw_proposal_path' for #<ActionView::Base:0xb66b6e60>) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (125.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:16:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `withdraw_proposal_path' for #<ActionView::Base:0xb67c19a4>) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (122.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:17:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):21:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:18:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal.id)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):21:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (136.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:18:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal.id)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):21:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:18:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `withdraw_proposal_path' for #<ActionView::Base:0xb68e56c8>) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (47.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:19:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):21:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:19:49) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):17:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:19:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):17:in `withdraw_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (59.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:20:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (77.5ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `withdraw_path' for #<ActionView::Base:0xb6314b7c>) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:20:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `to_sym' for nil:NilClass) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    (eval):17:in `withdraw_proposal_path'
    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:24:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `withdraw_proposal_path' for #<ActionView::Base:0xb6368aec>) on line #28 of app/views/proposals/index.html.haml:
25:           -else
26:             %td= 'Voted'
27:           - if proposal.user_id == current_user.id
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           %td

    app/views/proposals/index.html.haml:28:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:15:in `each'
    app/views/proposals/index.html.haml:15:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:24:48) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:24:51) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:25:24) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 12:25:33) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:26:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 12:26:28) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 12:26:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mProposal Update (0.7ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 10:26:36', "status" = 'withdrawn' WHERE "id" = 1[0m

ActionView::MissingTemplate (Missing template proposals/withdraw.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 12:28:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

NoMethodError (undefined method `notice' for {}:ActionController::Flash::FlashHash):
  app/controllers/proposals_controller.rb:19:in `withdraw'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (36.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#withdraw (for 127.0.0.1 at 2010-08-15 12:29:52) [GET]
  Parameters: {"id"=>"1"}

SyntaxError (/home/mag/dev/octocracy_spike/app/controllers/proposals_controller.rb:19: syntax error, unexpected tSTRING_BEG, expecting kEND
      flash[:notice] "Proposal succesfully withdrawn"
                      ^
/home/mag/dev/octocracy_spike/app/controllers/proposals_controller.rb:21: syntax error, unexpected tSTRING_BEG, expecting kEND
      flash[:error] 'Can\'t withdrawn a proposal that is not yours'
                     ^):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 12:30:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m

ActionView::MissingTemplate (Missing template proposals/withdraw.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 13:04:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 30ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/withdraw/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:04:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 130ms (View: 89, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 13:05:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 67ms (View: 49, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 13:05:48) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"11", "closing_at(5i)"=>"10", "text"=>"I proposose to end this project asap", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"11", "closing_at(2i)"=>"8", "opening_at(5i)"=>"06", "closing_at(3i)"=>"15"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.6ms)[0m   [0;1mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 11:05:48', 0, '2010-08-15 11:05:48', 'I proposose to end this project asap', 0, 1, '2010-08-15 11:06:00', 'open', '2010-08-15 11:10:00', 0)[0m
Redirected to http://localhost:3000/proposals/5
Completed in 127ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 13:05:49) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 23ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/5]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 13:05:51) [GET]
  Parameters: {"proposal_id"=>"5"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals/5/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 13:05:54) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"5"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 5) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 39ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/5/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 13:06:01) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"5"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 5) LIMIT 1[0m
  [4;35;1mSignature Create (0.3ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 11:06:01', '2010-08-15 11:06:01', 1, 5)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-15 11:06:01', '2010-08-15 11:06:01', 'yes', 5)[0m
Redirected to http://localhost:3000/proposals/5/votes/4
Completed in 126ms (DB: 0) | 302 Found [http://localhost/proposals/5/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 13:06:01) [GET]
  Parameters: {"id"=>"4", "proposal_id"=>"5"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 5) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 4 AND ("votes".proposal_id = 5)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 34ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/5/votes/4]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:06:06) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 21, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:06:16) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_closing_at"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,1)) [0m
  [4;36;1mUser Load (57.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 134ms (View: 20, DB: 60) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_closing_at]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:06:19) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_closing_at"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.closing_at DESC LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,5,4,3,2)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 5 OR signatures.proposal_id = 4 OR signatures.proposal_id = 3 OR signatures.proposal_id = 2) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 60ms (View: 18, DB: 3) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_closing_at]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:06:24) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 13:06:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 13:06:19 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 13:06:19')) AND (proposals.opening_at < '2010-08-15 13:06:19')) LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 40ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+13%3A06%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+13%3A06%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:06:26) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 23, DB: 4) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:21:52) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 84ms (View: 39, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:23:53) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 24, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:23:55) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 66ms (View: 21, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:24:38) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 132ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:24:48) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 90ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:31:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 86, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:31:37) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 96ms (View: 46, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:31:46) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 13:06:24 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 20, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+13%3A06%3A24+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:32:15) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:33:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #13 of app/views/layouts/main.html.haml:
10:     .header
11:       %h1= 'Dynamocracy'
12:       %header
13:           = link_to 'Home', root_path
14:         
15:           = link_to 'Logout', logout_path
16:           = link_to 'New proposal', new_proposal_path= link_to 'New proposal', new_proposal_path

    app/views/layouts/main.html.haml:13
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (121.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:34:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47layouts47main46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:17: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
..., new_proposal_path= link_to 'New proposal', new_proposal_pa...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:17: syntax error, unexpected ',', expecting ')'
..._path= link_to 'New proposal', new_proposal_path
                              ^
Function body:           def _run_haml_app47views47layouts47main46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html>\n  <head>\n    <title>#{


_hamlout.adjust_tabs(3); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</title>\n    <meta content='text/html; charset=utf-8' http-equiv='content-type' />\n    #{
_hamlout.format_script_false_false_false_false_false_true_false(( stylesheet_link_tag "dynamocracy"
));}\n    <!-- = stylesheet_link_tag  \"layout\", 'application' ,\"scaffold\", \"board\" -->\n    <!-- = formtastic_stylesheet_link_tag -->\n  </head>\n  <body>\n    <div class='header'>\n      <h1>#{



_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</h1>\n      <header>\n        #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Home', root_path
));}\n        |\n        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Logout', logout_path
));}\n        |\n        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path= link_to 'New proposal', new_proposal_path
));}\n        <div class='flash error' id='error_div_id' style='display:none'></div>\n        <div class='flash notice' id='notice_div_id' style='display:none'></div>\n        #{


_hamlout.format_script_false_false_false_false_false_true_false(( yield
));}\n        <br />\n        <p></p>\n        <p>Copyright © 2009-2010 Dynamocracy.org</p>\n      </header>\n    </div>\n  </body>\n</html>\n", -4, false);



_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:29:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:352:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:17: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
..., new_proposal_path= link_to 'New proposal', new_proposal_pa...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:17: syntax error, unexpected ',', expecting ')'
..._path= link_to 'New proposal', new_proposal_path
                              ^) on line #17 of app/views/layouts/main.html.haml:
14:         |
15:         = link_to 'Logout', logout_path
16:         |
17:         = link_to 'New proposal', new_proposal_path= link_to 'New proposal', new_proposal_path
18:     
19:         #error_div_id.flash.error(style="display:none")
20:         #notice_div_id.flash.notice(style="display:none")

    app/views/layouts/main.html.haml:29:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (118.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:34:33) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 139ms (View: 46, DB: 5) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:34:52) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 29, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:20) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 66ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:22) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:24) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 162ms (View: 22, DB: 4) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:25) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 63ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:39) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 143ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:35:54) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 17, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:36:08) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_user", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 66ms (View: 18, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_user&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:36:19) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_status", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 20, DB: 4) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_status&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:36:32) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_status", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.1ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 60ms (View: 16, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_status&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:45:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_status", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 147ms (View: 27, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_status&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:46:00) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "order"=>"ascend_by_status", "closing_at_before"=>"2010-08-15 13:06:24 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 13:06:24') AND (proposals.status = 'open')) ORDER BY proposals.status ASC LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 25, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=2010-08-15+13%3A06%3A24+UTC&search%5Border%5D=ascend_by_status&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:46:11) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 13:46:00 +0200 2010", "opening_at_before"=>"Sun Aug 15 13:46:00 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 13:46:00')) AND (proposals.opening_at < '2010-08-15 13:46:00')) LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 109ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+13%3A46%3A00+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+13%3A46%3A00+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 13:46:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 49ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 13:46:35) [POST]
  Parameters: {"commit"=>"Create Proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"11", "closing_at(5i)"=>"46", "text"=>"A fucking good proposal to go ", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"11", "closing_at(2i)"=>"8", "opening_at(5i)"=>"46", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.4ms)[0m   [0;1mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 11:46:35', 0, '2010-08-15 11:46:35', 'A fucking good proposal to go ', 0, 1, '2010-08-15 11:46:00', 'open', '2010-08-22 11:46:00', 0)[0m
Redirected to http://localhost:3000/proposals/6
Completed in 124ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 13:46:35) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/6]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 13:46:38) [GET]
  Parameters: {"proposal_id"=>"6"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 32ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/6/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 13:46:44) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Create Vote", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"6"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 6) LIMIT 1[0m
  [4;35;1mSignature Create (0.3ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 11:46:44', '2010-08-15 11:46:44', 1, 6)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("voter_id", "comment", "created_at", "updated_at", "value", "proposal_id") VALUES(NULL, '', '2010-08-15 11:46:44', '2010-08-15 11:46:44', 'yes', 6)[0m
Redirected to http://localhost:3000/proposals/6/votes/5
Completed in 119ms (DB: 0) | 302 Found [http://localhost/proposals/6/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 13:46:44) [GET]
  Parameters: {"id"=>"5", "proposal_id"=>"6"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 5 AND ("votes".proposal_id = 6)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 26ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/6/votes/5]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:46:46) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 67ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:47:27) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 33, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:47:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (21.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: nesting within a tag that already has content is illegal.) on line #32 of app/views/proposals/index.html.haml:
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           /%td
32:             /%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
33: 
34:   = will_paginate

    app/views/proposals/index.html.haml:32
    haml (3.0.12) lib/haml/precompiler.rb:847:in `render_comment'
    haml (3.0.12) lib/haml/precompiler.rb:215:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:48:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: nesting within a tag that already has content is illegal.) on line #32 of app/views/proposals/index.html.haml:
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           //%td
32:             //%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
33: 
34:   = will_paginate

    app/views/proposals/index.html.haml:32
    haml (3.0.12) lib/haml/precompiler.rb:847:in `render_comment'
    haml (3.0.12) lib/haml/precompiler.rb:215:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:48:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal element: classes and ids must have values.) on line #31 of app/views/proposals/index.html.haml:
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           #%td
32:             #%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
33: 
34:   = will_paginate

    app/views/proposals/index.html.haml:31
    haml (3.0.12) lib/haml/precompiler.rb:706:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:837:in `render_div'
    haml (3.0.12) lib/haml/precompiler.rb:213:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (199.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:48:14) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal element: classes and ids must have values.) on line #31 of app/views/proposals/index.html.haml:
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           #%td
32:             #%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
33: 
34:   = will_paginate

    app/views/proposals/index.html.haml:31
    haml (3.0.12) lib/haml/precompiler.rb:706:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:837:in `render_div'
    haml (3.0.12) lib/haml/precompiler.rb:213:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (69.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:48:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal element: classes and ids must have values.) on line #31 of app/views/proposals/index.html.haml:
28:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
29:         - if proposal.full_status == 'closed'
30:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
31:           #%td
32:             #%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
33: 
34:   = will_paginate

    app/views/proposals/index.html.haml:31
    haml (3.0.12) lib/haml/precompiler.rb:706:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:837:in `render_div'
    haml (3.0.12) lib/haml/precompiler.rb:213:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:48:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 159ms (View: 35, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:49:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 34, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:50:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 144ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:50:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (5.3ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 91ms (View: 43, DB: 8) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:51:05) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (The line was indented 2 levels deeper than the previous line.) on line #31 of app/views/proposals/index.html.haml:
28:           - if proposal.user_id == current_user.id
29:             %td= link_to 'Withdraw!', withdraw_proposal_path(proposal)
30:         -else
31:             %td=' '
32:         - if proposal.full_status == 'closed'
33:           %td= "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
34:           -#%td

    app/views/proposals/index.html.haml:31
    haml (3.0.12) lib/haml/precompiler.rb:181:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:51:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:51:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 102ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:52:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:52:33) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 35, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:57:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %td and nested within it.) on line #20 of app/views/proposals/index.html.haml:
17:       %tr
18:         %td= proposal.user.nickname
19:         %td= link_to proposal.text[0..20]+"...",'#'
20:           %div#Article.proposal.entry{:id=>proposal.id}
21:         %td= facebook_distance_of_time_in_words proposal.opening_at
22:         %td= facebook_distance_of_time_in_words proposal.closing_at
23:         %td= proposal.full_status

    app/views/proposals/index.html.haml:20
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (123.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:57:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 34, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:57:42) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 141ms (View: 100, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:57:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: syntax error, unexpected kTRUE, expecting tASSOC
...:id=>proposal.id, :hidden=true);_hamlout.push_text("#{_hamlo...
                              ^
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n</h2>\n<p>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n</p>\n<table class='proposals'>\n  <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Results'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to proposal.text[0..20]+"...",'#'
));}</td>\n", 0, false);_hamlout.open_tag("div", false, true, false, false, {"class"=>"proposal entry", "id"=>"Article"}, false, false, nil, nil, :id=>proposal.id, :hidden=true);_hamlout.push_text("#{_hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</div>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Voted'
));}</td>\n", 0, false);end; if proposal.user_id == current_user.id;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}</td>\n", 0, false);end;else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((' '
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}</td>\n", 0, false);


end;_hamlout.push_text("    </tr>\n", -1, false);end;_hamlout.push_text("  </thead>\n  #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n</table>\n", -1, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:42:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:20: syntax error, unexpected kTRUE, expecting tASSOC
...:id=>proposal.id, :hidden=true);_hamlout.push_text("#{_hamlo...
                              ^) on line #20 of app/views/proposals/index.html.haml:
17:       %tr
18:         %td= proposal.user.nickname
19:         %td= link_to proposal.text[0..20]+"...",'#'
20:         %div#Article.proposal.entry{:id=>proposal.id, :hidden=true}=proposal.text
21:         %td= facebook_distance_of_time_in_words proposal.opening_at
22:         %td= facebook_distance_of_time_in_words proposal.closing_at
23:         %td= proposal.full_status

    app/views/proposals/index.html.haml:42:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 13:58:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 149ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:00:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 68ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:01:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 151ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:01:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:01:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 68ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:02:33) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:02:48) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 66ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:09:12) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: nesting within plain text is illegal.) on line #41 of app/views/proposals/index.html.haml:
38: %script
39:   $(document).ready(function() {
40:   
41:     }
42:   );
43:           
44:           -#%td

    app/views/proposals/index.html.haml:41
    haml (3.0.12) lib/haml/precompiler.rb:355:in `push_plain'
    haml (3.0.12) lib/haml/precompiler.rb:279:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:09:33) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (There's no Ruby code for = to evaluate.) on line #38 of app/views/proposals/index.html.haml:
35:         
36:         
37:         
38: %script=
39:   $(document).ready(function() {
40:   
41:     }

    app/views/proposals/index.html.haml:38
    haml (3.0.12) lib/haml/precompiler.rb:769:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:10:15) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (1.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal_id' for #<ActionView::Base:0xb64cfcb4>) on line #19 of app/views/proposals/index.html.haml:
16:     - @proposals.each do |proposal|
17:       %tr
18:         %td= proposal.user.nickname
19:         %td= link_to proposal.text[0..20]+"...","\##{proposal_id}"
20:         %div#Proposal.proposal{:id=>proposal.id}=proposal.text
21:         %td= facebook_distance_of_time_in_words proposal.opening_at
22:         %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:19:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:16:in `each'
    app/views/proposals/index.html.haml:16:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:10:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb656febc>) on line #45 of app/views/proposals/index.html.haml:
42:   );
43:           
44:           -#%td
45:             -#%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")
46: 
47:   = will_paginate

    app/views/proposals/index.html.haml:45:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (129.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:10:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb661a164>) on line #45 of app/views/proposals/index.html.haml:
42:   );
43:           
44:           -#%td
45:             -#%img(src="http://chart.apis.google.com/chart?chxt=x&chbh=a,0,7&chs=260x165&cht=bhs&chco=00FF00|3072F3|FF0000|E5ECF9&chd=t:#{proposal.yes_count},#{proposal.no_count},#{proposal.support_count},#{proposal.pass_count}&chdl=Yes|Support|No|Pass&chg=-1,0&chma=5,0,5|21")

    app/views/proposals/index.html.haml:45:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:11:02) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:11:15) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 134ms (View: 93, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:11:59) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 34, DB: 5) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:12:44) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 35, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:14:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 38, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:14:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:18:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb67c264c>) on line #42 of app/views/proposals/index.html.haml:
39:   $(document).ready(function() {
40:      - @proposals.each do |proposal|
41:       $(#
42:       ="link_#{proposal.id}"
43:       ).bind('click', function() {alert('User clicked on "foo."');}); 
44:       });
45:           

    app/views/proposals/index.html.haml:42:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (47.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:19:10) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (5.2ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb6826354>) on line #42 of app/views/proposals/index.html.haml:
39:   $(document).ready(function() {
40:      - @proposals.each do |proposal|
41:         $(#
42:         ="link_#{proposal.id}"
43:         ).bind('click', function() {alert('User clicked on "foo."');}); 
44:       });
45:           

    app/views/proposals/index.html.haml:42:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:19:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb6378b68>) on line #42 of app/views/proposals/index.html.haml:
39:   $(document).ready(function() {
40:      - @proposals.each do |proposal|
41:         $(#
42:        -# ="link_#{proposal.id}"
43:         ).bind('click', function() {alert('User clicked on "foo."');}); 
44:       });
45:           

    app/views/proposals/index.html.haml:42:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (83.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:19:47) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb63e1ec4>) on line #41 of app/views/proposals/index.html.haml:
38: :javascript
39:   $(document).ready(function() {
40:      - @proposals.each do |proposal|
41:         $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');}); 
42:       });
43:           
44:          

    app/views/proposals/index.html.haml:41:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:19:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb643fc40>) on line #41 of app/views/proposals/index.html.haml:
38: :javascript
39:   $(document).ready(function() {
40:      - @proposals.each do |proposal|
41:         $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');});});
42:           
43:          

    app/views/proposals/index.html.haml:41:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (53.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:20:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb64ff6bc>) on line #41 of app/views/proposals/index.html.haml:
38: :javascript
39:   $(document).ready(function() {
40:   - @proposals.each do |proposal|
41:     $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');});});
42:           
43:          

    app/views/proposals/index.html.haml:41:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (52.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:20:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:42: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:45: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Prososals\n</h2>\n<p>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n</p>\n<table class='proposals'>\n  <thead>\n", 1, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Results'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_false_false_true_false((proposal.user.nickname
));}</td>\n", 0, false);_hamlout.open_tag("td", false, true, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("#{_hamlout.format_script_false_true_false_false_false_true_false((link_to proposal.text[0..20]+"...","#{proposal.id}"
));}</td>\n", 0, false);_hamlout.open_tag("div", false, true, false, false, {"class"=>"proposal", "id"=>"Proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("#{_hamlout.format_script_false_true_false_false_false_true_false((proposal.text
));}</div>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n", 0, false); if proposal.full_status == 'open';
if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Vote!', new_proposal_vote_path(proposal)
));}</td>\n", 0, false);else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Voted'
));}</td>\n", 0, false);end; if proposal.user_id == current_user.id;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}</td>\n", 0, false);end;else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((' '
));}</td>\n", 0, false);end; if proposal.full_status == 'closed';
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}</td>\n", 0, false);
end;_hamlout.push_text("    </tr>\n", -1, false);end;_hamlout.push_text("  </thead>\n  #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( will_paginate
));}\n</table>\n", -1, false);
 @proposals.each do |proposal|;
_hamlout.push_text("#{
_hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$(document).ready(function() {
  $(#\"link_#{proposal.id}\").bind('click', function() {alert('User clicked on \"foo.\"');});});\n", _hamlout.options))
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:45:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:42: syntax error, unexpected kENSURE, expecting kEND
...}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/index.html.haml:45: syntax error, unexpected $end, expecting kEND) on line #42 of app/views/proposals/index.html.haml:
39: :javascript
40:   $(document).ready(function() {
41:     $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');});});
42:           
43:          

    app/views/proposals/index.html.haml:45:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (153.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:20:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:21:02) [GET]

ActionController::RoutingError (No route matches "/1" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:22:13) [GET]

ActionController::RoutingError (No route matches "/2" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:22:17) [GET]

ActionController::RoutingError (No route matches "/3" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:23:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.9ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `src' for #<ActionView::Base:0xb63838d8>) on line #7 of app/views/layouts/main.html.haml:
4:     %title= 'Dynamocracy'
5:     %meta(http-equiv="content-type" content="text/html; charset=utf-8")
6:     = stylesheet_link_tag "dynamocracy"
7:     %script{src =>'http://code.jquery.com/jquery-latest.min.js'}
8:     /= stylesheet_link_tag  "layout", 'application' ,"scaffold", "board"
9:     /= formtastic_stylesheet_link_tag
10:   %body

    app/views/layouts/main.html.haml:7:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:24:12) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (17.6ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (1.0ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 158ms (View: 38, DB: 21) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:24:16) [GET]

ActionController::RoutingError (No route matches "/1" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:27:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Inconsistent indentation: 1 space was used for indentation, but the rest of the document was indented using 2 spaces.) on line #38 of app/views/proposals/index.html.haml:
35:         
36:   = will_paginate        
37: 
38:  :javascript    
39:   - @proposals.each do |proposal|
40:     $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');})
41:           

    app/views/proposals/index.html.haml:38
    haml (3.0.12) lib/haml/precompiler.rb:152:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `instance_eval'
    haml (3.0.12) lib/haml/precompiler.rb:134:in `tabs'
    haml (3.0.12) lib/haml/precompiler.rb:1040:in `block_opened?'
    haml (3.0.12) lib/haml/precompiler.rb:388:in `push_script'
    haml (3.0.12) lib/haml/precompiler.rb:224:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (137.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:27:55) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb66f1bdc>) on line #40 of app/views/proposals/index.html.haml:
37: 
38: :javascript    
39:   - @proposals.each do |proposal|
40:     $(#"link_#{proposal.id}").bind('click', function() {alert('User clicked on "foo."');})
41:           
42:          

    app/views/proposals/index.html.haml:40:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.6ms)
Rendered rescues/_request_and_response (67.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:28:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 42, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:28:09) [GET]

ActionController::RoutingError (No route matches "/1" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:31:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 144ms (View: 102, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:32:01) [GET]

ActionController::RoutingError (No route matches "/1" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:32:49) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 84ms (View: 38, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:32:51) [GET]

ActionController::RoutingError (No route matches "/2" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:33:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 147ms (View: 39, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:33:57) [GET]

ActionController::RoutingError (No route matches "/3" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:34:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:37:20) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 161ms (View: 48, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:41:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 68ms (View: 25, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:41:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (1.0ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 155ms (View: 45, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:42:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:42:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 151ms (View: 110, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:43:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 40, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:43:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (1.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 218ms (View: 157, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 14:43:18) [GET]

ActionController::RoutingError (No route matches "/2" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:43:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 38, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:45:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 153ms (View: 110, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:46:37) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (1.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 84ms (View: 40, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:47:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.9ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47layouts47main46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ':', expecting ')'
...8/themes/base/jquery-ui.css" :rel=>"stylesheet" :type=>"text...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ':', expecting kEND
...y-ui.css" :rel=>"stylesheet" :type=>"text/css");_hamlout.pus...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ')', expecting kEND
...stylesheet" :type=>"text/css");_hamlout.push_text("    <!-- ...
                              ^
Function body:           def _run_haml_app47views47layouts47main46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html>\n  <head>\n    <title>#{


_hamlout.adjust_tabs(3); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</title>\n    <meta content='text/html; charset=utf-8' http-equiv='content-type' />\n    #{
_hamlout.format_script_false_false_false_false_false_true_false(( stylesheet_link_tag "dynamocracy"
));}\n    <script src='http://code.jquery.com/jquery-latest.min.js'></script>\n    <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js'></script>\n", 0, false);

_hamlout.open_tag("link", true, true, false, false, {}, false, false, nil, nil, :href=>"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" :rel=>"stylesheet" :type=>"text/css");_hamlout.push_text("    <!-- = stylesheet_link_tag  \"layout\", 'application' ,\"scaffold\", \"board\" -->\n    <!-- = formtastic_stylesheet_link_tag -->\n  </head>\n  <body>\n    <h1>#{





_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</h1>\n    <header>\n      #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Home', root_path
));}\n      |\n      #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Logout', logout_path
));}\n      |\n      #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n    </header>\n    <div class='flash error' id='error_div_id' style='display:none'></div>\n    <div class='flash notice' id='notice_div_id' style='display:none'></div>\n    #{


_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( yield
));}\n    <br />\n    <p></p>\n    <p>Copyright © 2009-2010 Dynamocracy.org</p>\n  </body>\n</html>\n", -2, false);



_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:33:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:352:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ':', expecting ')'
...8/themes/base/jquery-ui.css" :rel=>"stylesheet" :type=>"text...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ':', expecting kEND
...y-ui.css" :rel=>"stylesheet" :type=>"text/css");_hamlout.pus...
                              ^
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:9: syntax error, unexpected ')', expecting kEND
...stylesheet" :type=>"text/css");_hamlout.push_text("    <!-- ...
                              ^) on line #9 of app/views/layouts/main.html.haml:
6:     = stylesheet_link_tag "dynamocracy"
7:     %script{:src =>'http://code.jquery.com/jquery-latest.min.js'}
8:     %script{:src =>'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js'} 
9:     %link{:href=>"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" :rel=>"stylesheet" :type=>"text/css"}
10:     
11:     /= stylesheet_link_tag  "layout", 'application' ,"scaffold", "board"
12:     /= formtastic_stylesheet_link_tag

    app/views/layouts/main.html.haml:33:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 14:47:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 93ms (View: 48, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 16:16:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (1.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 83ms (View: 37, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:22:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 34, DB: 4) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:22:46) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_inset-soft_25_000000_1x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:22:46) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_flat_50_5c5c5c_40x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:22:46) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_gloss-wave_25_333333_500x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:22:46) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-icons_ffffff_256x240.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:22:46) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-icons_cccccc_256x240.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:24:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 38, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:47) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_inset-soft_25_000000_1x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:47) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_flat_50_5c5c5c_40x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:47) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_gloss-wave_25_333333_500x100.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:47) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-icons_ffffff_256x240.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:47) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-icons_cccccc_256x240.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:24:50) [GET]

ActionController::RoutingError (No route matches "/stylesheets/images/ui-bg_glass_40_0078a3_1x400.png" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:25:53) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 67ms (View: 26, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:27:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 39, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:27:02) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 26, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:27:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 51ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:29:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 50ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:30:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 139ms (View: 51, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:30:30) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:30:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 51ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:30:32) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:30:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 53ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:30:34) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 17:30:35) [GET]

ActionController::RoutingError (No route matches "/stylesheets/formatastic.css" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:30:53) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 79ms (View: 63, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:33:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 59ms (View: 41, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:34:33) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 59ms (View: 42, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:34:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 53ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:34:35) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 60ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:36:37) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 181ms (View: 52, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:36:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 57ms (View: 42, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:37:54) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 199ms (View: 41, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:38:01) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 171ms (View: 99, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:38:08) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 128ms (View: 110, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:40:12) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 64ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:50:37) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new

ActionView::TemplateError (undefined method `buttons' for #<ActionView::Helpers::FormBuilder:0xb64ef9d8>) on line #12 of app/views/proposals/new.html.haml:
9:   %br
10:   = f.datetime_select :opening_at
11:   = f.datetime_select :closing_at
12:   = f.buttons
13:   

    app/views/proposals/new.html.haml:12
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:72:in `fields_for'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (65.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:50:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new

ActionView::TemplateError (undefined method `submit_button' for #<ActionView::Helpers::FormBuilder:0xb6422064>) on line #12 of app/views/proposals/new.html.haml:
9:   %br
10:   = f.datetime_select :opening_at
11:   = f.datetime_select :closing_at
12:   = f.submit_button
13:   

    app/views/proposals/new.html.haml:12
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:72:in `fields_for'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/proposals/new.html.haml:3:in `_run_haml_app47views47proposals47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (139.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:51:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 46ms (View: 31, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:52:20) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 119ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:53:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 51ms (View: 35, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:53:57) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 121ms (View: 98, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:54:13) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 57ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:55:15) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
ERROR: compiling _run_haml_app47views47proposals47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected tASSOC, expecting '}'
...ue_false(( f.text_area{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected tIDENTIFIER, expecting '}'
...( f.text_area{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected ':', expecting ')'
...rea{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: unknown type of %string
Function body:           def _run_haml_app47views47proposals47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New proposal</h1>\n", 0, false);

 form_for @proposal do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :text, "Your proposal : "
));}\n<br />\n#{


_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area{:cols=>"60" rows:=>"40"} :text, %br
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :opening_at, "Will open at : "
));}\n<br />\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :opening_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :closing_at, "Will close at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :closing_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( submit_tag 'Save your proposal'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected tASSOC, expecting '}'
...ue_false(( f.text_area{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected tIDENTIFIER, expecting '}'
...( f.text_area{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: syntax error, unexpected ':', expecting ')'
...rea{:cols=>"60" rows:=>"40"} :text, %br
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:10: unknown type of %string) on line #10 of app/views/proposals/new.html.haml:
7:   %br
8:   = f.text_area{:cols=>"60" rows:=>"40"} :text, 
9:   %br
10:   = f.label :opening_at, "Will open at : "
11:   %br
12:   = f.datetime_select :opening_at
13:   %br

    app/views/proposals/new.html.haml:10:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (134.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:55:34) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
ERROR: compiling _run_haml_app47views47proposals47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tASSOC, expecting '}'
...ue_false(( f.text_area{:cols=>"60" rows:=>"40"} :text
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting '}'
...( f.text_area{:cols=>"60" rows:=>"40"} :text
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected ':', expecting ')'
...rea{:cols=>"60" rows:=>"40"} :text
                              ^
Function body:           def _run_haml_app47views47proposals47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New proposal</h1>\n", 0, false);

 form_for @proposal do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :text, "Your proposal : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area{:cols=>"60" rows:=>"40"} :text
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :opening_at, "Will open at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :opening_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :closing_at, "Will close at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :closing_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( submit_tag 'Save your proposal'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:22:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tASSOC, expecting '}'
...ue_false(( f.text_area{:cols=>"60" rows:=>"40"} :text
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting '}'
...( f.text_area{:cols=>"60" rows:=>"40"} :text
                              ^
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected ':', expecting ')'
...rea{:cols=>"60" rows:=>"40"} :text
                              ^) on line #8 of app/views/proposals/new.html.haml:
5:   
6:   = f.label :text, "Your proposal : "
7:   %br
8:   = f.text_area{:cols=>"60" rows:=>"40"} :text
9:   %br
10:   = f.label :opening_at, "Will open at : "
11:   %br

    app/views/proposals/new.html.haml:22:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (143.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:55:54) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
ERROR: compiling _run_haml_app47views47proposals47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...xt_area :text,:cols=>"60" rows:=>"40"
                              ^
Function body:           def _run_haml_app47views47proposals47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New proposal</h1>\n", 0, false);

 form_for @proposal do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :text, "Your proposal : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area :text,:cols=>"60" rows:=>"40"
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :opening_at, "Will open at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :opening_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :closing_at, "Will close at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :closing_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( submit_tag 'Save your proposal'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:22:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...xt_area :text,:cols=>"60" rows:=>"40"
                              ^) on line #8 of app/views/proposals/new.html.haml:
5:   
6:   = f.label :text, "Your proposal : "
7:   %br
8:   = f.text_area :text,:cols=>"60" rows:=>"40"
9:   %br
10:   = f.label :opening_at, "Will open at : "
11:   %br

    app/views/proposals/new.html.haml:22:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:56:03) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
ERROR: compiling _run_haml_app47views47proposals47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected ':', expecting tASSOC
...area :text,:cols=>"60", :rows:=>"40"
                              ^
Function body:           def _run_haml_app47views47proposals47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>New proposal</h1>\n", 0, false);

 form_for @proposal do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :text, "Your proposal : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area :text,:cols=>"60", :rows:=>"40"
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :opening_at, "Will open at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :opening_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.label :closing_at, "Will close at : "
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.datetime_select :closing_at
));}\n<br />\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( submit_tag 'Save your proposal'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:22:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/new.html.haml:8: syntax error, unexpected ':', expecting tASSOC
...area :text,:cols=>"60", :rows:=>"40"
                              ^) on line #8 of app/views/proposals/new.html.haml:
5:   
6:   = f.label :text, "Your proposal : "
7:   %br
8:   = f.text_area :text,:cols=>"60", :rows:=>"40"
9:   %br
10:   = f.label :opening_at, "Will open at : "
11:   %br

    app/views/proposals/new.html.haml:22:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:56:14) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 62ms (View: 39, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:56:25) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 66ms (View: 42, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:56:34) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 69ms (View: 45, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:56:50) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"51", "text"=>"", "opening_at(1i)"=>"2015", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"51", "closing_at(3i)"=>"22"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 83ms (View: 42, DB: 0) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 17:57:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 43ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 17:58:24) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"15", "closing_at(5i)"=>"59", "text"=>"I propose that we use this tool to vote concerning the open data initiative in octo", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"15", "closing_at(2i)"=>"8", "opening_at(5i)"=>"57", "closing_at(3i)"=>"15"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Create (0.4ms)[0m   [0;1mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 15:58:24', 0, '2010-08-15 15:58:24', 'I propose that we use this tool to vote concerning the open data initiative in octo', 0, 1, '2010-08-15 15:57:00', 'open', '2010-08-15 15:59:00', 0)[0m
Redirected to http://localhost:3000/proposals/7
Completed in 209ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 17:58:24) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 17:58:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 39, DB: 5) | 200 OK [http://localhost/proposals]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 17:58:53) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 32ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (182.2ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (97.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (75.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (92.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (77.7ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.4ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (77.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (78.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (62.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (74.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (74.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (69.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (70.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (69.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (70.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:34) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 23ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:37) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:38) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:39) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:49) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 105ms (View: 84, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:02:50) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:37:21) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
ERROR: compiling _run_haml_app47views47proposals47show46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/proposals/show.html.haml:4: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/show.html.haml:4: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_haml_app47views47proposals47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>Proposal detail</h1>\n#{


_hamlout.format_script_false_false_false_false_false_true_false(( @proposal.user.nickname /proposes :
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote on this proposal', new_proposal_vote_path(@proposal)
));}\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Back to list', proposals_path
));}\n", 0, false);_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/proposals/show.html.haml:4:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/proposals/show.html.haml:4: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/proposals/show.html.haml:4: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #4 of app/views/proposals/show.html.haml:
1: %h1 Proposal detail
2: 
3: 
4: = @proposal.user.nickname /proposes :
5: = link_to 'Vote on this proposal', new_proposal_vote_path(@proposal)
6: 
7: 

    app/views/proposals/show.html.haml:4:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (142.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:37:26) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #4 of app/views/proposals/show.html.haml:
1: %h1 Proposal detail
2: 
3: 
4: = @proposal.user.nickname /proposes :/
5: = link_to 'Vote on this proposal', new_proposal_vote_path(@proposal)
6: 
7: 

    app/views/proposals/show.html.haml:4:in `_run_haml_app47views47proposals47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:37:41) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 76ms (View: 26, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:38:10) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
Completed in 72ms (View: 22, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:38:16) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 26ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:38:43) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 22ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:38:49) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 25ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:39:31) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 29ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:41:41) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `closed_at' for #<Proposal:0xb697a354>) on line #13 of app/views/proposals/show.html.haml:
10: This proposal has been scheduled to be opened at :
11: = facebook_distance_of_time_in_words @proposal.opening_at
12: And to be closed at :
13: = facebook_distance_of_time_in_words @proposal.closed_at
14:   
15: = link_to 'Vote on this proposal', new_proposal_vote_path(@proposal)
16: 

    app/views/proposals/show.html.haml:13:in `_run_haml_app47views47proposals47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:41:53) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 37ms (View: 19, DB: 1) | 200 OK [http://localhost/proposals/7]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:42:49) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %li and nested within it.) on line #13 of app/views/proposals/show.html.haml:
10: 
11: %ul
12:   %li This proposal has been scheduled to be opened at :
13:     =facebook_distance_of_time_in_words @proposal.opening_at
14:   %li and to be closed at :
15:     =facebook_distance_of_time_in_words @proposal.closing_at
16: 

    app/views/proposals/show.html.haml:13
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (59.2ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 18:42:56) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 114ms (View: 16, DB: 16) | 200 OK [http://localhost/proposals/7]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:43:14) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 36ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:43:27) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new

ActionView::TemplateError (undefined method `inputs' for #<ActionView::Helpers::FormBuilder:0xb6639fc8>) on line #7 of app/views/votes/new.html.haml:
4: 
5: - form_for [:proposal, @vote] do |f|
6:   = f.error_messages
7:   = f.inputs :value, :as => :radio, :collection => ['yes','support','no','pass','veto']
8:   = f.inputs :comment
9:   = f.buttons
10:   

    app/views/votes/new.html.haml:7
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:72:in `fields_for'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:5:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (69.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:45:49) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new

ActionView::TemplateError (undefined method `text' for #<ActionView::Helpers::FormBuilder:0xb65c0bb4>) on line #8 of app/views/votes/new.html.haml:
5: - form_for [:proposal, @vote] do |f|
6:   = f.error_messages
7:   = f.radio_button :value,:collection => ['yes','support','no','pass','veto']
8:   = f.text :comment
9:   = f.submit
10:   

    app/views/votes/new.html.haml:8
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:72:in `fields_for'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:5:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (134.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:46:01) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new

ActionView::TemplateError (undefined method `input_text' for #<ActionView::Helpers::FormBuilder:0xb66b3ad0>) on line #8 of app/views/votes/new.html.haml:
5: - form_for [:proposal, @vote] do |f|
6:   = f.error_messages
7:   = f.radio_button :value,:collection => ['yes','support','no','pass','veto']
8:   = f.input_text :comment
9:   = f.submit
10:   

    app/views/votes/new.html.haml:8
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225:in `call'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:225
    haml (3.0.12) lib/haml/helpers.rb:588:in `call'
    haml (3.0.12) lib/haml/helpers.rb:588:in `haml_bind_proc'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:72:in `fields_for'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:5:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (128.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:46:08) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:46:20) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 29ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:58:14) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 34ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 18:59:48) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 37ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:00:10) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 100ms (View: 80, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:00:21) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 34ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:00:23) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 26ms (View: 6, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:00:25) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 36ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:01:39) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 37ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:01:53) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 33ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:02:15) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:02:25) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 35ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:02:48) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 38ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 19:04:34) [GET]
  Parameters: {"proposal_id"=>"7"}
  [4;35;1mUser Load (6.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 68ms (View: 28, DB: 7) | 200 OK [http://localhost/proposals/7/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 19:04:47) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 43ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 19:05:41) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 49ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 19:06:17) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 46ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:11:26) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 48ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:11:39) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 43ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:11:57) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 45ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:12:40) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 50ms (View: 13, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:13:11) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 47ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:13:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 48ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:14:03) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 45ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:14:19) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 120ms (View: 86, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:15:16) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 64ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:17:22) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 49ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:17:36) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 57ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:17:44) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 44ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:18:03) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 123ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:18:15) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 59ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:22:17) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 44ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:22:44) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 50ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:26:11) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 50ms (View: 12, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:26:21) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 118ms (View: 14, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:27:23) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 49ms (View: 13, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:27:49) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 44ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:28:02) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 46ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 20:28:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 7) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 7) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 61ms (View: 19, DB: 0) | 200 OK [http://localhost/proposals/7/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:28:37) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 148ms (View: 42, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:28:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 204ms (View: 107, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:29:10) [GET]
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (16.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (4.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7)) [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (4.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 446ms (View: 128, DB: 28) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:29:19) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7)) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (7.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 179ms (View: 106, DB: 11) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:29:44) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 20:29:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 20:29:19 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 18, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:30:23) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 20:29:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 20:29:19 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 146ms (View: 52, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:30:43) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 20:29:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 20:29:19 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.5ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 67ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:31:27) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 20:29:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 20:29:19 +0200 2010"}}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (6.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 19, DB: 9) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+20%3A29%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:31:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"2010-08-15 20:29:19 UTC", "order"=>"ascend_by_closing_at", "opening_at_before"=>"2010-08-15 20:29:19 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 16, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=2010-08-15+20%3A29%3A19+UTC&search%5Bopening_at_before%5D=2010-08-15+20%3A29%3A19+UTC&search%5Border%5D=ascend_by_closing_at&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:32:14) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"2010-08-15 20:29:19 UTC", "order"=>"ascend_by_closing_at", "opening_at_before"=>"2010-08-15 20:29:19 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 131ms (View: 82, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=2010-08-15+20%3A29%3A19+UTC&search%5Bopening_at_before%5D=2010-08-15+20%3A29%3A19+UTC&search%5Border%5D=ascend_by_closing_at&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:32:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"2010-08-15 20:29:19 UTC", "order"=>"ascend_by_closing_at", "opening_at_before"=>"2010-08-15 20:29:19 UTC"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 15, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=2010-08-15+20%3A29%3A19+UTC&search%5Bopening_at_before%5D=2010-08-15+20%3A29%3A19+UTC&search%5Border%5D=ascend_by_closing_at&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:32:18) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"2010-08-15 20:29:19 UTC", "order"=>"ascend_by_closing_at", "opening_at_before"=>"2010-08-15 20:29:19 UTC"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) ORDER BY proposals.closing_at ASC LIMIT 30 OFFSET 0[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 130ms (View: 82, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=2010-08-15+20%3A29%3A19+UTC&search%5Bopening_at_before%5D=2010-08-15+20%3A29%3A19+UTC&search%5Border%5D=ascend_by_closing_at&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 20:32:21) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"2010-08-15 20:29:19 UTC", "order"=>"ascend_by_opening_at", "opening_at_before"=>"2010-08-15 20:29:19 UTC"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at > '2010-08-15 20:29:19') AND ((proposals.opening_at < '2010-08-15 20:29:19') AND (proposals.status = 'open'))) ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 6) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 16, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=2010-08-15+20%3A29%3A19+UTC&search%5Bopening_at_before%5D=2010-08-15+20%3A29%3A19+UTC&search%5Border%5D=ascend_by_opening_at&search%5Bstatus_equals%5D=open]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 20:32:25) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;36;1mProposal Update (0.5ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 18:32:25', "status" = 'withdrawn' WHERE "id" = 6[0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 146ms (View: 18, DB: 2) | 200 OK [http://localhost/proposals/withdraw/6]
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "proposals" ADD "cancelled_by_id" varchar(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815183413')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (99.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (52.6ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (74.1ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" varchar(255)) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (77.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (62.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.8ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (64.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (51.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (50.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (49.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (94.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (81.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" varchar(255)) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.2ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (82.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (63.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (50.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (126.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" varchar(255)) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (83.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (50.2ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (62.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (50.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (66.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (49.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (97.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.2ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" varchar(255)) [0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (79.2ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (2.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (72.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (55.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (65.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (49.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddCancelledByToProposal (20100815183413)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" varchar(255)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100815183413'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "proposals" ADD "cancelled_by_id" integer[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "voter_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "votes"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_votes")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "altered_votes"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100815183413')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:00:47) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (68.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:00:47) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (150.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:00:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (62.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:00:48) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (139.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:09:09) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:09:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

TypeError (can't convert Symbol into String):
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `send'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:82:in `paginate'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/collection.rb:85:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:76:in `paginate'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `send'
  searchlogic (2.4.19) lib/searchlogic/search.rb:153:in `method_missing'
  app/controllers/proposals_controller.rb:10:in `index'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (61.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:12:01) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 105ms (View: 65, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:12:36) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %td and nested within it.) on line #19 of app/views/proposals/index.html.haml:
16:     - @proposals.each do |proposal|
17:       %tr
18:         %td= proposal.user.nickname
19:           proposes : 
20:         %td{:id=>"link_#{proposal.id}"}= link_to proposal.text[0..20]+"...","#{proposal.id}"
21:         %td= facebook_distance_of_time_in_words proposal.opening_at
22:         %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:19
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (115.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:12:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 153ms (View: 60, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:13:10) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 21:12:46 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 21:12:46') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 65ms (View: 25, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+21%3A12%3A46+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:13:15) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sun Aug 15 21:13:10 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-15 21:13:10') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 106ms (View: 77, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sun+Aug+15+21%3A13%3A10+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:13:19) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 37ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:13:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.8ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 58ms (View: 26, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 21:13:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 52ms (View: 36, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 21:13:45) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"19", "closing_at(5i)"=>"13", "text"=>"I propose to cancel myself", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"19", "closing_at(2i)"=>"8", "opening_at(5i)"=>"13", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.5ms)[0m   [0mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "cancelled_by_id", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 19:13:45', 0, NULL, '2010-08-15 19:13:45', 'I propose to cancel myself', 0, 1, '2010-08-15 19:13:00', 'open', '2010-08-22 19:13:00', 0)[0m
Redirected to http://localhost:3000/proposals/8
Completed in 113ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:13:45) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 32ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/8]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:14:29) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 36ms (View: 17, DB: 1) | 200 OK [http://localhost/proposals/8]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:14:42) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/8]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:14:50) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 102ms (View: 20, DB: 1) | 200 OK [http://localhost/proposals/8]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:14:56) [GET]
  Parameters: {"proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering votes/new
Completed in 36ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/8/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:15:01) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
  [4;36;1mSignature Create (0.3ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 19:15:01', '2010-08-15 19:15:01', 1, 8)[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 19:15:01', '2010-08-15 19:15:01', 'veto', 8)[0m
Redirected to http://localhost:3000/proposals/8/votes/6
Completed in 119ms (DB: 0) | 302 Found [http://localhost/proposals/8/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:15:01) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 33ms (View: 13, DB: 1) | 200 OK [http://localhost/proposals/8/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:16:14) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"8"}
  [4;35;1mUser Load (5.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (4.8ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 50ms (View: 9, DB: 11) | 200 OK [http://localhost/proposals/8/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:17:02) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 36ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/8/votes/6]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:17:04) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (1.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 34, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:17:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (7.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 80ms (View: 40, DB: 10) | 200 OK [http://localhost/]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:17:19) [GET]
  Parameters: {"id"=>"6", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 6 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 30ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/8/votes/6]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:17:24) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 7 AND ("votes".proposal_id = 8)) [0m

ActiveRecord::RecordNotFound (Couldn't find Vote with ID=7 AND ("votes".proposal_id = 8)):
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:41:in `resource'
  /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:13:in `show'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:20:04) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 42ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:25:03) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new

NameError (undefined local variable or method `vote' for #<VotesController:0xb6670730>):
  app/controllers/votes_controller.rb:15:in `redirect_to_proposal'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (125.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:25:11) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 49ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:25:47) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new

NoMethodError (undefined method `base' for #<ActiveRecord::Errors:0xb655c920>):
  app/controllers/votes_controller.rb:15:in `redirect_to_proposal'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (112.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:25:58) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (4.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 89ms (View: 27, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:26:39) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new

NoMethodError (undefined method `redirect_to_proposal' for #<VotesController:0xb65a9ce8>):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (112.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:26:47) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
Completed in 42ms (View: 8, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:28:17) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 72ms (View: 32, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:28:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
ERROR: compiling _run_haml_app47views47votes47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:4: syntax error, unexpected '.'
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n", 0, false);
           ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:14: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:14: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:18: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:18: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:22: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:22: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:26: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:26: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:30: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:30: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_haml_app47views47votes47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>Vote on this proposal from</h1>\n<h1>#{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((@vote.proposal.user.nickname
));}</h1>\n#{
_hamlout.format_script_false_false_false_false_false_true_false((@vote.proposal.text[0..20]....
));}\n<br />\n", 0, false);



 form_for [:proposal, @vote] do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'yes'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_yes, "YES I support this proposal and I am ready to champion it"
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'support'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_support, "I SUPPORT this proposal, though I have some reservations. I don’t believe I can lead the implementation of this proposal, but I commit not to sabotage it"
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'no'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_no, 'NO, right now I can’t support this proposal'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'pass'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_pass, 'I just PASS'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'veto'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_veto, 'VETO, I am an absolute no. I won’t get in, I’m cancelling the proposal, and I’m claiming it'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.label :comment, 'I would vote yes if : '
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area :comment, :rows=>4, :cols=> 80
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.submit 'Vote!'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:4: syntax error, unexpected '.'
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n", 0, false);
           ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:14: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:14: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:18: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:18: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:22: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:22: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:26: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:26: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:30: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:30: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:34: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #4 of app/views/votes/new.html.haml:
1: %h1 Vote on this proposal from 
2: %h1= @vote.proposal.user.nickname
3: 
4: =@vote.proposal.text[0..20]....
5: %br
6: 
7: 

    app/views/votes/new.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:28:44) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
ERROR: compiling _run_haml_app47views47votes47new46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected ')'
));}\n<br />\n", 0, false);
 ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n", 0, false);
           ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:15: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:15: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:19: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:19: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:23: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:23: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:27: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:27: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:31: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:31: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_haml_app47views47votes47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>Vote on this proposal from</h1>\n<h1>#{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((@vote.proposal.user.nickname
));}</h1>\n#{
_hamlout.format_script_false_false_false_false_false_true_false((@vote.proposal.text[0..20]...
));}\n<br />\n", 0, false);




 form_for [:proposal, @vote] do |f|;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(( f.error_messages
));}\n#{
_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'yes'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_yes, "YES I support this proposal and I am ready to champion it"
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'support'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_support, "I SUPPORT this proposal, though I have some reservations. I don’t believe I can lead the implementation of this proposal, but I commit not to sabotage it"
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'no'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_no, 'NO, right now I can’t support this proposal'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'pass'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_pass, 'I just PASS'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.radio_button :value, 'veto'
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.label :value_veto, 'VETO, I am an absolute no. I won’t get in, I’m cancelling the proposal, and I’m claiming it'
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.label :comment, 'I would vote yes if : '
));}\n#{_hamlout.format_script_false_false_false_false_false_true_false(( f.text_area :comment, :rows=>4, :cols=> 80
));}\n<br />\n<br />\n#{

_hamlout.format_script_false_false_false_false_false_true_false(( f.submit 'Vote!'
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.8/gems/responders-0.4.7/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
/usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected ')'
));}\n<br />\n", 0, false);
 ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:5: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n", 0, false);
           ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:15: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:15: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:19: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:19: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:23: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:23: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:27: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:27: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:31: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:31: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected $undefined
));}\n<br />\n<br />\n#{
             ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
));}\n<br />\n<br />\n#{
                   ^
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: unterminated string meets end of file
/home/mag/dev/octocracy_spike/app/views/votes/new.html.haml:35: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #5 of app/views/votes/new.html.haml:
2: %h1= @vote.proposal.user.nickname
3: 
4: =@vote.proposal.text[0..20]...
5: 
6: %br
7: 
8: 

    app/views/votes/new.html.haml:35:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:28:50) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new

ActionView::TemplateError (Illegal element: classes and ids must have values.) on line #5 of app/views/votes/new.html.haml:
2: %h1= @vote.proposal.user.nickname
3: 
4: =@vote.proposal.text[0..20]
5: ...
6: %br
7: 
8: 

    app/views/votes/new.html.haml:5
    haml (3.0.12) lib/haml/precompiler.rb:706:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:837:in `render_div'
    haml (3.0.12) lib/haml/precompiler.rb:210:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:100:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:147:in `navigation_behavior'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:126:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/base_helpers.rb:250:in `respond_with_dual_blocks'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:37:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (69.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:29:00) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 51ms (View: 19, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:29:26) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 63ms (View: 23, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:30:07) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 53ms (View: 19, DB: 0) | 200 OK [http://localhost/proposals/8/votes]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:30:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (1.1ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 45, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:31:21) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 21:30:19 +0200 2010", "opening_at_before"=>"Sun Aug 15 21:30:19 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 21:30:19')) AND (proposals.opening_at < '2010-08-15 21:30:19')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 8) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 57ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+21%3A30%3A19+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+21%3A30%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 21:31:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 118ms (View: 32, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 21:31:48) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"19", "closing_at(5i)"=>"31", "text"=>"Blah blah blah blah\r\nAnd blah\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"19", "closing_at(2i)"=>"8", "opening_at(5i)"=>"31", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.5ms)[0m   [0mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "cancelled_by_id", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 19:31:48', 0, NULL, '2010-08-15 19:31:48', 'Blah blah blah blah
And blah
', 0, 1, '2010-08-15 19:31:00', 'open', '2010-08-22 19:31:00', 0)[0m
Redirected to http://localhost:3000/proposals/9
Completed in 124ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:31:48) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 26ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/9]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:31:51) [GET]
  Parameters: {"proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb68d50c0>) on line #42 of app/views/votes/new.html.haml:
39:   = f.submit 'Vote!'
40:   
41: %br
42: =link_to 'Back', proposal_path(proposal)
43:   

    app/views/votes/new.html.haml:42:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.4ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:31:58) [GET]
  Parameters: {"proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `proposal' for #<ActionView::Base:0xb6437914>) on line #42 of app/views/votes/new.html.haml:
39:   = f.submit 'Vote!'
40:   
41: %br
42: =link_to 'Back', proposal_path(proposal)
43:   

    app/views/votes/new.html.haml:42:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:105
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:183:in `default_render'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:124:in `to_html'
    responders (0.4.7) lib/responders/flash_responder.rb:93:in `to_html'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `send'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:117:in `respond'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/responder.rb:110:in `call'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/legacy/respond_to.rb:67:in `respond_with'
    /usr/lib/ruby/gems/1.8/gems/inherited_resources-1.0.3/lib/inherited_resources/actions.rb:19:in `new'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:32:09) [GET]
  Parameters: {"proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 40ms (View: 20, DB: 1) | 200 OK [http://localhost/proposals/9/votes/new]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:32:14) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/9]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:32:38) [GET]
  Parameters: {"proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/9/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:32:42) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 9) LIMIT 1[0m
  [4;36;1mSignature Create (0.3ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 19:32:42', '2010-08-15 19:32:42', 1, 9)[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 19:32:42', '2010-08-15 19:32:42', 'veto', 9)[0m
Redirected to http://localhost:3000/proposals/9/votes/7
Completed in 138ms (DB: 0) | 302 Found [http://localhost/proposals/9/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:32:43) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show

ActionView::TemplateError (undefined method `value' for nil:NilClass) on line #2 of app/views/votes/show.html.haml:
1: %h1 You've just voted 
2: %h1= @vote.value.capitalize
3: %br
4: = link_to "Back", root_path

    app/views/votes/show.html.haml:2:in `_run_haml_app47views47votes47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:33:10) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show

ActionView::TemplateError (undefined method `value' for nil:NilClass) on line #2 of app/views/votes/show.html.haml:
1: %h1 You've just voted 
2: %h1= @vote.value
3: %br
4: = link_to "Back", root_path

    app/views/votes/show.html.haml:2:in `_run_haml_app47views47votes47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (180.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:37:00) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/9/votes/7]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:37:13) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show

ActionView::TemplateError (Missing template votes/_proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views) on line #1 of app/views/votes/show.html.haml:
1: =render 'proposals'

    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.12) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/votes/show.html.haml:1:in `_run_haml_app47views47votes47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (148.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:37:38) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show

ActionView::TemplateError (Missing template /proposals/_index.erb in view path app/views:vendor/plugins/octo-rails/app/views) on line #1 of app/views/votes/show.html.haml:
1: =render '/proposals/index'

    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    haml (3.0.12) lib/haml/helpers.rb:90:in `non_haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:11:in `render'
    app/views/votes/show.html.haml:1:in `_run_haml_app47views47votes47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (129.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:39:40) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/proposals/9/votes/7]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:40:05) [GET]
  Parameters: {"id"=>"7", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:10) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 9) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

NoMethodError (undefined method `create' for #<String:0xb68ca850>):
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:22) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:32) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:34) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:37) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering /proposals

ActionView::MissingTemplate (Missing template /proposals.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:40:40) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 9) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 51ms (View: 11, DB: 0) | 200 OK [http://localhost/proposals/9/votes]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 21:40:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 44ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 21:40:55) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"19", "closing_at(5i)"=>"40", "text"=>"azefmlazkemflkamzelfk\r\nefkazmeflkazmeflkmazlekf\r\nazefazmelfkazefklazmelfka\r\nzeùfkamzlekf", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"19", "closing_at(2i)"=>"8", "opening_at(5i)"=>"40", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.4ms)[0m   [0mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "cancelled_by_id", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 19:40:55', 0, NULL, '2010-08-15 19:40:55', 'azefmlazkemflkamzelfk
efkazmeflkazmeflkmazlekf
azefazmelfkazefklazmelfka
zeùfkamzlekf', 0, 1, '2010-08-15 19:40:00', 'open', '2010-08-22 19:40:00', 0)[0m
Redirected to http://localhost:3000/proposals/10
Completed in 118ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:40:55) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/10]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:40:58) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:41:02) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 10) LIMIT 1[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 19:41:02', '2010-08-15 19:41:02', 1, 10)[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 19:41:02', '2010-08-15 19:41:02', 'yes', 10)[0m
Redirected to http://localhost:3000/proposals/10/votes/8
Completed in 121ms (DB: 0) | 302 Found [http://localhost/proposals/10/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:41:02) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:43:02) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:43:03) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:43:05) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:43:06) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 21:43:07) [GET]
  Parameters: {"id"=>"8", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: create and new):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:43:09) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 33ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:43:11) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:43:24) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 33ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:43:25) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:44:03) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:44:06) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:44:35) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (152.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:49:00) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (92.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:49:02) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:49:03) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (190.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 21:52:15) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (1.1ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 36, DB: 4) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-15 21:52:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 44ms (View: 28, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-15 21:52:31) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal"=>{"closing_at(4i)"=>"19", "closing_at(5i)"=>"52", "text"=>"eafmlzaefkzamelfkfze\r\neazfmlzaekfzea\r\nfkazmlefkmzlekzmflekf\r\nafeezmaflkzaelfkezflk\r\nfezmlfkmlzafkazefk\r\n", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"19", "closing_at(2i)"=>"8", "opening_at(5i)"=>"52", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.4ms)[0m   [0mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "cancelled_by_id", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 19:52:31', 0, NULL, '2010-08-15 19:52:31', 'eafmlzaefkzamelfkfze
eazfmlzaekfzea
fkazmlefkmzlekzmflekf
afeezmaflkzaelfkezflk
fezmlfkmlzafkazefk
', 0, 1, '2010-08-15 19:52:00', 'open', '2010-08-22 19:52:00', 0)[0m
Redirected to http://localhost:3000/proposals/11
Completed in 133ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 21:52:31) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 28ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/11]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 21:52:33) [GET]
  Parameters: {"proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 39ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/11/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:52:37) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:53:07) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 56ms (View: 19, DB: 0) | 200 OK [http://localhost/proposals/11/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:54:25) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (57.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:54:56) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `opening_at' for nil:NilClass):
  app/models/vote.rb:25:in `open_proposal?'
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (132.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:56:28) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `votes' for #<Class:0xb671b5a4>):
  searchlogic (2.4.19) lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
  searchlogic (2.4.19) lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
  app/controllers/votes_controller.rb:10:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (46.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:57:01) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Proposal without an ID):
  app/controllers/votes_controller.rb:10:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (47.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:57:27) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = '--- :proposal_id
') [0m

ActiveRecord::RecordNotFound (Couldn't find Proposal with ID=proposal_id):
  app/controllers/votes_controller.rb:11:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:57:59) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = '--- :proposal_id
') [0m

ActiveRecord::RecordNotFound (Couldn't find Proposal with ID=proposal_id):
  app/controllers/votes_controller.rb:12:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:58:43) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m

ActionView::MissingTemplate (Missing template votes//proposals/11/vote/new.erb in view path app/views:vendor/plugins/octo-rails/app/views):
  app/controllers/votes_controller.rb:15:in `create'
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:58:57) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 124ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals/11/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 21:59:17) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.3ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 19:59:17', '2010-08-15 19:59:17', 1, 11)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 19:59:17', '2010-08-15 19:59:17', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 9, value: "no", comment: "comment", created_at: "2010-08-15 19:59:17", updated_at: "2010-08-15 19:59:17", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 9, value: "no", comment: "comment", created_at: "2010-08-15 19:59:17", updated_at: "2010-08-15 19:59:17", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (67.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:00:13) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 91ms (View: 60, DB: 2) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mVote Load (1.5ms)[0m   [0;1mSELECT * FROM "votes" [0m
  [4;35;1mVote Load (1.9ms)[0m   [0mSELECT * FROM "votes" [0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 1[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 2[0m
  [4;36;1mVote Destroy (0.6ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 3[0m
  [4;35;1mVote Destroy (0.6ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 4[0m
  [4;36;1mVote Destroy (0.6ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 5[0m
  [4;35;1mVote Destroy (0.6ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 6[0m
  [4;36;1mVote Destroy (0.6ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 7[0m
  [4;35;1mVote Destroy (0.5ms)[0m   [0mDELETE FROM "votes" WHERE "id" = 8[0m
  [4;36;1mVote Destroy (0.5ms)[0m   [0;1mDELETE FROM "votes" WHERE "id" = 9[0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM "votes" [0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:01:00) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 48ms (View: 15, DB: 2) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mSignature Load (1.0ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.5ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 1[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 2[0m
  [4;35;1mSignature Destroy (0.6ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 3[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 4[0m
  [4;35;1mSignature Destroy (0.3ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 5[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 6[0m
  [4;35;1mSignature Destroy (0.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 7[0m
  [4;36;1mSignature Destroy (0.3ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 8[0m
  [4;35;1mSignature Destroy (0.3ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 9[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:01:27) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:01:27', '2010-08-15 20:01:27', 1, 11)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:01:27', '2010-08-15 20:01:27', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 10, value: "no", comment: "comment", created_at: "2010-08-15 20:01:27", updated_at: "2010-08-15 20:01:27", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 10, value: "no", comment: "comment", created_at: "2010-08-15 20:01:27", updated_at: "2010-08-15 20:01:27", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (62.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:04:04) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 45ms (View: 14, DB: 2) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (2.4ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 10[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:06:18) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.5ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:06:18', '2010-08-15 20:06:18', 1, 11)[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:06:18', '2010-08-15 20:06:18', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 11, value: "no", comment: "comment", created_at: "2010-08-15 20:06:18", updated_at: "2010-08-15 20:06:18", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 11, value: "no", comment: "comment", created_at: "2010-08-15 20:06:18", updated_at: "2010-08-15 20:06:18", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (64.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:06:46) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 82ms (View: 24, DB: 2) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.8ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 11[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:06:59) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.3ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:06:59', '2010-08-15 20:06:59', 1, 11)[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:06:59', '2010-08-15 20:06:59', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 12, value: "no", comment: "comment", created_at: "2010-08-15 20:06:59", updated_at: "2010-08-15 20:06:59", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 12, value: "no", comment: "comment", created_at: "2010-08-15 20:06:59", updated_at: "2010-08-15 20:06:59", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (144.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:07:58) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 49ms (View: 15, DB: 2) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.8ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 12[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:08:06) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:08:06', '2010-08-15 20:08:06', 1, 11)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:08:06', '2010-08-15 20:08:06', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 13, value: "no", comment: "comment", created_at: "2010-08-15 20:08:06", updated_at: "2010-08-15 20:08:06", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 13, value: "no", comment: "comment", created_at: "2010-08-15 20:08:06", updated_at: "2010-08-15 20:08:06", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (133.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.2ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 13[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:09:38) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.5ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:09:38', '2010-08-15 20:09:38', 1, 11)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:09:38', '2010-08-15 20:09:38', 'no', 11)[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" IS NULL AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (proposal_vote_url failed to generate from {:controller=>"votes", :action=>"show", :proposal_id=>#<Vote id: 14, value: "no", comment: "comment", created_at: "2010-08-15 20:09:38", updated_at: "2010-08-15 20:09:38", proposal_id: 11>}, expected: {:controller=>"votes", :action=>"show"}, diff: {:proposal_id=>#<Vote id: 14, value: "no", comment: "comment", created_at: "2010-08-15 20:09:38", updated_at: "2010-08-15 20:09:38", proposal_id: 11>}) on line #12 of app/views/votes/new.html.haml:
9: 
10: 
11: 
12: - form_for [:proposal, @vote] do |f|
13:   = f.error_messages
14: 
15:   = f.radio_button :value, 'yes'

    (eval):17:in `proposal_vote_path'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:231:in `form_for'
    searchlogic (2.4.19) lib/searchlogic/rails_helpers.rb:61:in `form_for'
    app/views/votes/new.html.haml:12:in `_run_haml_app47views47votes47new46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/votes_controller.rb:15:in `create'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (146.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:09:45) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 45ms (View: 14, DB: 1) | 200 OK [http://localhost/proposals/11/votes]
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.6ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 14[0m


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:15:40) [POST]
  Parameters: {"vote"=>{"comment"=>"comment", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.5ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:15:40', '2010-08-15 20:15:40', 1, 11)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('comment', '2010-08-15 20:15:40', '2010-08-15 20:15:40', 'no', 11)[0m
Redirected to http://localhost:3000/proposals/11/votes/15
Completed in 134ms (DB: 0) | 302 Found [http://localhost/proposals/11/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:15:40) [GET]
  Parameters: {"id"=>"15", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/show

ActionView::TemplateError (undefined method `proposal' for nil:NilClass) on line #2 of app/views/votes/show.html.haml:
1: %br
2: =link_to 'Back', proposal_path(@vote.proposal)

    app/views/votes/show.html.haml:2:in `_run_haml_app47views47votes47show46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (1.7ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 15[0m


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:16:25) [GET]
  Parameters: {"id"=>"15", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 15 AND ("votes".proposal_id = 11)) [0m
Rendering template within layouts/main
Rendering votes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/proposals/11/votes/15]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 22:16:32) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/11]
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" [0m


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 22:19:40) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/11]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 22:19:42) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 28ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/11]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:19:44) [GET]
  Parameters: {"id"=>"15", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 15 AND ("votes".proposal_id = 11)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 27ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/11/votes/15]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:19:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:19:57) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 22:19:48 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 22:19:48') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 26, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+22%3A19%3A48+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:15) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 22:19:48 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 22:19:48') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 134ms (View: 97, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+22%3A19%3A48+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:21) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sun Aug 15 22:20:15 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-15 22:20:15') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 40ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sun+Aug+15+22%3A20%3A15+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:23) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 22:20:21 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 22:20:21') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 60ms (View: 25, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+22%3A20%3A21+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:25) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 99ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:40) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 132ms (View: 44, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:20:43) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 22:20:40 +0200 2010", "opening_at_before"=>"Sun Aug 15 22:20:40 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.1ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 22:20:40')) AND (proposals.opening_at < '2010-08-15 22:20:40')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 90, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+22%3A20%3A40+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+22%3A20%3A40+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:21:39) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 22:20:40 +0200 2010", "opening_at_before"=>"Sun Aug 15 22:20:40 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 22:20:40')) AND (proposals.opening_at < '2010-08-15 22:20:40')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 87ms (View: 45, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+22%3A20%3A40+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+22%3A20%3A40+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:21:41) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 22:21:39 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 22:21:39') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 94, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+22%3A21%3A39+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:21:44) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sun Aug 15 22:21:41 +0200 2010"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-15 22:21:41') AND (proposals.status = 'open')) LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 4, DB: 2) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sun+Aug+15+22%3A21%3A41+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:21:46) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 30ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:21:48) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 51ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:01) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 27ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:03) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 22:22:01 +0200 2010", "opening_at_before"=>"Sun Aug 15 22:22:01 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 22:22:01')) AND (proposals.opening_at < '2010-08-15 22:22:01')) LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 130ms (View: 92, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+22%3A22%3A01+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+22%3A22%3A01+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 22:22:06) [GET]
  Parameters: {"proposal_id"=>"10"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/10/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:22:10) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 10) LIMIT 1[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:22:10', '2010-08-15 20:22:10', 1, 10)[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 20:22:10', '2010-08-15 20:22:10', 'veto', 10)[0m
Redirected to http://localhost:3000/proposals/10/votes/16
Completed in 113ms (DB: 0) | 302 Found [http://localhost/proposals/10/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:22:10) [GET]
  Parameters: {"id"=>"16", "proposal_id"=>"10"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 16 AND ("votes".proposal_id = 10)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 28ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/10/votes/16]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:12) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 72ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:26) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 30 OFFSET 0[0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 28ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:50) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_opening_at"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.opening_at ASC LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 34, DB: 4) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_opening_at]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:22:53) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_opening_at"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.opening_at DESC LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 10 OR signatures.proposal_id = 9 OR signatures.proposal_id = 8 OR signatures.proposal_id = 7 OR signatures.proposal_id = 6 OR signatures.proposal_id = 5 OR signatures.proposal_id = 4 OR signatures.proposal_id = 3 OR signatures.proposal_id = 2 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 35, DB: 4) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_opening_at]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 22:22:58) [GET]
  Parameters: {"proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 32ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/11/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:23:01) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"pass"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:23:01', '2010-08-15 20:23:01', 1, 11)[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 20:23:01', '2010-08-15 20:23:01', 'pass', 11)[0m
Redirected to http://localhost:3000/proposals/11/votes/17
Completed in 145ms (DB: 0) | 302 Found [http://localhost/proposals/11/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:23:01) [GET]
  Parameters: {"id"=>"17", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 17 AND ("votes".proposal_id = 11)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 21ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/11/votes/17]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:23:03) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:23:33) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 89ms (View: 51, DB: 4) | 200 OK [http://localhost/proposals]
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" [0m


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 22:24:24) [GET]
  Parameters: {"proposal_id"=>"9"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 34ms (View: 11, DB: 1) | 200 OK [http://localhost/proposals/9/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:24:27) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 9) LIMIT 1[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:24:27', '2010-08-15 20:24:27', 1, 9)[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 20:24:27', '2010-08-15 20:24:27', 'veto', 9)[0m
Redirected to http://localhost:3000/proposals/9/votes/18
Completed in 124ms (DB: 0) | 302 Found [http://localhost/proposals/9/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:24:28) [GET]
  Parameters: {"id"=>"18", "proposal_id"=>"9"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 18 AND ("votes".proposal_id = 9)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 84ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/9/votes/18]
  [4;36;1mProposal Load (6.3ms)[0m   [0;1mSELECT * FROM "proposals" [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:24:42) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 91ms (View: 55, DB: 4) | 200 OK [http://localhost/proposals]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 22:24:45) [GET]
  Parameters: {"proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 29ms (View: 9, DB: 1) | 200 OK [http://localhost/proposals/8/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:24:51) [POST]
  Parameters: {"vote"=>{"comment"=>"alkjezlkjfe\r\n", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:24:51', '2010-08-15 20:24:51', 1, 8)[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('alkjezlkjfe
', '2010-08-15 20:24:51', '2010-08-15 20:24:51', 'no', 8)[0m
Redirected to http://localhost:3000/proposals/8/votes/19
Completed in 143ms (DB: 0) | 302 Found [http://localhost/proposals/8/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:24:51) [GET]
  Parameters: {"id"=>"19", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 19 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 21ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/8/votes/19]
  [4;35;1mProposal Load (6.9ms)[0m   [0mSELECT * FROM "proposals" [0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:25:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (56.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 145ms (View: 43, DB: 59) | 200 OK [http://localhost/proposals]
  [4;36;1mSignature Load (2.6ms)[0m   [0;1mSELECT * FROM "signatures" [0m
  [4;35;1mSignature Destroy (0.8ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 16[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 17[0m
  [4;35;1mSignature Destroy (0.6ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 18[0m
  [4;36;1mSignature Destroy (0.6ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 19[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:26:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 70ms (View: 37, DB: 3) | 200 OK [http://localhost/proposals]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 22:26:04) [GET]
  Parameters: {"proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/8/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 22:26:07) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"veto"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
  [4;35;1mSignature Create (0.4ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 20:26:07', '2010-08-15 20:26:07', 1, 8)[0m
  [4;36;1mProposal Update (0.3ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:26:07', "status" = 'cancelled', "cancelled_by_id" = 1 WHERE "id" = 8[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 20:26:07', '2010-08-15 20:26:07', 'veto', 8)[0m
Redirected to http://localhost:3000/proposals/8/votes/20
Completed in 137ms (DB: 0) | 302 Found [http://localhost/proposals/8/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 22:26:08) [GET]
  Parameters: {"id"=>"20", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 20 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 23ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/8/votes/20]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:26:10) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 138ms (View: 40, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:26:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 51, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:26:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 162ms (View: 55, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:26:52) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 47, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:28:26) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:31:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 70ms (View: 36, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:33:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:33:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 72ms (View: 37, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:33:52) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:34:25) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 87ms (View: 50, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:34:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:34:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (4.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 37, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:35:41) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;35;1mProposal Update (0.4ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:35:41', "status" = 'withdrawn' WHERE "id" = 9[0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 190ms (View: 15, DB: 3) | 200 OK [http://localhost/proposals/withdraw/9]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:35:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:35:52) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 134ms (View: 101, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:35:57) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:35:57', "status" = 'withdrawn' WHERE "id" = 10[0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 123ms (View: 19, DB: 2) | 200 OK [http://localhost/proposals/withdraw/10]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:36:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 42, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:36:41) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mProposal Update (0.6ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:36:41', "status" = 'withdrawn' WHERE "id" = 11[0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #10 of app/views/proposals/index.html.haml:
7:   = link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
8:   = link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
9:   = link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
10: -if @proposals.empty?
11: No proposal
12: -else
13:   %table.proposals

    app/views/proposals/index.html.haml:10:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    app/controllers/proposals_controller.rb:23:in `withdraw'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (49.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:36:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 137ms (View: 101, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:37:06) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 37, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:37:09) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 35, DB: 4) | 200 OK [http://localhost/proposals]
  [4;35;1mProposal Load (6.9ms)[0m   [0mSELECT * FROM "proposals" [0m
  [4;36;1mProposal Update (0.4ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:48', "status" = 'open' WHERE "id" = 1[0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:48', "status" = 'open' WHERE "id" = 6[0m
  [4;36;1mProposal Update (0.4ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:49', "status" = 'open' WHERE "id" = 8[0m
  [4;35;1mProposal Update (0.7ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:49', "status" = 'open' WHERE "id" = 9[0m
  [4;36;1mProposal Update (0.8ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:49', "status" = 'open' WHERE "id" = 10[0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:37:49', "status" = 'open' WHERE "id" = 11[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:37:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 83ms (View: 43, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:38:04) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:38:05', "status" = 'withdrawn' WHERE "id" = 6[0m
Redirected to http://localhost:3000/proposals
Completed in 117ms (DB: 1) | 302 Found [http://localhost/proposals/withdraw/6]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:38:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (54.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 140ms (View: 40, DB: 55) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:39:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 47, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:41:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 161ms (View: 53, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:41:38) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mProposal Update (0.4ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:41:38', "status" = 'withdrawn' WHERE "id" = 8[0m
Redirected to http://localhost:3000/proposals
Completed in 114ms (DB: 1) | 302 Found [http://localhost/proposals/withdraw/8]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:41:38) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:41:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 46, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:41:53) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 9) [0m
  [4;36;1mProposal Update (0.5ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:41:53', "status" = 'withdrawn' WHERE "id" = 9[0m
Redirected to http://localhost:3000/proposals
Completed in 127ms (DB: 1) | 302 Found [http://localhost/proposals/withdraw/9]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:41:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 42, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:45:19) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (4.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 91ms (View: 47, DB: 6) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-15 22:45:19) [GET]

ActionController::RoutingError (No route matches "/images/sharkskin.gif" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:45:57) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:46:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 72ms (View: 38, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-15 22:47:04) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 10) [0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 20:47:04', "status" = 'withdrawn' WHERE "id" = 10[0m
Redirected to http://localhost:3000/proposals
Completed in 111ms (DB: 1) | 302 Found [http://localhost/proposals/withdraw/10]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:47:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:47:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (7.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 30 OFFSET 0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 188ms (View: 118, DB: 8) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:49:28) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 175ms (View: 58, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:50:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 44, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:51:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47layouts47main46html46haml RAISED compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:11: syntax error, unexpected ')'
...images/logo.jpg', :width=>25%);_hamlout.push_text("    </spa...
                              ^
Function body:           def _run_haml_app47views47layouts47main46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html>\n  <head>\n    <title>#{


_hamlout.adjust_tabs(3); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</title>\n    <meta content='text/html; charset=utf-8' http-equiv='content-type' />\n    #{
_hamlout.format_script_false_false_false_false_false_true_false(( stylesheet_link_tag "dynamocracy","jquery-ui-1.8.4.custom", "formtastic"
));}\n    #{_hamlout.format_script_false_false_false_false_false_true_false(( javascript_include_tag "jquery-1.4.2.min","jquery-ui-1.8.4.custom.min"
));}\n  </head>\n  <body>\n    <span>\n", 1, false);


_hamlout.open_tag("img", true, true, false, false, {}, false, false, nil, nil, :src=>'/images/logo.jpg', :width=>25%);_hamlout.push_text("    </span>\n    <span>\n      <h1>#{

_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Dynamocracy'
));}</h1>\n    </span>\n    <header>\n      #{

_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Home', root_path
));}\n      |\n      #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Logout', logout_path
));}\n      |\n      #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'New proposal', new_proposal_path
));}\n    </header>\n    <div class='flash error' id='error_div_id'>\n      #{

_hamlout.format_script_false_false_false_false_false_true_false(( flash[:error]
));}\n    </div>\n    <div class='flash notice' id='notice_div_id'>\n      #{
_hamlout.format_script_false_false_false_false_false_true_false(( flash[:notice]
));}\n    </div>\n    #{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false(( yield
));}\n    <br />\n    <p></p>\n    <p>Copyright © 2009-2010 Dynamocracy.org</p>\n  </body>\n</html>\n", -2, false);



_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:34:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:352:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/octocracy_spike/app/views/layouts/main.html.haml:11: syntax error, unexpected ')'
...images/logo.jpg', :width=>25%);_hamlout.push_text("    </spa...
                              ^) on line #11 of app/views/layouts/main.html.haml:
8:   
9:   %body
10:     %span
11:       %img{:src=>'/images/logo.jpg', :width=>25%}
12:     %span
13:       %h1= 'Dynamocracy'
14:     

    app/views/layouts/main.html.haml:34:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:52:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 177ms (View: 120, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:52:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 150ms (View: 46, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:52:17) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 145ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:53:34) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 112ms (View: 48, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:53:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 143ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:53:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:53:37) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 136ms (View: 101, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:54:12) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 137ms (View: 98, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:54:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 148ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:55:02) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 83ms (View: 46, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:55:04) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 141ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:55:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 43, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:55:41) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 171ms (View: 56, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:56:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 44, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:56:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 116ms (View: 74, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:56:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 34, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 45, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (4.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 42, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 36, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Illegal nesting: content can't be both given on the same line as %h1 and nested within it.) on line #11 of app/views/layouts/main.html.haml:
8:   
9:   %body
10:     %h1 Dynamocracy
11:       %img{:src=>'/images/logo.jpg', :width=>'15%'}        
12:       
13:     
14:     %header

    app/views/layouts/main.html.haml:11
    haml (3.0.12) lib/haml/precompiler.rb:773:in `render_tag'
    haml (3.0.12) lib/haml/precompiler.rb:214:in `process_line'
    haml (3.0.12) lib/haml/precompiler.rb:178:in `precompile'
    haml (3.0.12) lib/haml/engine.rb:121:in `initialize'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `new'
    haml (3.0.12) rails/./lib/haml/template/plugin.rb:29:in `compile'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (58.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:34) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 45, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:57:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 84ms (View: 45, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:58:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `left' for #<ActionView::Base:0xb6698a64>) on line #10 of app/views/layouts/main.html.haml:
7:     = javascript_include_tag "jquery-1.4.2.min","jquery-ui-1.8.4.custom.min"
8:   
9:   %body
10:     %h1{:align=>left}
11:       %img{:src=>'/images/logo.jpg', :width=>'15%'}        
12:       Dynamocracy
13:       

    app/views/layouts/main.html.haml:10:in `_run_haml_app47views47layouts47main46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (51.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:58:20) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 94ms (View: 59, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:58:34) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 88ms (View: 49, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:58:53) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 42, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:59:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 85ms (View: 46, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 22:59:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 43, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:00:26) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 85ms (View: 36, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:00:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 36, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:00:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 38, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:00:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 42, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:01) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (4.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 82ms (View: 36, DB: 7) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:05) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 70ms (View: 35, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 79ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:17) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 72ms (View: 37, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:01:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 73ms (View: 36, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:02:02) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 39, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:02:10) [GET]
  Parameters: {"page"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 44ms (View: 18, DB: 1) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:02:17) [GET]
  Parameters: {"page"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals?page=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:02:59) [GET]
  Parameters: {"page"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 74ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals?page=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:04:34) [GET]
  Parameters: {"page"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals?page=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:05:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 23:04:34 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 23:04:34') AND (proposals.status = 'open')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 25, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+23%3A04%3A34+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:05:40) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Sun Aug 15 23:05:34 +0200 2010", "opening_at_before"=>"Sun Aug 15 23:05:34 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.8ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-15 23:05:34')) AND (proposals.opening_at < '2010-08-15 23:05:34')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 22, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Sun+Aug+15+23%3A05%3A34+%2B0200+2010&search%5Bopening_at_before%5D=Sun+Aug+15+23%3A05%3A34+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:05:43) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 42ms (View: 21, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 23:06:02) [POST]
  Parameters: {"vote"=>{"comment"=>"If you shut your fucking mouth\r\n", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 1) LIMIT 1[0m
  [4;36;1mSignature Create (0.4ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 21:06:02', '2010-08-15 21:06:02', 1, 1)[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('If you shut your fucking mouth
', '2010-08-15 21:06:02', '2010-08-15 21:06:02', 'no', 1)[0m
  [4;36;1mProposal Update (0.3ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:06:02', "no_count" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3000/proposals/1/votes/21
Completed in 157ms (DB: 0) | 302 Found [http://localhost/proposals/1/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 23:06:02) [GET]
  Parameters: {"id"=>"21", "proposal_id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 21 AND ("votes".proposal_id = 1)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 27ms (View: 7, DB: 1) | 200 OK [http://localhost/proposals/1/votes/21]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:06:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 34, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:06:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 78ms (View: 40, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:08:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 35, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:08:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 76ms (View: 37, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:09:52) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 35, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:10:02) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 75ms (View: 36, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:11:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 71ms (View: 35, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:41) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 46, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 69ms (View: 35, DB: 3) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:52) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Sun Aug 15 23:12:44 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-15 23:12:44') AND (proposals.status = 'open')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 25, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Sun+Aug+15+23%3A12%3A44+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:55) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "opening_at_after"=>"Sun Aug 15 23:12:52 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.opening_at > '2010-08-15 23:12:52') AND (proposals.status = 'open')) LIMIT 10 OFFSET 0[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 31ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals?search%5Bopening_at_after%5D=Sun+Aug+15+23%3A12%3A52+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:57) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 10 OFFSET 0[0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:12:59) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 52ms (View: 21, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:13:07) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 144ms (View: 103, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:33:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 98ms (View: 50, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:34:55) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 99ms (View: 50, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:34:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.3ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 92ms (View: 45, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:35:35) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 95ms (View: 48, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:36:51) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.7ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 155ms (View: 51, DB: 4) | 200 OK [http://localhost/proposals]
  [4;36;1mProposal Load (8.2ms)[0m   [0;1mSELECT * FROM "proposals" [0m
  [4;35;1mProposal Update (0.3ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:36:57', "status" = 'open' WHERE "id" = 6[0m
  [4;36;1mProposal Update (0.7ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:36:57', "status" = 'open' WHERE "id" = 8[0m
  [4;35;1mProposal Update (0.9ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:36:57', "status" = 'open' WHERE "id" = 9[0m
  [4;36;1mProposal Update (0.7ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:36:57', "status" = 'open' WHERE "id" = 10[0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" [0m
  [4;36;1mSignature Destroy (0.2ms)[0m   [0;1mDELETE FROM "signatures" WHERE "id" = 20[0m
  [4;35;1mSignature Destroy (0.6ms)[0m   [0mDELETE FROM "signatures" WHERE "id" = 21[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:37:02) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 81ms (View: 36, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:37:25) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 98ms (View: 50, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:37:37) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 147ms (View: 103, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:37:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 84ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:37:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.8ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 144ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:38:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 92ms (View: 48, DB: 4) | 200 OK [http://localhost/proposals]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:39:02) [GET]
  Parameters: {"proposal_id"=>"8"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 32ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/8/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 23:39:16) [POST]
  Parameters: {"vote"=>{"comment"=>"A comment to see if it will go", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 8) LIMIT 1[0m
  [4;36;1mSignature Create (0.3ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 21:39:16', '2010-08-15 21:39:16', 1, 8)[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('A comment to see if it will go', '2010-08-15 21:39:16', '2010-08-15 21:39:16', 'yes', 8)[0m
  [4;36;1mProposal Update (0.2ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:39:16', "yes_count" = 1 WHERE "id" = 8[0m
Redirected to http://localhost:3000/proposals/8/votes/22
Completed in 134ms (DB: 0) | 302 Found [http://localhost/proposals/8/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 23:39:16) [GET]
  Parameters: {"id"=>"22", "proposal_id"=>"8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 8) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 22 AND ("votes".proposal_id = 8)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 21ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/8/votes/22]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:39:18) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:40:34) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.8ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 160ms (View: 115, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:41:16) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 100ms (View: 50, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:41:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 132ms (View: 55, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:42:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 162ms (View: 118, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:43:38) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 119ms (View: 55, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:43:46) [GET]
  Parameters: {"page"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 124ms (View: 20, DB: 2) | 200 OK [http://localhost/proposals?page=2]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:43:56) [GET]
  Parameters: {"proposal_id"=>"11"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 30ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/11/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-15 23:44:00) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"support"}, "commit"=>"Vote!", "authenticity_token"=>"5BpKXypXsz+K1u9dxG0O8Ec83OhqIwPPd8suu9oVf40=", "proposal_id"=>"11"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 11) LIMIT 1[0m
  [4;35;1mSignature Create (0.3ms)[0m   [0mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 21:44:00', '2010-08-15 21:44:00', 1, 11)[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-15 21:44:00', '2010-08-15 21:44:00', 'support', 11)[0m
  [4;35;1mProposal Update (0.2ms)[0m   [0mUPDATE "proposals" SET "updated_at" = '2010-08-15 21:44:00', "support_count" = 1 WHERE "id" = 11[0m
Redirected to http://localhost:3000/proposals/11/votes/23
Completed in 171ms (DB: 0) | 302 Found [http://localhost/proposals/11/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-15 23:44:00) [GET]
  Parameters: {"id"=>"23", "proposal_id"=>"11"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 11) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM "votes" WHERE ("votes"."id" = 23 AND ("votes".proposal_id = 11)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 22ms (View: 2, DB: 1) | 200 OK [http://localhost/proposals/11/votes/23]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:44:03) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 85ms (View: 39, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:46:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `any' for #<Class:0xb68e3b34>) on line #26 of app/views/proposals/index.html.haml:
23:             proposes : 
24:           %td{:id=>"link_#{proposal.id}"}
25:             = link_to proposal.text[0..20]+"...","#{proposal.id}"
26:             -if proposal.user_id == current_user.id && proposal.votes.any{|v| !v.comment.empty}
27:               Commented
28:           %td= facebook_distance_of_time_in_words proposal.opening_at
29:           %td= facebook_distance_of_time_in_words proposal.closing_at

    searchlogic (2.4.19) lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/proposals/index.html.haml:26:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:19:in `each'
    app/views/proposals/index.html.haml:19:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:46:15) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `empty' for "If you shut your fucking mouth\r\n":String) on line #26 of app/views/proposals/index.html.haml:
23:             proposes : 
24:           %td{:id=>"link_#{proposal.id}"}
25:             = link_to proposal.text[0..20]+"...","#{proposal.id}"
26:             -if proposal.user_id == current_user.id && proposal.votes.any?{|v| !v.comment.empty}
27:               Commented
28:           %td= facebook_distance_of_time_in_words proposal.opening_at
29:           %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:26:in `_run_haml_app47views47proposals47index46html46haml'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/proposals/index.html.haml:26:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:19:in `each'
    app/views/proposals/index.html.haml:19:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:46:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 173ms (View: 54, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:46:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 156ms (View: 112, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:48:29) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 111ms (View: 58, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:48:30) [GET]
  Parameters: {"search"=>{"status_equals"=>"cancelled"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.2ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'cancelled') LIMIT 10 OFFSET 0[0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 93ms (View: 5, DB: 1) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=cancelled]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:48:31) [GET]
  Parameters: {"search"=>{"user_id"=>"1"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.user_id = 1) LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" WHERE (proposals.user_id = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 94ms (View: 41, DB: 5) | 200 OK [http://localhost/proposals?search%5Buser_id%5D=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:48:34) [GET]
  Parameters: {"search"=>{"user_id"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.user_id = 1) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" WHERE (proposals.user_id = 1) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 163ms (View: 42, DB: 5) | 200 OK [http://localhost/proposals?search%5Buser_id%5D=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:49:52) [GET]
  Parameters: {"search"=>{"user_id"=>"1"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" WHERE (proposals.user_id = 1) LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" WHERE (proposals.user_id = 1) [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 99ms (View: 52, DB: 4) | 200 OK [http://localhost/proposals?search%5Buser_id%5D=1]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:50:10) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 31ms (View: 10, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:50:53) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 39ms (View: 19, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:51:08) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 41ms (View: 20, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:52:03) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 55ms (View: 24, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing VotesController#new (for 127.0.0.1 at 2010-08-15 23:52:17) [GET]
  Parameters: {"proposal_id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.4ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 37ms (View: 19, DB: 1) | 200 OK [http://localhost/proposals/1/votes/new]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-15 23:52:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 1) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 34ms (View: 16, DB: 1) | 200 OK [http://localhost/proposals/1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:52:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 83ms (View: 38, DB: 4) | 200 OK [http://localhost/]


Processing SessionsController#logout (for 127.0.0.1 at 2010-08-15 23:52:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 10ms (DB: 0) | 302 Found [http://localhost/logout]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-15 23:52:27) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 21ms (View: 20, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (97.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (56.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (64.8ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (53.0ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (66.4ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (75.8ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.8ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (75.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (60.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (65.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (74.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (74.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (74.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (74.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (91.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (74.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (125.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (48.4ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (76.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.2ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (86.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (66.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (99.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;35;1mSQL (74.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;36;1mSQL (66.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;35;1mSQL (66.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;36;1mSQL (74.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (74.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (230.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:08:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 177ms (View: 65, DB: 5) | 200 OK [http://localhost/]


Processing ProposalsController#new (for 127.0.0.1 at 2010-08-16 01:08:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/main
Rendering proposals/new
Completed in 48ms (View: 33, DB: 0) | 200 OK [http://localhost/proposals/new]


Processing ProposalsController#create (for 127.0.0.1 at 2010-08-16 01:09:19) [POST]
  Parameters: {"commit"=>"Save your proposal", "authenticity_token"=>"0oOWAZpejhYuRG5AvIkgBHueWOYKz/OKmhqKjaVniL0=", "proposal"=>{"closing_at(4i)"=>"23", "closing_at(5i)"=>"10", "text"=>"azelfkmzaelkfez\r\nazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez\r\nezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzkeezfmlkfezmzlaekfezamflkzaemlfkzmaelfk\r\nfezmlfkzmaeflkmzekfmzkefmlzefk\r\nzaefkmzaeklfmzalekfmflzke", "opening_at(1i)"=>"2010", "opening_at(2i)"=>"8", "opening_at(3i)"=>"15", "closing_at(1i)"=>"2010", "opening_at(4i)"=>"23", "closing_at(2i)"=>"8", "opening_at(5i)"=>"08", "closing_at(3i)"=>"22"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Create (0.5ms)[0m   [0mINSERT INTO "proposals" ("support_count", "created_at", "yes_count", "cancelled_by_id", "updated_at", "text", "pass_count", "user_id", "opening_at", "status", "closing_at", "no_count") VALUES(0, '2010-08-15 23:09:19', 0, NULL, '2010-08-15 23:09:19', 'azelfkmzaelkfez
azelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeazelfkmzaelkfez
ezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzkeezfmlkfezmzlaekfezamflkzaemlfkzmaelfk
fezmlfkzmaeflkmzekfmzkefmlzefk
zaefkmzaeklfmzalekfmflzke', 0, 1, '2010-08-15 23:08:00', 'open', '2010-08-22 23:10:00', 0)[0m
Redirected to http://localhost:3000/proposals/12
Completed in 175ms (DB: 0) | 302 Found [http://localhost/proposals]


Processing ProposalsController#show (for 127.0.0.1 at 2010-08-16 01:09:19) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
Rendering template within layouts/main
Rendering proposals/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 32ms (View: 15, DB: 1) | 200 OK [http://localhost/proposals/12]


Processing VotesController#new (for 127.0.0.1 at 2010-08-16 01:09:23) [GET]
  Parameters: {"proposal_id"=>"12"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 40ms (View: 19, DB: 1) | 200 OK [http://localhost/proposals/12/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-16 01:09:29) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"0oOWAZpejhYuRG5AvIkgBHueWOYKz/OKmhqKjaVniL0=", "proposal_id"=>"12"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 12) LIMIT 1[0m
Rendering template within layouts/main
Rendering votes/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 13, DB: 0) | 200 OK [http://localhost/proposals/12/votes]


Processing VotesController#create (for 127.0.0.1 at 2010-08-16 01:09:44) [POST]
  Parameters: {"vote"=>{"comment"=>"You shut the fuck up", "value"=>"no"}, "commit"=>"Vote!", "authenticity_token"=>"0oOWAZpejhYuRG5AvIkgBHueWOYKz/OKmhqKjaVniL0=", "proposal_id"=>"12"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.0ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 12) LIMIT 1[0m
  [4;36;1mSignature Create (0.3ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-15 23:09:44', '2010-08-15 23:09:44', 1, 12)[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('You shut the fuck up', '2010-08-15 23:09:44', '2010-08-15 23:09:44', 'no', 12)[0m
  [4;36;1mProposal Update (0.4ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 23:09:44', "no_count" = 1 WHERE "id" = 12[0m
Redirected to http://localhost:3000/proposals/12/votes/24
Completed in 190ms (DB: 0) | 302 Found [http://localhost/proposals/12/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-16 01:09:44) [GET]
  Parameters: {"id"=>"24", "proposal_id"=>"12"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 24 AND ("votes".proposal_id = 12)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 84ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/12/votes/24]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:09:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 88ms (View: 42, DB: 4) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-16 01:09:53) [GET]

ActionController::RoutingError (No route matches "/1" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-16 01:10:01) [GET]

ActionController::RoutingError (No route matches "/2" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:10:27) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 117ms (View: 67, DB: 5) | 200 OK [http://localhost/proposals]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-16 01:10:29) [GET]

ActionController::RoutingError (No route matches "/2" with {:method=>:get}):
  haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendering rescues/layout (not_found)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:10:59) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (11.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 164ms (View: 57, DB: 16) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:11:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.2ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 40, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:11:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.2ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 101ms (View: 52, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:11:27) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Mon Aug 16 01:11:23 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.3ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-16 01:11:23') AND (proposals.status = 'open')) LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7)) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 133ms (View: 93, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Mon+Aug+16+01%3A11%3A23+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:11:33) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Mon Aug 16 01:11:23 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.3ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.closing_at < '2010-08-16 01:11:23') AND (proposals.status = 'open')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7)) [0m
  [4;36;1mSignature Load (0.2ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 68ms (View: 26, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Mon+Aug+16+01%3A11%3A23+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:23) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 154ms (View: 110, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:28) [GET]
  Parameters: {"page"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:45) [GET]
  Parameters: {"page"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 127ms (View: 24, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:51) [GET]
  Parameters: {"page"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 63ms (View: 23, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:53) [GET]
  Parameters: {"page"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.6ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 136ms (View: 24, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:54) [GET]
  Parameters: {"page"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.7ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.2ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 61ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:12:55) [GET]
  Parameters: {"page"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.7ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.3ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 127ms (View: 23, DB: 3) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:13:03) [GET]
  Parameters: {"page"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 87ms (View: 41, DB: 4) | 200 OK [http://localhost/proposals?page=1]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:13:07) [GET]
  Parameters: {"page"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.9ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.5ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 64ms (View: 23, DB: 4) | 200 OK [http://localhost/proposals?page=2]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:13:10) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.1ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.4ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 86ms (View: 40, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:13:14) [GET]
  Parameters: {"page"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.8ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 62ms (View: 22, DB: 3) | 200 OK [http://localhost/proposals?page=2]
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m


Processing ProposalsController#withdraw (for 127.0.0.1 at 2010-08-16 01:14:21) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 12) [0m
  [4;36;1mProposal Update (0.4ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-15 23:14:21', "status" = 'withdrawn' WHERE "id" = 12[0m
Redirected to http://localhost:3000/proposals
Completed in 122ms (DB: 1) | 302 Found [http://localhost/proposals/withdraw/12]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:14:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 155ms (View: 44, DB: 4) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 01:14:27) [GET]
  Parameters: {"search"=>{"status_equals"=>"withdrawn"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE (proposals.status = 'withdrawn') LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id = 12) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 52ms (View: 17, DB: 2) | 200 OK [http://localhost/proposals?search%5Bstatus_equals%5D=withdrawn]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 14:06:52) [GET]
Rendering template within layouts/sessions
Rendering /sessions/new
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 250ms (View: 205, DB: 0) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 14:06:58) [GET]
  Parameters: {"openid_username"=>"mag", "openid_identifier"=>"https://openid.octo.com/users/mag"}
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/?openid_username=mag&openid_identifier=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]
  [4;36;1mAssociation Load (0.5ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mAssociation Destroy (0.3ms)[0m   [0mDELETE FROM "open_id_associations" WHERE "id" = 2[0m
  [4;36;1mAssociation Delete all (0.3ms)[0m   [0;1mDELETE FROM "open_id_associations" WHERE (server_url = 'https://openid.octo.com/server.openid' AND handle = '1279834756437-189') [0m
  [4;35;1mAssociation Create (0.2ms)[0m   [0mINSERT INTO "open_id_associations" ("lifetime", "server_url", "handle", "issued", "assoc_type", "secret") VALUES(1800, 'https://openid.octo.com/server.openid', '1279834756437-189', 1281960420, 'HMAC-SHA1', '
*8Sh%00')[0m
  [4;36;1mAssociation Load (0.6ms)[0m   [0;1mSELECT * FROM "open_id_associations" WHERE ("open_id_associations"."handle" = '1279834756437-189' AND "open_id_associations"."server_url" = 'https://openid.octo.com/server.openid') [0m
  [4;35;1mNonce Load (0.1ms)[0m   [0mSELECT * FROM "open_id_nonces" WHERE ("open_id_nonces"."timestamp" = 1281960420 AND "open_id_nonces"."server_url" = '' AND "open_id_nonces"."salt" = 'O0kvdg') LIMIT 1[0m
  [4;36;1mNonce Create (0.2ms)[0m   [0;1mINSERT INTO "open_id_nonces" ("salt", "server_url", "timestamp") VALUES('O0kvdg', '', 1281960420)[0m


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 14:07:09) [GET]
  Parameters: {"rp_nonce"=>"2010-08-16T12:07:00ZO0kvdg", "openid1_claimed_id"=>"https://openid.octo.com/users/mag"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://openid.octo.com/users/mag') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:handle_openid] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://localhost/?rp_nonce=2010-08-16T12%3A07%3A00ZO0kvdg&openid1_claimed_id=https%3A%2F%2Fopenid.octo.com%2Fusers%2Fmag]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-16 14:07:09) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.1ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.9ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.4ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 189ms (View: 76, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
Migrating to AddSignaturesCountToProposals (20100818203332)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100818203332')[0m
Migrating to AddVotesCountToProposals (20100818203459)
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100818203459')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (99.7ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (75.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (74.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.1ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (62.1ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (59.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203459')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (58.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (53.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (56.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddVotesCountToProposals (20100818203459)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100818203459'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddSignaturesCountToProposals (20100818203332)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100818203332'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
Migrating to AddSignaturesCountToProposals (20100818203332)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "proposals" ADD "signatures_count" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100818203332')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.6ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.5ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (83.1ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (80.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (61.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (73.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (63.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (49.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (65.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (64.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (64.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (49.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (93.1ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (91.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.7ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (83.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (85.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (68.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (62.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (65.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (65.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (56.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddSignaturesCountToProposals (20100818203332)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE "proposals"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_proposals")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_proposals"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100818203332'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_associations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_nonces")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("proposals")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("signatures")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddOpenidStoreToDb (20100219130200)
Migrating to CreateProposals (20100727113323)
Migrating to CreateVotes (20100727113405)
Migrating to CreateSignatures (20100727113436)
Migrating to CreateUsers (20100727113534)
Migrating to AddProposalIdToVotes (20100727115743)
Migrating to AddDefaultToOpeningAtAndClosedAtProposal (20100730225457)
Migrating to ChangeProposalsStatusDefault (20100730230521)
Migrating to RenameColumUserIdToVoterIdInVotes (20100807114453)
Migrating to DropDefaultDatesOnProposal (20100807131612)
Migrating to AddIndexToSignature (20100807160847)
Migrating to AddUserIdToProposals (20100814154622)
Migrating to AddVotesResultToProposals (20100814225723)
Migrating to AddCancelledByToProposal (20100815183413)
Migrating to AddSignaturesCountToProposals (20100818203332)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "proposals" ADD "signatures_count" integer DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100818203332')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("open_id_associations")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("open_id_nonces")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("proposals")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_signatures_on_user_id_and_proposal_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("votes")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (101.5ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (79.7ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (84.4ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.1ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (91.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (76.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.3ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (84.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (69.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (65.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (103.3ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (75.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.5ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (81.4ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (69.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (60.0ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (75.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (61.5ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (53.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (49.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (68.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (56.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (58.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (57.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (58.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (136.9ms)[0m   [0;1mCREATE TABLE "open_id_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" blob NOT NULL, "handle" varchar(255) NOT NULL, "secret" blob NOT NULL, "issued" integer NOT NULL, "lifetime" integer NOT NULL, "assoc_type" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (68.3ms)[0m   [0;1mCREATE TABLE "open_id_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "server_url" varchar(255) NOT NULL, "timestamp" integer NOT NULL, "salt" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (87.3ms)[0m   [0;1mCREATE TABLE "proposals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "status" varchar(255) DEFAULT 'open' NOT NULL, "opening_at" datetime NOT NULL, "closing_at" datetime NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer, "yes_count" integer DEFAULT 0, "no_count" integer DEFAULT 0, "support_count" integer DEFAULT 0, "pass_count" integer DEFAULT 0, "cancelled_by_id" integer, "signatures_count" integer DEFAULT 0) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.4ms)[0m   [0;1mCREATE TABLE "signatures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "proposal_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("signatures")[0m
  [4;36;1mSQL (75.3ms)[0m   [0;1mCREATE UNIQUE INDEX "index_signatures_on_user_id_and_proposal_id" ON "signatures" ("user_id", "proposal_id")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nickname" varchar(255), "email" varchar(255), "openid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "comment" text, "created_at" datetime, "updated_at" datetime, "proposal_id" integer) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (78.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (58.9ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (60.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100818203332')[0m
  [4;36;1mSQL (57.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807114453')[0m
  [4;35;1mSQL (57.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100815183413')[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807131612')[0m
  [4;35;1mSQL (57.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100730230521')[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113323')[0m
  [4;35;1mSQL (68.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814225723')[0m
  [4;36;1mSQL (56.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100219130200')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113534')[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100807160847')[0m
  [4;35;1mSQL (57.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100814154622')[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100730225457')[0m
  [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727113405')[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100727113436')[0m
  [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100727115743')[0m


Processing VotesController#new (for 127.0.0.1 at 2010-08-18 23:22:58) [GET]
  Parameters: {"proposal_id"=>"6"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 142ms (View: 113, DB: 1) | 200 OK [http://localhost/proposals/6/votes/new]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:23:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting kEND
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Proposals\n</h2>\n<h2>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "My proposals", proposals_path(:search=>{:user_id => current_user.id })
));}\n</h2>\n", -1, false);if @proposals.empty?;
_hamlout.push_text("No proposal\n", 0, false);
else;
_hamlout.push_text("<table class='proposals'>\n  <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);
end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order @search, :by => :yes_count, :as=> 'Results'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => :signatures_count, :as => 'Signatures'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>\n        #{

_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( proposal.user.nickname
));}\n        proposes :\n      </td>\n", -1, false);
_hamlout.open_tag("td", false, false, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to proposal.text[0..20]+"...","#"
));}\n", 0, false);if proposal.user_id == current_user.id && proposal.votes.any?{|v| !v.comment.empty?};
_hamlout.push_text("        <br>some would vote yes if...</br>\n", 0, false);
end;_hamlout.push_text("      </td>\n      <td>#{_hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      <td></td>\n", 0, false);
 if proposal.full_status == 'closed';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}\n", 0, false); else if proposal.full_status == 'cancelled';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Vetoed by #{proposal.cancelled_by.nickname}"
));}\n", 0, false); else;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false((' '
));}\n", 0, false);end;_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.signatures_count
));}</td>\n      <td></td>\n", 0, false);
 if proposal.user_id == current_user.id;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}\n", 0, false);
end; if proposal.full_status == 'open';
if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote!', new_proposal_vote_path(proposal)
));}\n", 0, false);else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Voted'
));}</td>\n", 0, false);



end;_hamlout.push_text("    </tr>\n", -1, false);end;_hamlout.push_text("  </thead>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false((will_paginate
));}\n", 0, false);
end; @proposals.each do |proposal|;
_hamlout.open_tag("div", false, false, false, false, {"class"=>"proposal details", "id"=>"proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("  <h3>Proposal</h3>\n  #{

_hamlout.format_script_false_false_false_false_false_true_false((proposal.text
));}\n", 0, false);if proposal.user_id == current_user.id;
_hamlout.push_text("  <h3>Some would vote yes if :</h3>\n  <ul></ul>\n", 0, false);

proposal.votes.each do |vote|;
if !vote.comment.empty?;
_hamlout.push_text("  <li>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((vote.comment
));}</li>\n", 0, false);
end;end;end;_hamlout.push_text("</div>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})\n", _hamlout.options))
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting kEND
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND) on line #70 of app/views/proposals/index.html.haml:
67:       
68:   :javascript    
69:     $('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})

    app/views/proposals/index.html.haml:73:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.4ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:23:52) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (4.0ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Proposals\n</h2>\n<h2>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "My proposals", proposals_path(:search=>{:user_id => current_user.id })
));}\n</h2>\n", -1, false);if @proposals.empty?;
_hamlout.push_text("No proposal\n", 0, false);
else;
_hamlout.push_text("<table class='proposals'>\n  <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);
end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order @search, :by => :yes_count, :as=> 'Results'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => :signatures_count, :as => 'Signatures'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>\n        #{

_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( proposal.user.nickname
));}\n        proposes :\n      </td>\n", -1, false);
_hamlout.open_tag("td", false, false, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to proposal.text[0..20]+"...","#"
));}\n", 0, false);if proposal.user_id == current_user.id && proposal.votes.any?{|v| !v.comment.empty?};
_hamlout.push_text("        <br>some would vote yes if...</br>\n", 0, false);
end;_hamlout.push_text("      </td>\n      <td>#{_hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      <td></td>\n", 0, false);
 if proposal.full_status == 'closed';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}\n", 0, false); elsif proposal.full_status == 'cancelled';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Vetoed by #{proposal.cancelled_by.nickname}"
));}\n", 0, false); else;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false((' '
));}\n", 0, false);end;_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.signatures_count
));}</td>\n      <td></td>\n", 0, false);
 if proposal.user_id == current_user.id;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}\n", 0, false);
end; if proposal.full_status == 'open';
if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote!', new_proposal_vote_path(proposal)
));}\n", 0, false);else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Voted'
));}</td>\n", 0, false);



end;_hamlout.push_text("    </tr>\n", -1, false);end;_hamlout.push_text("  </thead>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false((will_paginate
));}\n", 0, false);
end; @proposals.each do |proposal|;
_hamlout.open_tag("div", false, false, false, false, {"class"=>"proposal details", "id"=>"proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("  <h3>Proposal</h3>\n  #{

_hamlout.format_script_false_false_false_false_false_true_false((proposal.text
));}\n", 0, false);if proposal.user_id == current_user.id;
_hamlout.push_text("  <h3>Some would vote yes if :</h3>\n  <ul></ul>\n", 0, false);

proposal.votes.each do |vote|;
if !vote.comment.empty?;
_hamlout.push_text("  <li>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((vote.comment
));}</li>\n", 0, false);
end;end;end;_hamlout.push_text("</div>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})\n", _hamlout.options))
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND) on line #70 of app/views/proposals/index.html.haml:
67:       
68:   :javascript    
69:     $('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})

    app/views/proposals/index.html.haml:73:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (50.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:23:56) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Proposals\n</h2>\n<h2>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "My proposals", proposals_path(:search=>{:user_id => current_user.id })
));}\n</h2>\n", -1, false);if @proposals.empty?;
_hamlout.push_text("No proposal\n", 0, false);
else;
_hamlout.push_text("<table class='proposals'>\n  <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);
end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order @search, :by => :yes_count, :as=> 'Results'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => :signatures_count, :as => 'Signatures'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>\n        #{

_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( proposal.user.nickname
));}\n        proposes :\n      </td>\n", -1, false);
_hamlout.open_tag("td", false, false, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to proposal.text[0..20]+"...","#"
));}\n", 0, false);if proposal.user_id == current_user.id && proposal.votes.any?{|v| !v.comment.empty?};
_hamlout.push_text("        <br>some would vote yes if...</br>\n", 0, false);
end;_hamlout.push_text("      </td>\n      <td>#{_hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      <td></td>\n", 0, false);
 if proposal.full_status == 'closed';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}\n", 0, false); elsif proposal.full_status == 'cancelled';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Vetoed by #{proposal.cancelled_by.nickname}"
));}\n", 0, false); else;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false((' '
));}\n", 0, false);end;_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.signatures_count
));}</td>\n      <td></td>\n", 0, false);
 if proposal.user_id == current_user.id;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}\n", 0, false);
end; if proposal.full_status == 'open';
if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote!', new_proposal_vote_path(proposal)
));}\n", 0, false);else;
_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Voted'
));}</td>\n", 0, false);



end;_hamlout.push_text("    </tr>\n", -1, false);end;_hamlout.push_text("  </thead>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false((will_paginate
));}\n", 0, false);
end; @proposals.each do |proposal|;
_hamlout.open_tag("div", false, false, false, false, {"class"=>"proposal details", "id"=>"proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("  <h3>Proposal</h3>\n  #{

_hamlout.format_script_false_false_false_false_false_true_false((proposal.text
));}\n", 0, false);if proposal.user_id == current_user.id;
_hamlout.push_text("  <h3>Some would vote yes if :</h3>\n  <ul></ul>\n", 0, false);

proposal.votes.each do |vote|;
if !vote.comment.empty?;
_hamlout.push_text("  <li>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((vote.comment
));}</li>\n", 0, false);
end;end;end;_hamlout.push_text("</div>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})\n", _hamlout.options))
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:70: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:73: syntax error, unexpected $end, expecting kEND) on line #70 of app/views/proposals/index.html.haml:
67:       
68:   :javascript    
69:     $('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})

    app/views/proposals/index.html.haml:73:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:25:27) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (3.5ms)[0m   [0;1mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 217ms (View: 161, DB: 6) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.3ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.2ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (1.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 70, DB: 7) | 200 OK [http://localhost/]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:14) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (3.0ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.4ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (1.1ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 127ms (View: 61, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_signatures_count]


Processing VotesController#new (for 127.0.0.1 at 2010-08-18 23:26:17) [GET]
  Parameters: {"proposal_id"=>"6"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
Rendering template within layouts/main
Rendering votes/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 41ms (View: 15, DB: 2) | 200 OK [http://localhost/proposals/6/votes/new]


Processing VotesController#create (for 127.0.0.1 at 2010-08-18 23:26:21) [POST]
  Parameters: {"vote"=>{"comment"=>"", "value"=>"yes"}, "commit"=>"Vote!", "authenticity_token"=>"GwHHmzZ4SClat5npUTuvU4VfUwuBLanu+ppn8Hz9hks=", "proposal_id"=>"6"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (0.6ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT "signatures".id FROM "signatures" WHERE ("signatures"."user_id" = 1 AND "signatures"."proposal_id" = 6) LIMIT 1[0m
  [4;36;1mSignature Create (2.5ms)[0m   [0;1mINSERT INTO "signatures" ("created_at", "updated_at", "user_id", "proposal_id") VALUES('2010-08-18 21:26:21', '2010-08-18 21:26:21', 1, 6)[0m
  [4;35;1mProposal Load (0.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;36;1mProposal Update (0.8ms)[0m   [0;1mUPDATE "proposals" SET "signatures_count" = COALESCE("signatures_count", 0) + 1 WHERE ("id" = 6) [0m
  [4;35;1mVote Create (1.9ms)[0m   [0mINSERT INTO "votes" ("comment", "created_at", "updated_at", "value", "proposal_id") VALUES('', '2010-08-18 21:26:21', '2010-08-18 21:26:21', 'yes', 6)[0m
  [4;36;1mProposal Update (0.2ms)[0m   [0;1mUPDATE "proposals" SET "updated_at" = '2010-08-18 21:26:21', "yes_count" = 1 WHERE "id" = 6[0m
Redirected to http://localhost:3000/proposals/6/votes/26
Completed in 230ms (DB: 0) | 302 Found [http://localhost/proposals/6/votes]


Processing VotesController#show (for 127.0.0.1 at 2010-08-18 23:26:21) [GET]
  Parameters: {"id"=>"26", "proposal_id"=>"6"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (0.5ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ("proposals"."id" = 6) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM "votes" WHERE ("votes"."id" = 26 AND ("votes".proposal_id = 6)) [0m
Rendering template within layouts/main
Rendering votes/show
Completed in 31ms (View: 8, DB: 1) | 200 OK [http://localhost/proposals/6/votes/26]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:23) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.5ms)[0m   [0mSELECT * FROM "proposals" LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 6 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 105ms (View: 50, DB: 5) | 200 OK [http://localhost/proposals]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:28) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (3.9ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (2.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,2,3,4,5,7,8,9,10,11)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 131ms (View: 58, DB: 8) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:29) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.8ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 201ms (View: 130, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:26:58) [GET]
  Parameters: {"page"=>"2", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.0ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 10[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.3ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;35;1mSignature Load (0.5ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 77ms (View: 24, DB: 3) | 200 OK [http://localhost/proposals?page=2&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:27:17) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.3ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 204ms (View: 133, DB: 6) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:09) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 115ms (View: 55, DB: 5) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:12) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 195ms (View: 55, DB: 5) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:33) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.7ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 96ms (View: 39, DB: 5) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:34) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 99ms (View: 36, DB: 6) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:38) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.6ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 192ms (View: 58, DB: 5) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:28:58) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_after"=>"Wed Aug 18 23:26:58 +0200 2010", "opening_at_before"=>"Wed Aug 18 23:26:58 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.0ms)[0m   [0mSELECT * FROM "proposals" WHERE (((proposals.status = 'open') AND (proposals.closing_at > '2010-08-18 23:26:58')) AND (proposals.opening_at < '2010-08-18 23:26:58')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (2.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,9,10,11)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 118ms (View: 56, DB: 6) | 200 OK [http://localhost/proposals?search%5Bclosing_at_after%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bopening_at_before%5D=Wed+Aug+18+23%3A26%3A58+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:30:36) [GET]
  Parameters: {"page"=>"2", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.0ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 10[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (11,12)) [0m
  [4;36;1mSignature Load (0.5ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 11 OR signatures.proposal_id = 12) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 85ms (View: 38, DB: 4) | 200 OK [http://localhost/proposals?page=2&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:30:57) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (3.0ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.5ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.8ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 179ms (View: 117, DB: 6) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:32:12) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.7ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 118ms (View: 60, DB: 6) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:32:35) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 187ms (View: 63, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:33:51) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `comment' for #<Class:0xb6d6b65c>) on line #29 of app/views/proposals/index.html.haml:
26:             proposes : 
27:           %td{:id=>"link_#{proposal.id}"}
28:             = link_to proposal.text[0..20]+"...","#"
29:             - comments = proposal.votes.comment
30:             -if proposal.user_id == current_user.id && proposal.votes.collect?{|v| !v.comment.empty?}
31:               %br some would vote yes if...
32:           %td= facebook_distance_of_time_in_words proposal.opening_at

    searchlogic (2.4.19) lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
    app/views/proposals/index.html.haml:29:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (186.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:33:55) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.9ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `comments' for #<Class:0xb6d86768>) on line #29 of app/views/proposals/index.html.haml:
26:             proposes : 
27:           %td{:id=>"link_#{proposal.id}"}
28:             = link_to proposal.text[0..20]+"...","#"
29:             - comments = proposal.votes.comments
30:             -if proposal.user_id == current_user.id && proposal.votes.collect?{|v| !v.comment.empty?}
31:               %br some would vote yes if...
32:           %td= facebook_distance_of_time_in_words proposal.opening_at

    searchlogic (2.4.19) lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
    searchlogic (2.4.19) lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
    app/views/proposals/index.html.haml:29:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (136.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:34:14) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (Symbol as array index) on line #29 of app/views/proposals/index.html.haml:
26:             proposes : 
27:           %td{:id=>"link_#{proposal.id}"}
28:             = link_to proposal.text[0..20]+"...","#"
29:             - comments = proposal.votes[:comment]
30:             -if proposal.user_id == current_user.id && proposal.votes.collect?{|v| !v.comment.empty?}
31:               %br some would vote yes if...
32:           %td= facebook_distance_of_time_in_words proposal.opening_at

    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:170:in `method_missing'
    app/views/proposals/index.html.haml:29:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (125.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:35:41) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:30: syntax error, unexpected '?'
if proposal.user_id == current_user.id && ?comments.empty?;
                                           ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Proposals\n</h2>\n<h2>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "My proposals", proposals_path(:search=>{:user_id => current_user.id })
));}\n</h2>\n", -1, false);if @proposals.empty?;
_hamlout.push_text("No proposal\n", 0, false);
else;
_hamlout.push_text("<table class='proposals'>\n  <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);
end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order @search, :by => :yes_count, :as=> 'Results'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => :signatures_count, :as => 'Signatures'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>\n        #{

_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( proposal.user.nickname
));}\n        proposes :\n      </td>\n", -1, false);
_hamlout.open_tag("td", false, false, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to proposal.text[0..20]+"...","#"
));}\n", 0, false); comments = proposal.votes.collect{|v| c.comment};
if proposal.user_id == current_user.id && ?comments.empty?;
_hamlout.push_text("        <br>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(("#{comments.size} would vote yes if..."
));}</br>\n", 0, false);end;_hamlout.push_text("      </td>\n      <td>#{_hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      <td></td>\n", 0, false);
 if proposal.full_status == 'closed';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}\n", 0, false); elsif proposal.full_status == 'cancelled';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Vetoed by #{proposal.cancelled_by.nickname}"
));}\n", 0, false); else;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false((' '
));}\n", 0, false);end;_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.signatures_count
));}</td>\n      <td>\n", 1, false);
 if proposal.user_id == current_user.id;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}\n", 0, false);end; if proposal.full_status == 'open';
 if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote!', new_proposal_vote_path(proposal)
));}\n", 0, false); else;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( 'Voted'
));}\n", 0, false);



end;end;_hamlout.push_text("      </td>\n    </tr>\n", -2, false);end;_hamlout.push_text("  </thead>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false((will_paginate
));}\n", 0, false);
end; @proposals.each do |proposal|;
_hamlout.open_tag("div", false, false, false, false, {"class"=>"proposal details", "id"=>"proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("  <h3>Proposal</h3>\n  #{

_hamlout.format_script_false_false_false_false_false_true_false((proposal.text
));}\n", 0, false);if proposal.user_id == current_user.id && !proposal.votes.all?{|v| v.comment.empty?};
_hamlout.push_text("  <h3>Some would vote yes if :</h3>\n  <ul></ul>\n", 0, false);

proposal.votes.each do |vote|;
if !vote.comment.empty?;
_hamlout.push_text("  <li>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((vote.comment
));}</li>\n", 0, false);
end;end;end;_hamlout.push_text("</div>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})\n", _hamlout.options))
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:30: syntax error, unexpected '?'
if proposal.user_id == current_user.id && ?comments.empty?;
                                           ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting $end) on line #30 of app/views/proposals/index.html.haml:
27:           %td{:id=>"link_#{proposal.id}"}
28:             = link_to proposal.text[0..20]+"...","#"
29:             - comments = proposal.votes.collect{|v| c.comment}
30:             -if proposal.user_id == current_user.id && ?comments.empty?
31:               %br="#{comments.size} would vote yes if..."
32:           %td= facebook_distance_of_time_in_words proposal.opening_at
33:           %td= facebook_distance_of_time_in_words proposal.closing_at

    app/views/proposals/index.html.haml:71:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (54.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:35:48) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.7ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `c' for #<ActionView::Base:0xb70481b8>) on line #29 of app/views/proposals/index.html.haml:
26:             proposes : 
27:           %td{:id=>"link_#{proposal.id}"}
28:             = link_to proposal.text[0..20]+"...","#"
29:             - comments = proposal.votes.collect{|v| c.comment}
30:             -if proposal.user_id == current_user.id && !comments.empty?
31:               %br="#{comments.size} would vote yes if..."
32:           %td= facebook_distance_of_time_in_words proposal.opening_at

    app/views/proposals/index.html.haml:29:in `_run_haml_app47views47proposals47index46html46haml'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.14/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/proposals/index.html.haml:29:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (56.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:36:20) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 199ms (View: 67, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:37:05) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 243ms (View: 186, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:37:39) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (4.5ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (2.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 129ms (View: 65, DB: 9) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:38:03) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.0ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 238ms (View: 72, DB: 6) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:38:21) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
ERROR: compiling _run_haml_app47views47proposals47index46html46haml RAISED compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:74: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47proposals47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :escape_html=>false, :format=>:xhtml, :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h2>\n  Proposals\n</h2>\n<h2>\n  #{


_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(( link_to 'All', proposals_path
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Ongoing", proposals_path(:search=>{:opening_at_before => Time.now, :closing_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Decisions", proposals_path(:search=>{:closing_at_before => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Pending", proposals_path(:search=>{:opening_at_after => Time.now, :status_equals => 'open' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Cancelled", proposals_path(:search=>{:status_equals => 'cancelled' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "Withdrawn", proposals_path(:search=>{:status_equals => 'withdrawn' })
));}\n  #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to "My proposals", proposals_path(:search=>{:user_id => current_user.id })
));}\n</h2>\n", -1, false);if @proposals.empty?;
_hamlout.push_text("No proposal\n", 0, false);
else;
_hamlout.push_text("<table class='proposals'>\n  <thead>\n", 2, false);

 [:user,:text,:opening_at,:closing_at,:status].each do |attribute|;
_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => attribute
));}</th>\n", 0, false);
end;_hamlout.push_text("    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order @search, :by => :yes_count, :as=> 'Results'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((order  @search, :by => :signatures_count, :as => 'Signatures'
));}</th>\n    <th>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false(('Action'
));}</th>\n", 0, false); @proposals.each do |proposal|;
_hamlout.push_text("    <tr>\n      <td>\n        #{

_hamlout.adjust_tabs(2); _hamlout.format_script_false_false_false_false_false_true_false(( proposal.user.nickname
));}\n        proposes :\n      </td>\n", -1, false);
_hamlout.open_tag("td", false, false, false, false, {}, false, false, nil, nil, :id=>"link_#{proposal.id}");_hamlout.push_text("        #{
_hamlout.format_script_false_false_false_false_false_true_false(( link_to proposal.text[0..20]+"...","#"
));}\n", 0, false); comments = proposal.votes.collect{|v| v.comment};
if proposal.user_id == current_user.id && !comments.empty?;
_hamlout.push_text("        <br>\n          #{
_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_false_false_true_false(("#{comments.size} would vote yes if..."
));}\n        </br>\n      </td>\n      <td>#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.opening_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((facebook_distance_of_time_in_words proposal.closing_at
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.full_status
));}</td>\n      <td></td>\n", 0, false);
 if proposal.full_status == 'closed';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(("Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
));}\n", 0, false); elsif proposal.full_status == 'cancelled';
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false(( "Vetoed by #{proposal.cancelled_by.nickname}"
));}\n", 0, false); else;
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_false_false_true_false((' '
));}\n", 0, false);end;_hamlout.push_text("      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((proposal.signatures_count
));}</td>\n      <td>\n", 1, false);
 if proposal.user_id == current_user.id;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Withdraw!', withdraw_proposal_path(proposal)
));}\n", 0, false);end; if proposal.full_status == 'open';
 if @signatures.find_all{|s| s.proposal_id==proposal.id}.empty?;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( link_to 'Vote!', new_proposal_vote_path(proposal)
));}\n", 0, false); else;
_hamlout.push_text("        #{_hamlout.format_script_false_false_false_false_false_true_false(( 'Voted'
));}\n", 0, false);



end;end;_hamlout.push_text("      </td>\n    </tr>\n", -2, false);end;_hamlout.push_text("  </thead>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_false_false_true_false((will_paginate
));}\n", 0, false);
end; @proposals.each do |proposal|;
_hamlout.open_tag("div", false, false, false, false, {"class"=>"proposal details", "id"=>"proposal"}, false, false, nil, nil, :id=>proposal.id);_hamlout.push_text("  <h3>Proposal</h3>\n  #{

_hamlout.format_script_false_false_false_false_false_true_false((proposal.text
));}\n", 0, false);if proposal.user_id == current_user.id && !proposal.votes.all?{|v| v.comment.empty?};
_hamlout.push_text("  <h3>Some would vote yes if :</h3>\n  <ul></ul>\n", 0, false);

proposal.votes.each do |vote|;
if !vote.comment.empty?;
_hamlout.push_text("  <li>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_false_false_true_false((vote.comment
));}</li>\n", 0, false);
end;end;end;_hamlout.push_text("</div>\n#{
_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_false_false_true_false((find_and_preserve(Haml::Filters::Javascript.render_with_options("$('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})\n", _hamlout.options))
));}\n", 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:74:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-openid-1.1.1/lib/rack/openid.rb:97:in `call'
/usr/lib/ruby/gems/1.8/gems/haml-3.0.12/rails/../lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:71: syntax error, unexpected kENSURE, expecting kEND
..., 0, false);end;_erbout;ensure;@haml_buffer = @haml_buffer.u...
                              ^
/home/mag/dev/dynamocracy/app/views/proposals/index.html.haml:74: syntax error, unexpected $end, expecting kEND) on line #71 of app/views/proposals/index.html.haml:
68:       
69:   :javascript    
70:     $('#link_#{proposal.id}').bind('click', function() {$('#proposal_#{proposal.id}').dialog({ modal: true, title: '#{proposal.user.nickname} proposes :' ,height:400, width:600  });return false;})

    app/views/proposals/index.html.haml:74:in `compile!'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (130.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:38:30) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 108ms (View: 55, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:39:44) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 111ms (View: 57, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:41:08) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (6.3ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 279ms (View: 142, DB: 9) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:41:39) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (1.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 66, DB: 6) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:42:00) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.8ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 161ms (View: 34, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:42:12) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.4ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 104ms (View: 54, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:42:12) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 96ms (View: 40, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:42:37) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (3.2ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.3ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index

ActionView::TemplateError (undefined method `nickname' for nil:NilClass) on line #41 of app/views/proposals/index.html.haml:
38:             
39:           ="Yes:#{proposal.yes_count}, Support:#{proposal.support_count}, No:#{proposal.no_count}, Pass:#{proposal.pass_count}"
40:           - elsif proposal.full_status == 'cancelled'
41:           = "Vetoed by #{proposal.cancelled_by.nickname}"          
42:           %td= proposal.signatures_count
43:           %td
44:             - if proposal.user_id == current_user.id

    app/views/proposals/index.html.haml:41:in `_run_haml_app47views47proposals47index46html46haml'
    app/views/proposals/index.html.haml:22:in `each'
    app/views/proposals/index.html.haml:22:in `_run_haml_app47views47proposals47index46html46haml'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (3.0.12) rails/./lib/sass/plugin/rack.rb:41:in `call'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:42:54) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 232ms (View: 152, DB: 5) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:08) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.8ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 129ms (View: 67, DB: 6) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:19) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (6.9ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 219ms (View: 78, DB: 10) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:50) [GET]
  Parameters: {"page"=>"1", "search"=>{"order"=>"descend_by_signatures_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (4.3ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.signatures_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.0ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (6,1,2,3,4,5,7,8,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 6 OR signatures.proposal_id = 1 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 8 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 128ms (View: 63, DB: 7) | 200 OK [http://localhost/proposals?page=1&search%5Border%5D=descend_by_signatures_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:54) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (3.2ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.9ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.7ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 114ms (View: 51, DB: 7) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:56) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_yes_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.6ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.yes_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.0ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,2,3,4,5,7,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 175ms (View: 112, DB: 5) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:43:59) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 103ms (View: 45, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:44:32) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 188ms (View: 133, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:00) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (2.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 127ms (View: 66, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:08) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (18.1ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 196ms (View: 65, DB: 21) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:11) [GET]
  Parameters: {"search"=>{"order"=>"ascend_by_yes_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.6ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count ASC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.6ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7,9,10,11,12,1)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.6ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10 OR signatures.proposal_id = 11 OR signatures.proposal_id = 12 OR signatures.proposal_id = 1) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 169ms (View: 115, DB: 6) | 200 OK [http://localhost/proposals?search%5Border%5D=ascend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:12) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_yes_count"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (2.7ms)[0m   [0;1mSELECT * FROM "proposals" ORDER BY proposals.yes_count DESC LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (1.1ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,2,3,4,5,7,9,10)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;35;1mSignature Load (0.6ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 102ms (View: 45, DB: 5) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:19) [GET]
  Parameters: {"search"=>{"order"=>"descend_by_yes_count"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (2.4ms)[0m   [0mSELECT * FROM "proposals" ORDER BY proposals.yes_count DESC LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (1.1ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (1,6,8,2,3,4,5,7,9,10)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "proposals" [0m
  [4;36;1mSignature Load (0.7ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 1 OR signatures.proposal_id = 6 OR signatures.proposal_id = 8 OR signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7 OR signatures.proposal_id = 9 OR signatures.proposal_id = 10) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 227ms (View: 95, DB: 5) | 200 OK [http://localhost/proposals?search%5Border%5D=descend_by_yes_count]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:45:25) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Wed Aug 18 23:45:19 +0200 2010"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.status = 'open') AND (proposals.closing_at < '2010-08-18 23:45:19')) LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7)) [0m
  [4;35;1mSignature Load (0.3ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 80ms (View: 33, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Wed+Aug+18+23%3A45%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:50:35) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Wed Aug 18 23:45:19 +0200 2010"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mProposal Load (1.5ms)[0m   [0mSELECT * FROM "proposals" WHERE ((proposals.status = 'open') AND (proposals.closing_at < '2010-08-18 23:45:19')) LIMIT 10 OFFSET 0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7)) [0m
  [4;36;1mSignature Load (0.3ms)[0m   [0;1mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 101ms (View: 50, DB: 3) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Wed+Aug+18+23%3A45%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]


Processing ProposalsController#index (for 127.0.0.1 at 2010-08-18 23:52:00) [GET]
  Parameters: {"search"=>{"status_equals"=>"open", "closing_at_before"=>"Wed Aug 18 23:45:19 +0200 2010"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mProposal Load (1.4ms)[0m   [0;1mSELECT * FROM "proposals" WHERE ((proposals.status = 'open') AND (proposals.closing_at < '2010-08-18 23:45:19')) LIMIT 10 OFFSET 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT "votes".* FROM "votes" WHERE ("votes".proposal_id IN (2,3,4,5,7)) [0m
  [4;35;1mSignature Load (0.2ms)[0m   [0mSELECT * FROM "signatures" WHERE ((signatures.proposal_id = 2 OR signatures.proposal_id = 3 OR signatures.proposal_id = 4 OR signatures.proposal_id = 5 OR signatures.proposal_id = 7) AND (signatures.user_id = 1)) [0m
Rendering template within layouts/main
Rendering proposals/index
Completed in 153ms (View: 111, DB: 2) | 200 OK [http://localhost/proposals?search%5Bclosing_at_before%5D=Wed+Aug+18+23%3A45%3A19+%2B0200+2010&search%5Bstatus_equals%5D=open]
